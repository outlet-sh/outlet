import"../chunks/Bzak7iHL.js";import{p as xt,u as ft,b as u,d as N,f as F,a as ht,h as gt,s as t,$ as $t,g as r,c as e,r as a,t as $,n as L,e as bt}from"../chunks/Ip2DykXx.js";import{s as c}from"../chunks/DhOIAuLg.js";import{f as i,a as s,t as H,c as yt}from"../chunks/BPgbRZ5o.js";import{i as w}from"../chunks/BeCi3WIf.js";import{h as wt}from"../chunks/vHZS38u2.js";import{w as kt,x as Ct}from"../chunks/CtwFYI68.js";import{A as Ut,C as J,B as rt,a as Pt}from"../chunks/Bphptf_a.js";import{L as Et}from"../chunks/sFH_xjRy.js";import{B as Q}from"../chunks/CK6k7lQK.js";import{R as It}from"../chunks/CQK8yWuM.js";import{C as Lt}from"../chunks/DHzbXXRd.js";import{D as Rt}from"../chunks/BZpcwiXl.js";var St=i("<p> </p>"),jt=i('<div class="mb-6"><!></div>'),Ft=i('<div class="space-y-3"><div class="flex items-center justify-between"><span class="text-sm text-text-muted">Version</span> <!></div> <div class="flex items-center justify-between"><span class="text-sm text-text-muted">Commit</span> <code class="text-sm font-mono text-text"> </code></div> <div class="flex items-center justify-between"><span class="text-sm text-text-muted">Build Date</span> <span class="text-sm text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-sm text-text-muted">Go Version</span> <span class="text-sm text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-sm text-text-muted">Platform</span> <span class="text-sm text-text"> </span></div></div>'),Ot=i('<h2 class="text-lg font-medium text-text mb-4">Current Version</h2> <!>',1),Bt=i("<!> ",1),Dt=i('<p class="text-sm text-text-muted mt-2"> </p>'),Vt=i(`<div class="mt-4"><h4 class="text-sm font-medium text-text mb-2">What's New</h4> <div class="text-sm text-text-muted bg-bg-secondary rounded p-3 whitespace-pre-wrap"> </div></div>`),Yt=i("<!> Download Update",1),At=i('<div class="mt-4"><!></div>'),Nt=i(`<div class="bg-primary/10 border border-primary/20 rounded-lg p-4"><div class="flex items-start gap-3"><!> <div class="flex-1"><h3 class="font-medium text-text">Update Available</h3> <p class="text-sm text-text-muted mt-1">A new version <!> is available.
									You are currently running <!>.</p> <!> <!> <!> <div class="mt-4 text-sm text-text-muted"><p>To update via CLI, run:</p> <code class="block bg-bg-secondary rounded p-2 mt-1 font-mono">outlet update</code></div></div></div></div>`),Tt=i(`<div class="bg-green-500/10 border border-green-500/20 rounded-lg p-4"><div class="flex items-center gap-3"><!> <div><h3 class="font-medium text-text">You're up to date!</h3> <p class="text-sm text-text-muted mt-1"> </p></div></div></div>`),Kt=i('<div class="text-center py-8 text-text-muted"><p>Click "Check for Updates" to see if a new version is available.</p></div>'),qt=i('<div class="flex items-center justify-between mb-4"><h2 class="text-lg font-medium text-text">Update Status</h2> <!></div> <!>',1),zt=i('<h2 class="text-lg font-medium text-text mb-4">Update Instructions</h2> <div class="space-y-4 text-sm text-text-muted"><div><h3 class="font-medium text-text mb-2">CLI Update (Recommended)</h3> <p>Run the update command to automatically download and install the latest version:</p> <code class="block bg-bg-secondary rounded p-3 mt-2 font-mono">outlet update --license-key=YOUR_LICENSE_KEY</code> <p class="mt-2 text-xs">Or set the OUTLET_LICENSE_KEY environment variable.</p></div> <div><h3 class="font-medium text-text mb-2">Manual Update</h3> <ol class="list-decimal list-inside space-y-1"><li>Download the latest release for your platform</li> <li>Stop the current Outlet.sh instance</li> <li>Replace the binary with the new version</li> <li>Start Outlet.sh again</li></ol></div></div>',1),Gt=i('<div class="space-y-6"><!> <!> <!></div>'),Mt=i("<!> <!>",1);function le(st,ot){xt(ot,!0);let G=N(!0),O=N(!1),b=N(null),n=N(null),R=N("");ft(()=>{it()});async function it(){u(G,!0),u(R,"");try{u(b,await kt(),!0)}catch(o){console.error("Failed to load version info:",o),u(R,o.message||"Failed to load version information",!0)}finally{u(G,!1)}}async function dt(){u(O,!0),u(R,"");try{u(n,await Ct(),!0)}catch(o){console.error("Failed to check for updates:",o),u(R,o.message||"Failed to check for updates",!0)}finally{u(O,!1)}}var X=Mt();wt("cvqhxa",o=>{gt(()=>{$t.title="Updates - Settings"})});var Z=F(X);{var lt=o=>{var k=jt(),T=e(k);Ut(T,{type:"error",title:"Error",children:(K,tt)=>{var _=St(),q=e(_,!0);a(_),$(()=>c(q,r(R))),s(K,_)},$$slots:{default:!0}}),a(k),s(o,k)};w(Z,o=>{r(R)&&o(lt)})}var nt=t(Z,2);{var vt=o=>{Et(o,{size:"large"})},ct=o=>{var k=Gt(),T=e(k);J(T,{children:(_,q)=>{var C=Ot(),B=t(F(C),2);{var M=D=>{var V=Ft(),Y=e(V),p=t(e(Y),2);Q(p,{type:"primary",children:(z,et)=>{L();var A=H();$(()=>c(A,r(b).version)),s(z,A)},$$slots:{default:!0}}),a(Y);var x=t(Y,2),U=t(e(x),2),S=e(U,!0);a(U),a(x);var P=t(x,2),m=t(e(P),2),f=e(m,!0);a(m),a(P);var h=t(P,2),y=t(e(h),2),E=e(y,!0);a(y),a(h);var g=t(h,2),I=t(e(g),2),W=e(I);a(I),a(g),a(V),$(()=>{c(S,r(b).commit),c(f,r(b).build_date),c(E,r(b).go_version),c(W,`${r(b).os??""}/${r(b).arch??""}`)}),s(D,V)};w(B,D=>{r(b)&&D(M)})}s(_,C)},$$slots:{default:!0}});var K=t(T,2);J(K,{children:(_,q)=>{var C=qt(),B=F(C),M=t(e(B),2);rt(M,{type:"secondary",onclick:dt,get disabled(){return r(O)},children:(p,x)=>{var U=Bt(),S=F(U);{let m=bt(()=>r(O)?"animate-spin":"");It(S,{get class(){return`mr-2 h-4 w-4 ${r(m)??""}`}})}var P=t(S);$(()=>c(P,` ${r(O)?"Checking...":"Check for Updates"}`)),s(p,U)},$$slots:{default:!0}}),a(B);var D=t(B,2);{var V=p=>{var x=yt(),U=F(x);{var S=m=>{var f=Nt(),h=e(f),y=e(h);Lt(y,{class:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"});var E=t(y,2),g=t(e(E),2),I=t(e(g));Q(I,{type:"success",children:(d,l)=>{L();var v=H();$(()=>c(v,r(n).latest_version)),s(d,v)},$$slots:{default:!0}});var W=t(I,2);Q(W,{type:"secondary",children:(d,l)=>{L();var v=H();$(()=>c(v,r(n).current_version)),s(d,v)},$$slots:{default:!0}}),L(),a(g);var z=t(g,2);{var et=d=>{var l=Dt(),v=e(l);a(l),$(()=>c(v,`Released: ${r(n).release_date??""}`)),s(d,l)};w(z,d=>{r(n).release_date&&d(et)})}var A=t(z,2);{var mt=d=>{var l=Vt(),v=t(e(l),2),j=e(v,!0);a(v),a(l),$(()=>c(j,r(n).changelog)),s(d,l)};w(A,d=>{r(n).changelog&&d(mt)})}var pt=t(A,2);{var ut=d=>{var l=At(),v=e(l);rt(v,{type:"primary",onclick:()=>{var j;return window.open((j=r(n))==null?void 0:j.download_url,"_blank")},children:(j,Wt)=>{var at=Yt(),_t=F(at);Rt(_t,{class:"mr-2 h-4 w-4"}),L(),s(j,at)},$$slots:{default:!0}}),a(l),s(d,l)};w(pt,d=>{r(n).download_url&&d(ut)})}L(2),a(E),a(h),a(f),s(m,f)},P=m=>{var f=Tt(),h=e(f),y=e(h);Pt(y,{class:"h-5 w-5 text-green-500"});var E=t(y,2),g=t(e(E),2),I=e(g);a(g),a(E),a(h),a(f),$(()=>c(I,`Outlet.sh ${r(n).current_version??""} is the latest version.`)),s(m,f)};w(U,m=>{r(n).update_available?m(S):m(P,!1)})}s(p,x)},Y=p=>{var x=Kt();s(p,x)};w(D,p=>{r(n)?p(V):p(Y,!1)})}s(_,C)},$$slots:{default:!0}});var tt=t(K,2);J(tt,{children:(_,q)=>{var C=zt();L(2),s(_,C)},$$slots:{default:!0}}),a(k),s(o,k)};w(nt,o=>{r(G)?o(vt):o(ct,!1)})}s(st,X),ht()}export{le as component};
