import"../chunks/DsnmJJEf.js";import{f as U,p as Et,u as Ge,i as e,s as p,b as r,j as We,d as Ut,h as s,c as t,r as a,t as O,n as d}from"../chunks/DDjrJUyi.js";import{d as Lt,s as X}from"../chunks/CwHIudaz.js";import{c as Fe,a as l,f as o,t as Qe}from"../chunks/DbkN8AN9.js";import{l as At,s as zt,i as A}from"../chunks/CGvWOYBA.js";import{r as Me}from"../chunks/aSjiVL0V.js";import{a as Dt,s as Rt,i as Yt,A as Gt,B as Z,X as et,I as ae,t as tt,C as le,c as Wt,l as mt,u as Be}from"../chunks/DkmOYVX9.js";import{s as Mt,a as Bt}from"../chunks/Bcmc20em.js";import{p as Ft}from"../chunks/BtCD1IG0.js";import{g as It}from"../chunks/C_3eB2yc.js";import{a0 as Ht,C as Nt,ah as qt}from"../chunks/yWEY6ChK.js";import{L as Vt}from"../chunks/BWhLmYGf.js";import{T as at}from"../chunks/CB6sYNl9.js";import{g as Ot}from"../chunks/BJzuI-Pd.js";import{S as st}from"../chunks/wi6q-NiZ.js";import"../chunks/BrWG_zvm.js";import{T as Xt}from"../chunks/DQqcPUXs.js";function rt(Ie,ke){const Se=At(ke,["children","$$slots","$$events","$$legacy"]);const He=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];Dt(Ie,zt({name:"pencil"},()=>Se,{get iconNode(){return He},children:(Ne,qe)=>{var fe=Fe(),Ve=U(fe);Rt(Ve,ke,"default",{}),l(Ne,fe)},$$slots:{default:!0}}))}var Zt=o("<p> </p>"),Jt=o('<div class="flex justify-center py-12"><!></div>'),Kt=o('<h2 class="text-lg font-medium text-text mb-4">General</h2> <div class="space-y-4"><div><label for="list-name" class="form-label">List Name</label> <!></div> <div><label for="list-desc" class="form-label">Description</label> <!></div> <div><label class="form-label">Slug</label> <p class="text-sm text-text-muted bg-bg-secondary px-3 py-2 rounded-md"> </p> <p class="mt-1 text-xs text-text-muted">The slug cannot be changed after creation</p></div> <div><!> <p class="text-xs text-text-muted mt-1 ml-6">Subscribers must confirm their email before being added</p></div></div>',1),Qt=o("<!> Edit Email",1),ea=o('<span class="text-text-muted ml-2"> </span>'),ta=o('<span class="text-text-muted/50 ml-2 italic">Using default: "Please confirm your subscription"</span>'),aa=o('<span class="text-text-muted ml-2"> </span>'),sa=o('<span class="text-text-muted/50 ml-2 italic">Using default confirmation email template</span>'),ra=o('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Confirmation Email</h2> <p class="text-sm text-text-muted">Email sent to confirm subscription (double opt-in)</p></div> <!></div> <div class="bg-bg-secondary rounded-lg p-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div>',1),ia=o('<div><label for="confirm-redirect-url" class="form-label">Subscription Confirmed Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone confirms their subscription (clicks the confirmation link).</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic confirmation page will be shown if left empty.</p></div>'),la=o('<h2 class="text-lg font-medium text-text mb-2">Subscribe Settings</h2> <p class="text-sm text-text-muted mb-4">Configure redirect URLs for new subscribers.</p> <div class="space-y-4"><div><label for="thank-you-url" class="form-label">Subscribe Success Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone submits the subscribe form (before confirmation if double opt-in).</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic success page will be shown if left empty.</p></div> <!> <div><label for="already-subscribed-url" class="form-label">Already Subscribed Redirect URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect if someone tries to subscribe but is already on the list.</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic "already subscribed" page will be shown if left empty.</p></div></div>',1),oa=o('<span class="text-text-muted ml-2"> </span>'),da=o('<span class="text-text-muted/50 ml-2 italic">Using default: "Welcome!"</span>'),na=o('<span class="text-text-muted ml-2"> </span>'),ca=o('<span class="text-text-muted/50 ml-2 italic">Using default welcome email template</span>'),va=o("<!> Edit Email",1),ua=o('<div class="border-t border-border pt-4"><div class="flex items-center justify-between mb-3"><div class="bg-bg-secondary rounded-lg p-4 flex-1 mr-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div> <!></div></div>'),ma=o('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Thank You Email</h2> <p class="text-sm text-text-muted">Send a welcome email after successful subscription</p></div> <!></div> <!>',1),ba=o('<h2 class="text-lg font-medium text-text mb-4">Unsubscribe Settings</h2> <div class="space-y-4"><div><label class="form-label">Unsubscribe Behavior</label> <div class="space-y-2"><label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-behavior" class="radio radio-primary"/> <div><span class="font-medium text-text">Single opt-out</span> <p class="text-sm text-text-muted">Immediately unsubscribe when they click the link</p></div></label> <label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-behavior" class="radio radio-primary"/> <div><span class="font-medium text-text">Double opt-out</span> <p class="text-sm text-text-muted">Require confirmation before unsubscribing</p></div></label></div></div> <div><label class="form-label">Unsubscribe Scope</label> <div class="space-y-2"><label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-scope" class="radio radio-primary"/> <div><span class="font-medium text-text">This list only</span> <p class="text-sm text-text-muted">Unsubscribe from this list, but stay on other lists</p></div></label> <label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-scope" class="radio radio-primary"/> <div><span class="font-medium text-text">All lists</span> <p class="text-sm text-text-muted">Unsubscribe from all lists in the organization</p></div></label></div></div> <div><label for="unsubscribe-redirect-url" class="form-label">Unsubscribe Confirmation Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone unsubscribes.</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic unsubscribe confirmation page will be shown if left empty.</p></div></div>',1),pa=o('<span class="text-text-muted ml-2"> </span>'),fa=o('<span class="text-text-muted/50 ml-2 italic">Using default: "Sorry to see you go"</span>'),xa=o('<span class="text-text-muted ml-2"> </span>'),_a=o('<span class="text-text-muted/50 ml-2 italic">Using default goodbye email template</span>'),ga=o("<!> Edit Email",1),ha=o('<div class="border-t border-border pt-4"><div class="flex items-center justify-between mb-3"><div class="bg-bg-secondary rounded-lg p-4 flex-1 mr-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div> <!></div></div>'),ya=o('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Goodbye Email</h2> <p class="text-sm text-text-muted">Send a farewell email after unsubscribing</p></div> <!></div> <!>',1),$a=o(`<div class="flex items-center justify-between"><p class="text-sm text-text-muted">Save all changes to this list's settings</p> <!></div>`),wa=o("<!> Delete List",1),ka=o('<h2 class="text-lg font-medium text-red-600 mb-4">Danger Zone</h2> <p class="text-sm text-text-muted mb-4">Permanently delete this list and all its subscribers. This action cannot be undone.</p> <!>',1),Sa=o('<div class="space-y-6"><!> <!> <!> <!> <!> <!> <!> <!></div>'),Ta=o("<!> Cancel",1),Pa=o("<!> ",1),Ca=o(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Confirmation Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="conf-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent when someone subscribes to your list with double opt-in enabled.
								It must include a confirmation link for the subscriber to click.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <div class="bg-warning/10 border border-warning/30 rounded-lg p-4"><h4 class="text-sm font-medium text-warning mb-2">Required Variable</h4> <p class="text-xs text-base-content/70">Don't forget to include the confirmation link tag <code class="bg-base-300 px-1 rounded"></code> somewhere in your message.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">Personalization Tags</h4> <p class="text-xs text-base-content/70 mb-2">Use these tags to personalize your email:</p> <div class="space-y-1 text-xs font-mono"><div><code class="bg-base-300 px-1 rounded"></code> - Subscriber name</div> <div><code class="bg-base-300 px-1 rounded"></code> - Subscriber email</div> <div><code class="bg-base-300 px-1 rounded"></code> - Name with fallback</div></div></div></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="conf-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),ja=o("<!> Cancel",1),Ea=o("<!> ",1),Ua=o(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Thank You Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="ty-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent after someone successfully subscribes to your list.
								Use it to welcome new subscribers and set expectations.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">Personalization Tags</h4> <p class="text-xs text-base-content/70 mb-2">Use these tags to personalize your email:</p> <div class="space-y-1 text-xs font-mono"><div><code class="bg-base-300 px-1 rounded"></code> - Subscriber name</div> <div><code class="bg-base-300 px-1 rounded"></code> - Subscriber email</div> <div><code class="bg-base-300 px-1 rounded"></code> - With fallback</div></div></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">Date Tags</h4> <div class="space-y-1 text-xs font-mono"><div><code class="bg-base-300 px-1 rounded"></code> - Day name</div> <div><code class="bg-base-300 px-1 rounded"></code> - Month name</div> <div><code class="bg-base-300 px-1 rounded"></code> - Year</div></div></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">Link Tags</h4> <div class="space-y-1 text-xs font-mono"><div><code class="bg-base-300 px-1 rounded"></code> - Unsubscribe</div> <div><code class="bg-base-300 px-1 rounded"></code> - Web version</div></div></div></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="ty-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),La=o("<!> Cancel",1),Aa=o("<!> ",1),za=o(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Goodbye Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="bye-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent after someone unsubscribes from your list.
								Consider including a way for them to resubscribe if they change their mind.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">Personalization Tags</h4> <p class="text-xs text-base-content/70 mb-2">Use these tags to personalize your email:</p> <div class="space-y-1 text-xs font-mono"><div><code class="bg-base-300 px-1 rounded"></code> - Subscriber name</div> <div><code class="bg-base-300 px-1 rounded"></code> - Subscriber email</div> <div><code class="bg-base-300 px-1 rounded"></code> - With fallback</div></div></div> <div class="bg-info/10 border border-info/30 rounded-lg p-4"><h4 class="text-sm font-medium text-info mb-2">Resubscribe Link</h4> <p class="text-xs text-base-content/70">Include <code class="bg-base-300 px-1 rounded"></code> to let unsubscribed users easily rejoin your list.</p></div></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="bye-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),Da=o("<!> <!> <!> <!> <!> <!>",1);function Qa(Ie,ke){Et(ke,!0);const Se=()=>Bt(Ft,"$page",He),[He,Ne]=Mt(),qe=[],fe=[],Ve=Ot();let Oe=We(()=>Se().params.id),bt=We(()=>`/${Se().params.orgSlug}`),Xe=p(!0),E=p(null),oe=p(""),Te=p(!1),Pe=p(!1),xe=p(""),Ce=p(""),de=p(!0),ne=p(""),K=p(""),_e=p(""),je=p(""),Ee=p(""),Ue=p(""),ge=p(!1),ce=p(""),Q=p(""),he=p(""),ve=p("single"),ue=p("list"),Le=p(""),ye=p(!1),me=p(""),ee=p(""),$e=p(""),Ae=p(!1),Ze=p(!1),ze=p(!1),De=p(!1),Re=p(!1),se=p(!1),be=p(!1);function pe(n){return n?n.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<br\s*\/?>/gi,`
`).replace(/<\/p>/gi,`

`).replace(/<\/div>/gi,`
`).replace(/<\/li>/gi,`
`).replace(/<a[^>]*href=["']([^"']*)["'][^>]*>([^<]*)<\/a>/gi,"$2 ($1)").replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\n{3,}/g,`

`).trim():""}Ge(()=>{e(K)&&!e(_e).trim()&&r(_e,pe(e(K)),!0)}),Ge(()=>{e(Q)&&!e(he).trim()&&r(he,pe(e(Q)),!0)}),Ge(()=>{e(ee)&&!e($e).trim()&&r($e,pe(e(ee)),!0)});function pt(){r(_e,pe(e(K)),!0)}function ft(){r(he,pe(e(Q)),!0)}function xt(){r($e,pe(e(ee)),!0)}Ge(()=>{it()});async function it(){r(Xe,!0),r(oe,"");try{r(E,await Ht({},e(Oe)),!0),r(xe,e(E).name,!0),r(Ce,e(E).description||"",!0),r(de,e(E).double_optin||!1,!0),r(ne,e(E).confirmation_subject||"",!0),r(K,e(E).confirmation_body||"",!0),r(je,e(E).thank_you_url||"",!0),r(Ee,e(E).confirm_redirect_url||"",!0),r(Ue,e(E).already_subscribed_url||"",!0),r(ge,e(E).thank_you_email_enabled||!1,!0),r(ce,e(E).thank_you_email_subject||"",!0),r(Q,e(E).thank_you_email_body||"",!0),r(ve,e(E).unsubscribe_behavior||"single",!0),r(ue,e(E).unsubscribe_scope||"list",!0),r(Le,e(E).unsubscribe_redirect_url||"",!0),r(ye,e(E).goodbye_email_enabled||!1,!0),r(me,e(E).goodbye_email_subject||"",!0),r(ee,e(E).goodbye_email_body||"",!0)}catch(n){console.error("Failed to load list:",n),r(oe,"Failed to load list settings")}finally{r(Xe,!1)}}async function lt(){if(!(!e(E)||!e(xe).trim())){r(Te,!0),r(Pe,!1),r(oe,"");try{await qt({},{name:e(xe).trim(),description:e(Ce).trim(),double_optin:e(de),confirmation_subject:e(ne).trim()||void 0,confirmation_body:e(K).trim()||void 0,thank_you_url:e(je).trim()||void 0,confirm_redirect_url:e(Ee).trim()||void 0,already_subscribed_url:e(Ue).trim()||void 0,thank_you_email_enabled:e(ge),thank_you_email_subject:e(ce).trim()||void 0,thank_you_email_body:e(Q).trim()||void 0,unsubscribe_behavior:e(ve),unsubscribe_scope:e(ue),unsubscribe_redirect_url:e(Le).trim()||void 0,goodbye_email_enabled:e(ye),goodbye_email_subject:e(me).trim()||void 0,goodbye_email_body:e(ee).trim()||void 0},e(Oe)),await it(),await Ve.reload?.(),r(Pe,!0),setTimeout(()=>{r(Pe,!1)},2e3)}catch(n){r(oe,n.message||"Failed to save settings",!0)}finally{r(Te,!1)}}}async function Je(n){r(se,!0),r(be,!1);try{await lt(),r(be,!0),setTimeout(()=>{n(),r(be,!1)},500)}catch{}finally{r(se,!1)}}async function _t(){r(Ze,!0);try{await Nt({},e(Oe)),It(`${e(bt)}/lists`)}catch(n){r(oe,n.message||"Failed to delete list",!0)}finally{r(Ze,!1)}}function Ke(n){if(!n)return"No content yet";const T=n.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();return T.slice(0,100)+(T.length>100?"...":"")}var ot=Da(),dt=U(ot);{var gt=n=>{Gt(n,{type:"error",title:"Error",class:"mb-4",children:(T,Y)=>{var z=Zt(),G=t(z,!0);a(z),O(()=>X(G,e(oe))),l(T,z)},$$slots:{default:!0}})};A(dt,n=>{e(oe)&&n(gt)})}var nt=s(dt,2);{var ht=n=>{var T=Jt(),Y=t(T);Vt(Y,{}),a(T),l(n,T)},yt=n=>{var T=Fe(),Y=U(T);{var z=G=>{var F=Sa(),re=t(F);le(re,{children:(C,L)=>{var g=Kt(),f=s(U(g),2),x=t(f),j=s(t(x),2);ae(j,{id:"list-name",type:"text",get value(){return e(xe)},set value(w){r(xe,w,!0)}}),a(x);var b=s(x,2),c=s(t(b),2);ae(c,{id:"list-desc",type:"text",placeholder:"Optional description",get value(){return e(Ce)},set value(w){r(Ce,w,!0)}}),a(b);var h=s(b,2),_=s(t(h),2),v=t(_,!0);a(_),d(2),a(h);var m=s(h,2),P=t(m);Wt(P,{label:"Require double opt-in",get checked(){return e(de)},set checked(w){r(de,w,!0)}}),d(2),a(m),a(f),O(()=>X(v,e(E).slug)),l(C,g)},$$slots:{default:!0}});var I=s(re,2);{var B=C=>{le(C,{children:(L,g)=>{var f=ra(),x=U(f),j=s(t(x),2);Z(j,{type:"secondary",onclick:()=>r(ze,!0),children:(i,y)=>{var k=Qt(),$=U(k);rt($,{class:"mr-2 h-4 w-4"}),d(),l(i,k)},$$slots:{default:!0}}),a(x);var b=s(x,2),c=t(b),h=s(t(c),2);{var _=i=>{var y=ea(),k=t(y,!0);a(y),O(()=>X(k,e(ne))),l(i,y)},v=i=>{var y=ta();l(i,y)};A(h,i=>{e(ne)?i(_):i(v,!1)})}a(c);var m=s(c,2),P=s(t(m),2);{var w=i=>{var y=aa(),k=t(y,!0);a(y),O($=>X(k,$),[()=>Ke(e(K))]),l(i,y)},D=i=>{var y=sa();l(i,y)};A(P,i=>{e(K)?i(w):i(D,!1)})}a(m),a(b),l(L,f)},$$slots:{default:!0}})};A(I,C=>{e(de)&&C(B)})}var H=s(I,2);le(H,{children:(C,L)=>{var g=la(),f=s(U(g),4),x=t(f),j=s(t(x),2);ae(j,{id:"thank-you-url",type:"url",placeholder:"https://yoursite.com/thank-you",get value(){return e(je)},set value(v){r(je,v,!0)}}),d(4),a(x);var b=s(x,2);{var c=v=>{var m=ia(),P=s(t(m),2);ae(P,{id:"confirm-redirect-url",type:"url",placeholder:"https://yoursite.com/subscription-confirmed",get value(){return e(Ee)},set value(w){r(Ee,w,!0)}}),d(4),a(m),l(v,m)};A(b,v=>{e(de)&&v(c)})}var h=s(b,2),_=s(t(h),2);ae(_,{id:"already-subscribed-url",type:"url",placeholder:"https://yoursite.com/already-subscribed",get value(){return e(Ue)},set value(v){r(Ue,v,!0)}}),d(4),a(h),a(f),l(C,g)},$$slots:{default:!0}});var W=s(H,2);le(W,{children:(C,L)=>{var g=ma(),f=U(g),x=s(t(f),2);mt(x,{get checked(){return e(ge)},set checked(c){r(ge,c,!0)}}),a(f);var j=s(f,2);{var b=c=>{var h=ua(),_=t(h),v=t(_),m=t(v),P=s(t(m),2);{var w=u=>{var S=oa(),R=t(S,!0);a(S),O(()=>X(R,e(ce))),l(u,S)},D=u=>{var S=da();l(u,S)};A(P,u=>{e(ce)?u(w):u(D,!1)})}a(m);var i=s(m,2),y=s(t(i),2);{var k=u=>{var S=na(),R=t(S,!0);a(S),O(V=>X(R,V),[()=>Ke(e(Q))]),l(u,S)},$=u=>{var S=ca();l(u,S)};A(y,u=>{e(Q)?u(k):u($,!1)})}a(i),a(v);var J=s(v,2);Z(J,{type:"secondary",onclick:()=>r(De,!0),children:(u,S)=>{var R=va(),V=U(R);rt(V,{class:"mr-2 h-4 w-4"}),d(),l(u,R)},$$slots:{default:!0}}),a(_),a(h),l(c,h)};A(j,c=>{e(ge)&&c(b)})}l(C,g)},$$slots:{default:!0}});var ie=s(W,2);le(ie,{children:(C,L)=>{var g=ba(),f=s(U(g),2),x=t(f),j=s(t(x),2),b=t(j),c=t(b);Me(c),c.value=c.__value="single",d(2),a(b);var h=s(b,2),_=t(h);Me(_),_.value=_.__value="double",d(2),a(h),a(j),a(x);var v=s(x,2),m=s(t(v),2),P=t(m),w=t(P);Me(w),w.value=w.__value="list",d(2),a(P);var D=s(P,2),i=t(D);Me(i),i.value=i.__value="all",d(2),a(D),a(m),a(v);var y=s(v,2),k=s(t(y),2);ae(k,{id:"unsubscribe-redirect-url",type:"url",placeholder:"https://yoursite.com/unsubscribed",get value(){return e(Le)},set value($){r(Le,$,!0)}}),d(4),a(y),a(f),Be(qe,[],c,()=>e(ve),$=>r(ve,$)),Be(qe,[],_,()=>e(ve),$=>r(ve,$)),Be(fe,[],w,()=>e(ue),$=>r(ue,$)),Be(fe,[],i,()=>e(ue),$=>r(ue,$)),l(C,g)},$$slots:{default:!0}});var M=s(ie,2);le(M,{children:(C,L)=>{var g=ya(),f=U(g),x=s(t(f),2);mt(x,{get checked(){return e(ye)},set checked(c){r(ye,c,!0)}}),a(f);var j=s(f,2);{var b=c=>{var h=ha(),_=t(h),v=t(_),m=t(v),P=s(t(m),2);{var w=u=>{var S=pa(),R=t(S,!0);a(S),O(()=>X(R,e(me))),l(u,S)},D=u=>{var S=fa();l(u,S)};A(P,u=>{e(me)?u(w):u(D,!1)})}a(m);var i=s(m,2),y=s(t(i),2);{var k=u=>{var S=xa(),R=t(S,!0);a(S),O(V=>X(R,V),[()=>Ke(e(ee))]),l(u,S)},$=u=>{var S=_a();l(u,S)};A(y,u=>{e(ee)?u(k):u($,!1)})}a(i),a(v);var J=s(v,2);Z(J,{type:"secondary",onclick:()=>r(Re,!0),children:(u,S)=>{var R=ga(),V=U(R);rt(V,{class:"mr-2 h-4 w-4"}),d(),l(u,R)},$$slots:{default:!0}}),a(_),a(h),l(c,h)};A(j,c=>{e(ye)&&c(b)})}l(C,g)},$$slots:{default:!0}});var N=s(M,2);le(N,{children:(C,L)=>{var g=$a(),f=s(t(g),2);Z(f,{type:"primary",onclick:lt,get disabled(){return e(Te)},children:(x,j)=>{var b=Fe(),c=U(b);{var h=v=>{var m=Qe("Saving...");l(v,m)},_=v=>{var m=Fe(),P=U(m);{var w=i=>{var y=Qe("Saved!");l(i,y)},D=i=>{var y=Qe("Save Changes");l(i,y)};A(P,i=>{e(Pe)?i(w):i(D,!1)},!0)}l(v,m)};A(c,v=>{e(Te)?v(h):v(_,!1)})}l(x,b)},$$slots:{default:!0}}),a(g),l(C,g)},$$slots:{default:!0}});var q=s(N,2);le(q,{children:(C,L)=>{var g=ka(),f=s(U(g),4);Z(f,{type:"danger",onclick:()=>r(Ae,!0),children:(x,j)=>{var b=wa(),c=U(b);Xt(c,{class:"mr-2 h-4 w-4"}),d(),l(x,b)},$$slots:{default:!0}}),l(C,g)},$$slots:{default:!0}}),a(F),l(G,F)};A(Y,G=>{e(E)&&G(z)},!0)}l(n,T)};A(nt,n=>{e(Xe)?n(ht):n(yt,!1)})}var ct=s(nt,2);{var $t=n=>{var T=Ca(),Y=t(T),z=t(Y),G=s(t(z),2),F=t(G);Z(F,{type:"secondary",onclick:()=>r(ze,!1),children:(i,y)=>{var k=Ta(),$=U(k);et($,{class:"mr-2 h-4 w-4"}),d(),l(i,k)},$$slots:{default:!0}});var re=s(F,2);Z(re,{type:"primary",onclick:()=>Je(()=>r(ze,!1)),get disabled(){return e(se)},children:(i,y)=>{var k=Pa(),$=U(k);st($,{class:"mr-2 h-4 w-4"});var J=s($);O(()=>X(J,` ${e(se)?"Saving...":e(be)?"Saved!":"Save & Close"}`)),l(i,k)},$$slots:{default:!0}}),a(G),a(z);var I=s(z,2),B=t(I),H=t(B),W=t(H),ie=s(t(W),2);ae(ie,{id:"conf-subject",type:"text",placeholder:"Please confirm your subscription",get value(){return e(ne)},set value(i){r(ne,i,!0)}}),d(2),a(W);var M=s(W,4),N=s(t(M),2),q=s(t(N));q.textContent="{{confirm_url}}",d(),a(N),a(M);var C=s(M,2),L=s(t(C),4),g=t(L),f=t(g);f.textContent="{{name}}",d(),a(g);var x=s(g,2),j=t(x);j.textContent="{{email}}",d(),a(x);var b=s(x,2),c=t(b);c.textContent="{{name,fallback=Friend}}",d(),a(b),a(L),a(C),a(H),a(B);var h=s(B,2),_=t(h),v=t(_);tt(v,{placeholder:"Click the link below to confirm your subscription...",class:"h-full",get value(){return e(K)},set value(i){r(K,i,!0)}}),a(_);var m=s(_,2),P=t(m),w=s(t(P),2);w.__click=pt,a(P);var D=s(P,2);at(D,{id:"conf-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e(_e)},set value(i){r(_e,i,!0)}}),d(2),a(m),a(h),a(I),a(Y),a(T),l(n,T)};A(ct,n=>{e(ze)&&n($t)})}var vt=s(ct,2);{var wt=n=>{var T=Ua(),Y=t(T),z=t(Y),G=s(t(z),2),F=t(G);Z(F,{type:"secondary",onclick:()=>r(De,!1),children:(te,Ct)=>{var we=ja(),Ye=U(we);et(Ye,{class:"mr-2 h-4 w-4"}),d(),l(te,we)},$$slots:{default:!0}});var re=s(F,2);Z(re,{type:"primary",onclick:()=>Je(()=>r(De,!1)),get disabled(){return e(se)},children:(te,Ct)=>{var we=Ea(),Ye=U(we);st(Ye,{class:"mr-2 h-4 w-4"});var jt=s(Ye);O(()=>X(jt,` ${e(se)?"Saving...":e(be)?"Saved!":"Save & Close"}`)),l(te,we)},$$slots:{default:!0}}),a(G),a(z);var I=s(z,2),B=t(I),H=t(B),W=t(H),ie=s(t(W),2);ae(ie,{id:"ty-subject",type:"text",placeholder:"Welcome to our list!",get value(){return e(ce)},set value(te){r(ce,te,!0)}}),d(2),a(W);var M=s(W,4),N=s(t(M),4),q=t(N),C=t(q);C.textContent="{{name}}",d(),a(q);var L=s(q,2),g=t(L);g.textContent="{{email}}",d(),a(L);var f=s(L,2),x=t(f);x.textContent="{{name,fallback=Friend}}",d(),a(f),a(N),a(M);var j=s(M,2),b=s(t(j),2),c=t(b),h=t(c);h.textContent="{{currentday}}",d(),a(c);var _=s(c,2),v=t(_);v.textContent="{{currentmonth}}",d(),a(_);var m=s(_,2),P=t(m);P.textContent="{{currentyear}}",d(),a(m),a(b),a(j);var w=s(j,2),D=s(t(w),2),i=t(D),y=t(i);y.textContent="{{unsubscribe_url}}",d(),a(i);var k=s(i,2),$=t(k);$.textContent="{{webversion_url}}",d(),a(k),a(D),a(w),a(H),a(B);var J=s(B,2),u=t(J),S=t(u);tt(S,{placeholder:"Thank you for subscribing!",class:"h-full",get value(){return e(Q)},set value(te){r(Q,te,!0)}}),a(u);var R=s(u,2),V=t(R),Tt=s(t(V),2);Tt.__click=ft,a(V);var Pt=s(V,2);at(Pt,{id:"ty-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e(he)},set value(te){r(he,te,!0)}}),d(2),a(R),a(J),a(I),a(Y),a(T),l(n,T)};A(vt,n=>{e(De)&&n(wt)})}var ut=s(vt,2);{var kt=n=>{var T=za(),Y=t(T),z=t(Y),G=s(t(z),2),F=t(G);Z(F,{type:"secondary",onclick:()=>r(Re,!1),children:(i,y)=>{var k=La(),$=U(k);et($,{class:"mr-2 h-4 w-4"}),d(),l(i,k)},$$slots:{default:!0}});var re=s(F,2);Z(re,{type:"primary",onclick:()=>Je(()=>r(Re,!1)),get disabled(){return e(se)},children:(i,y)=>{var k=Aa(),$=U(k);st($,{class:"mr-2 h-4 w-4"});var J=s($);O(()=>X(J,` ${e(se)?"Saving...":e(be)?"Saved!":"Save & Close"}`)),l(i,k)},$$slots:{default:!0}}),a(G),a(z);var I=s(z,2),B=t(I),H=t(B),W=t(H),ie=s(t(W),2);ae(ie,{id:"bye-subject",type:"text",placeholder:"Sorry to see you go",get value(){return e(me)},set value(i){r(me,i,!0)}}),d(2),a(W);var M=s(W,4),N=s(t(M),4),q=t(N),C=t(q);C.textContent="{{name}}",d(),a(q);var L=s(q,2),g=t(L);g.textContent="{{email}}",d(),a(L);var f=s(L,2),x=t(f);x.textContent="{{name,fallback=Friend}}",d(),a(f),a(N),a(M);var j=s(M,2),b=s(t(j),2),c=s(t(b));c.textContent="{{resubscribe_url}}",d(),a(b),a(j),a(H),a(B);var h=s(B,2),_=t(h),v=t(_);tt(v,{placeholder:"You have been unsubscribed.",class:"h-full",get value(){return e(ee)},set value(i){r(ee,i,!0)}}),a(_);var m=s(_,2),P=t(m),w=s(t(P),2);w.__click=xt,a(P);var D=s(P,2);at(D,{id:"bye-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e($e)},set value(i){r($e,i,!0)}}),d(2),a(m),a(h),a(I),a(Y),a(T),l(n,T)};A(ut,n=>{e(Re)&&n(kt)})}var St=s(ut,2);{let n=We(()=>`Are you sure you want to delete "${e(E)?.name}"? This will permanently delete all subscribers and autoresponders. This action cannot be undone.`),T=We(()=>e(Ze)?"Deleting...":"Delete");Yt(St,{title:"Delete List",get description(){return e(n)},get actionLabel(){return e(T)},actionType:"danger",onAction:_t,onCancel:()=>r(Ae,!1),get open(){return e(Ae)},set open(Y){r(Ae,Y,!0)}})}l(Ie,ot),Ut(),Ne()}Lt(["click"]);export{Qa as component};
