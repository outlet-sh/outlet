import"../chunks/Bzak7iHL.js";import{f as U,p as oe,c as r,g as t,e as st,r as e,a as ne,b as ct,d as Nt,s as a,t as k,j as ie,u as pe,k as ge,$ as he,n as Et}from"../chunks/Ip2DykXx.js";import{d as qt,s as C,e as be}from"../chunks/DhOIAuLg.js";import{c as lt,a as o,f as _,b as Wt,t as $e}from"../chunks/BPgbRZ5o.js";import{l as bt,s as $t,p as Ht,i as N}from"../chunks/BeCi3WIf.js";import{e as Ot,i as Bt}from"../chunks/-0-Kn73z.js";import{h as we}from"../chunks/vHZS38u2.js";import{s as q,b as fe,a as Vt}from"../chunks/CmyOW3uE.js";import"../chunks/Ckmqur5S.js";import{b as de}from"../chunks/Bt-Xh7oU.js";import{h as ye,C as ft,i as se,a as te}from"../chunks/Bphptf_a.js";import{L as ke}from"../chunks/sFH_xjRy.js";import{B as Me}from"../chunks/CK6k7lQK.js";import{a as Ce}from"../chunks/DufYntU0.js";import{b as Ne}from"../chunks/CcPucUt3.js";import{s as Pe}from"../chunks/BCZnC23Z.js";import{R as xe}from"../chunks/CQK8yWuM.js";import{D as Se}from"../chunks/BZpcwiXl.js";import"../chunks/hUurZXsg.js";import{s as wt}from"../chunks/Df8mRDld.js";import{I as yt,X as De}from"../chunks/CYeJYM_Q.js";import{C as _e}from"../chunks/DHzbXXRd.js";import{_ as Re}from"../chunks/CtwFYI68.js";import{g as je}from"../chunks/BS4BNS52.js";import{C as ze}from"../chunks/lw_OzKkh.js";import{U as Fe}from"../chunks/BcG5IKGR.js";import{M as Le}from"../chunks/DWdrbJLD.js";function ve(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"}]];yt(G,$t({name:"activity"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function ce(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];yt(G,$t({name:"arrow-right"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function Te(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["path",{d:"M12 8V4H8"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}],["path",{d:"M2 14h2"}],["path",{d:"M20 14h2"}],["path",{d:"M15 13v2"}],["path",{d:"M9 13v2"}]];yt(G,$t({name:"bot"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function ee(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["circle",{cx:"12",cy:"12",r:"10"}]];yt(G,$t({name:"circle"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function Ae(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10"}]];yt(G,$t({name:"credit-card"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function Ee(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["line",{x1:"12",x2:"12",y1:"2",y2:"22"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}]];yt(G,$t({name:"dollar-sign"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function He(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["path",{d:"M15 3h6v6"}],["path",{d:"m21 3-7 7"}],["path",{d:"m3 21 7-7"}],["path",{d:"M9 21H3v-6"}]];yt(G,$t({name:"maximize-2"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function Oe(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["path",{d:"m14 10 7-7"}],["path",{d:"M20 10h-6V4"}],["path",{d:"m3 21 7-7"}],["path",{d:"M4 14h6v6"}]];yt(G,$t({name:"minimize-2"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function ue(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["path",{d:"M16 10a4 4 0 0 1-8 0"}],["path",{d:"M3.103 6.034h17.794"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z"}]];yt(G,$t({name:"shopping-bag"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}function Be(G,n){const P=bt(n,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const z=[["path",{d:"M16 17h6v-6"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7"}]];yt(G,$t({name:"trending-down"},()=>P,{get iconNode(){return z},children:($,s)=>{var u=lt(),S=U(u);wt(S,n,"default",{}),o($,u)},$$slots:{default:!0}}))}qt(["mousemove","click","keydown"]);var Ve=_('<div class="empty-state flex-1 flex items-center justify-center"><p class="text-slate-500 text-sm">No data to display</p></div>'),Ie=Wt('<line x1="0" stroke="rgba(51, 65, 85, 0.3)" stroke-width="1" stroke-dasharray="4,4"></line>'),Ue=Wt("<g></g>"),Ge=Wt('<path class="transition-all duration-200"></path><path fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>',1),qe=Wt('<text x="-8" text-anchor="end" dominant-baseline="middle" class="text-xs fill-current text-text-muted" font-size="10"> </text>'),We=Wt('<text y="20" text-anchor="middle" class="text-xs fill-current text-text-muted" font-size="10"> </text>'),Ye=_('<div class="legend-item"><span class="legend-dot"></span> <span class="legend-label"> </span></div>'),Je=_('<div class="legend"></div>'),Ke=Wt('<svg preserveAspectRatio="none" class="flex-1 w-full"><!><g></g><g><line x1="0" y1="0" x2="0" stroke="#475569" stroke-width="1"></line><!></g><g><line x1="0" y1="0" y2="0" stroke="#475569" stroke-width="1"></line><!></g></svg><!>',1),Ze=_('<div class="area-chart-container flex flex-col w-full h-full"><!></div>');function Xe(G,n){oe(n,!0);let P=Ht(n,"showLegend",3,!0),z=Ht(n,"showGrid",3,!0),$=Ht(n,"smooth",3,!0),s=Ht(n,"stacked",3,!1),u=Ht(n,"normalized",3,!1),S,Pt=Nt(400),gt=Nt(300);Ce(()=>{if(S){const i=new ResizeObserver(m=>{for(const d of m)ct(Pt,Math.max(d.contentRect.width,200),!0),n.height||ct(gt,Math.max(d.contentRect.height,200),!0)});return i.observe(S),()=>i.disconnect()}});const St=st(()=>n.height||t(gt)),K={top:20,right:20,bottom:40,left:50},zt=st(()=>t(Pt)),Dt=st(()=>t(St)),ht=st(()=>t(zt)-K.left-K.right),it=st(()=>t(Dt)-K.top-K.bottom),mt=[{fill:"rgba(99, 102, 241, 0.4)",stroke:"rgba(99, 102, 241, 1)"},{fill:"rgba(168, 85, 247, 0.4)",stroke:"rgba(168, 85, 247, 1)"},{fill:"rgba(236, 72, 153, 0.4)",stroke:"rgba(236, 72, 153, 1)"},{fill:"rgba(251, 146, 60, 0.4)",stroke:"rgba(251, 146, 60, 1)"},{fill:"rgba(34, 197, 94, 0.4)",stroke:"rgba(34, 197, 94, 1)"},{fill:"rgba(14, 165, 233, 0.4)",stroke:"rgba(14, 165, 233, 1)"}],tt=st(()=>{var i;return((i=n.data)==null?void 0:i.labels)||[]}),at=st(()=>{var i;return((i=n.data)==null?void 0:i.datasets)||[]}),ut=st(()=>{if(!s()&&!u())return null;const i=[],m=t(tt).length;for(let d=0;d<m;d++){const w=[];let p=0,D=0;if(u())for(const R of t(at))D+=R.data[d]||0;for(const R of t(at)){let Z=R.data[d]||0;u()&&D>0&&(Z=Z/D*100),p+=Z,w.push(p)}i.push(w)}return i}),Ft=st(()=>{if(u())return 100;if(s()&&t(ut)){let m=0;for(const d of t(ut)){const w=d[d.length-1]||0;w>m&&(m=w)}return m||1}let i=0;for(const m of t(at))for(const d of m.data||[])d>i&&(i=d);return i||1});function Rt(i){return t(tt).length<=1?t(ht)/2:i/(t(tt).length-1)*t(ht)}function kt(i){return t(it)-i/t(Ft)*t(it)}const Lt=st(()=>{const i=[];for(let d=0;d<=4;d++){const w=t(Ft)/4*d,p=t(it)-t(it)/4*d;i.push({value:w,y:p})}return i});function Tt(i){if(t(tt).length===0)return"";const m=[],d=[];for(let p=0;p<t(tt).length;p++){const D=Rt(p);let R,Z;(s()||u())&&t(ut)?(R=kt(t(ut)[p][i]),Z=i>0?kt(t(ut)[p][i-1]):t(it)):(R=kt(t(at)[i].data[p]||0),Z=t(it)),m.push({x:D,y:R}),d.unshift({x:D,y:Z})}let w;if($()&&m.length>2){w=`M${m[0].x},${m[0].y}`;for(let p=1;p<m.length;p++){const D=m[p-1],R=m[p],Z=(D.x+R.x)/2;w+=` C${Z},${D.y} ${Z},${R.y} ${R.x},${R.y}`}w+=` L${d[0].x},${d[0].y}`;for(let p=1;p<d.length;p++){const D=d[p-1],R=d[p],Z=(D.x+R.x)/2;w+=` C${Z},${D.y} ${Z},${R.y} ${R.x},${R.y}`}w+=" Z"}else w=m.map((p,D)=>`${D===0?"M":"L"}${p.x},${p.y}`).join(" "),w+=d.map(p=>` L${p.x},${p.y}`).join(""),w+=" Z";return w}function Mt(i){if(t(tt).length===0)return"";const m=[];for(let d=0;d<t(tt).length;d++){const w=Rt(d);let p;(s()||u())&&t(ut)?p=kt(t(ut)[d][i]):p=kt(t(at)[i].data[d]||0),m.push({x:w,y:p})}if($()&&m.length>2){let d=`M${m[0].x},${m[0].y}`;for(let w=1;w<m.length;w++){const p=m[w-1],D=m[w],R=(p.x+D.x)/2;d+=` C${R},${p.y} ${R},${D.y} ${D.x},${D.y}`}return d}return m.map((d,w)=>`${w===0?"M":"L"}${d.x},${d.y}`).join(" ")}function Yt(i){return u()?`${i.toFixed(0)}%`:i>=1e6?`${(i/1e6).toFixed(1)}M`:i>=1e3?`${(i/1e3).toFixed(1)}K`:i.toFixed(0)}function It(i,m){return i.backgroundColor||mt[m%mt.length].fill}function Ut(i,m){return i.borderColor||mt[m%mt.length].stroke}var Ct=Ze(),b=r(Ct);{var W=i=>{var m=Ve();o(i,m)},jt=i=>{var m=Ke(),d=U(m),w=r(d);{var p=O=>{var F=Ue();Ot(F,21,()=>t(Lt),Bt,(J,Y)=>{var et=Ie();k(()=>{q(et,"y1",t(Y).y),q(et,"x2",t(ht)),q(et,"y2",t(Y).y)}),o(J,et)}),e(F),k(()=>q(F,"transform",`translate(${K.left}, ${K.top})`)),o(O,F)};N(w,O=>{z()&&O(p)})}var D=a(w);Ot(D,21,()=>[...t(at)].reverse(),Bt,(O,F,J)=>{const Y=st(()=>t(at).length-1-J);var et=Ge(),xt=U(et),_t=a(xt);k((pt,M,Q,h)=>{q(xt,"d",pt),q(xt,"fill",M),q(_t,"d",Q),q(_t,"stroke",h)},[()=>Tt(t(Y)),()=>It(t(F),t(Y)),()=>Mt(t(Y)),()=>Ut(t(F),t(Y))]),o(O,et)}),e(D);var R=a(D),Z=r(R),v=a(Z);Ot(v,17,()=>t(Lt),Bt,(O,F)=>{var J=qe(),Y=r(J,!0);e(J),k(et=>{q(J,"y",t(F).y),C(Y,et)},[()=>Yt(t(F).value)]),o(O,J)}),e(R);var g=a(R),E=r(g),X=a(E);Ot(X,17,()=>t(tt),Bt,(O,F,J)=>{var Y=lt(),et=U(Y);{var xt=_t=>{var pt=We(),M=r(pt,!0);e(pt),k((Q,h)=>{q(pt,"x",Q),C(M,h)},[()=>Rt(J),()=>t(F).length>8?t(F).slice(0,8)+"..":t(F)]),o(_t,pt)};N(et,_t=>{(t(tt).length<=12||J%Math.ceil(t(tt).length/12)===0)&&_t(xt)})}o(O,Y)}),e(g),e(d);var dt=a(d);{var nt=O=>{var F=Je();Ot(F,21,()=>t(at),Bt,(J,Y,et)=>{var xt=Ye(),_t=r(xt),pt=a(_t,2),M=r(pt,!0);e(pt),e(xt),k(Q=>{fe(_t,`background-color: ${Q??""}`),C(M,t(Y).label||`Series ${et+1}`)},[()=>Ut(t(Y),et)]),o(J,xt)}),e(F),o(O,F)};N(dt,O=>{P()&&t(at).length>1&&O(nt)})}k(()=>{q(d,"viewBox",`0 0 ${t(zt)??""} ${t(Dt)??""}`),q(D,"transform",`translate(${K.left}, ${K.top})`),q(R,"transform",`translate(${K.left}, ${K.top})`),q(Z,"y2",t(it)),q(g,"transform",`translate(${K.left}, ${K.top+t(it)})`),q(E,"x2",t(ht))}),o(i,m)};N(b,i=>{t(tt).length===0||t(at).length===0?i(W):i(jt,!1)})}e(Ct),Ne(Ct,i=>S=i,()=>S),o(G,Ct),ne()}qt(["mousemove","click","keydown"]);qt(["click","change","mousedown"]);var Qe=_('<button class="fixed inset-0 bg-black/80 backdrop-blur-sm z-40" aria-label="Close fullscreen"></button>'),tr=_('<p class="card-subtitle truncate"> </p>'),er=_('<p class="text-xs text-slate-500 mt-1"> </p>'),rr=_('<span class="text-xs text-slate-500 hidden sm:inline"> </span>'),ar=_('<button class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-colors disabled:opacity-50" title="Refresh" aria-label="Refresh chart"><!></button>'),sr=_('<div class="absolute right-0 mt-2 w-36 rounded-lg bg-slate-800 border border-slate-700 shadow-xl z-10"><button class="w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-700/50 hover:text-white transition-colors first:rounded-t-lg">Export as PNG</button> <button class="w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-700/50 hover:text-white transition-colors">Export as CSV</button> <button class="w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-700/50 hover:text-white transition-colors last:rounded-b-lg">Export as JSON</button></div>'),or=_('<div class="relative"><button class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-colors" title="Export" aria-label="Export chart"><!></button> <!></div>'),nr=_('<button class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-colors" title="Close" aria-label="Close fullscreen"><!></button>'),lr=_('<button class="btn-secondary text-xs py-1">Retry</button>'),ir=_('<div class="alert alert-error flex items-start gap-3"><!> <div class="flex-1"><p class="alert-title text-red-300">Error loading chart</p> <p class="alert-body text-red-400/80"> </p></div> <!></div>'),dr=_('<div class="flex flex-col items-center justify-center py-12"><div class="spinner-large mb-4"></div> <p class="text-sm text-slate-400">Loading chart data...</p></div>'),vr=_('<!> <div><div class="card-header"><div class="flex items-start justify-between gap-4"><div class="flex-1 min-w-0"><h3 class="card-title truncate"> </h3> <!> <!></div> <div class="flex items-center gap-2 flex-shrink-0"><!> <!> <!> <button class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-colors"><!></button> <!></div></div></div> <div><!></div></div>',1);function cr(G,n){oe(n,!0);let P=Ht(n,"loading",3,!1),z=Ht(n,"class",3,""),$=Nt(!1),s=Nt(!1),u=Nt(!1);async function S(){if(!(!n.onRefresh||t(s))){ct(s,!0);try{await n.onRefresh()}finally{ct(s,!1)}}}async function Pt(v){n.onExport&&(ct(u,!1),await n.onExport(v))}function gt(){ct($,!t($))}function St(v){const E=new Date().getTime()-v.getTime(),X=Math.floor(E/6e4),dt=Math.floor(E/36e5),nt=Math.floor(E/864e5);return X<1?"Just now":X<60?`${X}m ago`:dt<24?`${dt}h ago`:`${nt}d ago`}var K=vr(),zt=U(K);{var Dt=v=>{var g=Qe();g.__click=gt,o(v,g)};N(zt,v=>{t($)&&v(Dt)})}var ht=a(zt,2),it=r(ht),mt=r(it),tt=r(mt),at=r(tt),ut=r(at,!0);e(at);var Ft=a(at,2);{var Rt=v=>{var g=tr(),E=r(g,!0);e(g),k(()=>C(E,n.subtitle)),o(v,g)};N(Ft,v=>{n.subtitle&&v(Rt)})}var kt=a(Ft,2);{var Lt=v=>{var g=er(),E=r(g,!0);e(g),k(()=>C(E,n.description)),o(v,g)};N(kt,v=>{n.description&&v(Lt)})}e(tt);var Tt=a(tt,2),Mt=r(Tt);{var Yt=v=>{var g=rr(),E=r(g,!0);e(g),k(X=>C(E,X),[()=>St(n.lastUpdated)]),o(v,g)};N(Mt,v=>{n.lastUpdated&&v(Yt)})}var It=a(Mt,2);{var Ut=v=>{var g=ar();g.__click=S;var E=r(g);{let X=st(()=>t(s)?"animate-spin":"");xe(E,{get class(){return`w-4 h-4 ${t(X)??""}`}})}e(g),k(()=>g.disabled=t(s)||P()),o(v,g)};N(It,v=>{n.onRefresh&&v(Ut)})}var Ct=a(It,2);{var b=v=>{var g=or(),E=r(g);E.__click=()=>ct(u,!t(u));var X=r(E);Se(X,{class:"w-4 h-4"}),e(E);var dt=a(E,2);{var nt=O=>{var F=sr(),J=r(F);J.__click=()=>Pt("png");var Y=a(J,2);Y.__click=()=>Pt("csv");var et=a(Y,2);et.__click=()=>Pt("json"),e(F),be("mouseleave",F,()=>ct(u,!1)),o(O,F)};N(dt,O=>{t(u)&&O(nt)})}e(g),o(v,g)};N(Ct,v=>{n.onExport&&v(b)})}var W=a(Ct,2);W.__click=gt;var jt=r(W);{var i=v=>{Oe(v,{class:"w-4 h-4"})},m=v=>{He(v,{class:"w-4 h-4"})};N(jt,v=>{t($)?v(i):v(m,!1)})}e(W);var d=a(W,2);{var w=v=>{var g=nr();g.__click=gt;var E=r(g);De(E,{class:"w-4 h-4"}),e(g),o(v,g)};N(d,v=>{t($)&&v(w)})}e(Tt),e(mt),e(it);var p=a(it,2),D=r(p);{var R=v=>{var g=ir(),E=r(g);_e(E,{class:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"});var X=a(E,2),dt=a(r(X),2),nt=r(dt,!0);e(dt),e(X);var O=a(X,2);{var F=J=>{var Y=lr();Y.__click=S,o(J,Y)};N(O,J=>{n.onRefresh&&J(F)})}e(g),k(()=>C(nt,n.error)),o(v,g)},Z=v=>{var g=lt(),E=U(g);{var X=nt=>{var O=dr();o(nt,O)},dt=nt=>{var O=lt(),F=U(O);Pe(F,()=>n.children),o(nt,O)};N(E,nt=>{P()?nt(X):nt(dt,!1)},!0)}o(v,g)};N(D,v=>{n.error?v(R):v(Z,!1)})}e(p),e(ht),k(()=>{Vt(ht,1,`chart-card-wrapper card ${z()??""} ${t($)?"fullscreen-card":""}`,"svelte-86agcc"),C(ut,n.title),q(W,"title",t($)?"Exit fullscreen":"Fullscreen"),q(W,"aria-label",t($)?"Exit fullscreen":"Enter fullscreen"),Vt(p,1,`card-body ${t($)?"flex-1 overflow-auto":""}`)}),o(G,K),ne()}qt(["click"]);qt(["mousemove","click","keydown"]);var ur=_('<div class="flex items-center justify-center h-64"><!></div>'),fr=_('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-semibold text-text">Get Started</h2> <p class="text-sm text-text-muted"> </p></div> <div class="flex items-center gap-2"><div class="w-32 h-2 bg-gray-200 rounded-full overflow-hidden"><div class="h-full bg-primary rounded-full transition-all"></div></div></div></div> <div class="grid grid-cols-2 sm:grid-cols-4 gap-3"><a><!> <div class="min-w-0"><p class="text-sm font-medium text-text truncate">Connect Stripe</p> <p class="text-xs text-text-muted">Accept payments</p></div></a> <a><!> <div class="min-w-0"><p class="text-sm font-medium text-text truncate">Add product</p> <p class="text-xs text-text-muted">Create catalog</p></div></a> <a><!> <div class="min-w-0"><p class="text-sm font-medium text-text truncate">Email list</p> <p class="text-xs text-text-muted">Build audience</p></div></a> <a><!> <div class="min-w-0"><p class="text-sm font-medium text-text truncate">Configure MCP</p> <p class="text-xs text-text-muted">AI assistant</p></div></a></div>',1),xr=_('<a class="flex items-center justify-between p-3 bg-bg-secondary rounded-lg hover:bg-bg-tertiary transition-colors"><div><p class="text-sm font-medium text-text"> </p> <p class="text-xs text-text-muted"> </p></div> <!></a>'),_r=_('<h2 class="text-lg font-semibold text-text mb-4 flex items-center gap-2"><!> Needs Attention</h2> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"></div>',1),mr=_("<p><!> </p>"),pr=_('<p class="text-xs text-text-muted mt-1">vs last month</p>'),gr=_('<div class="flex items-start justify-between"><div class="flex-1 min-w-0"><p class="text-xs font-medium text-text-muted uppercase tracking-wide">Revenue MTD</p> <p class="text-2xl font-bold text-text mt-1 truncate"> </p> <!></div> <div class="p-2 bg-green-100 rounded-lg flex-shrink-0"><!></div></div>'),hr=_('<div class="flex items-start justify-between"><div class="flex-1 min-w-0"><p class="text-xs font-medium text-text-muted uppercase tracking-wide">Revenue YTD</p> <p class="text-2xl font-bold text-text mt-1 truncate"> </p> <p class="text-xs text-text-muted mt-1"> </p></div> <div class="p-2 bg-blue-100 rounded-lg flex-shrink-0"><!></div></div>'),br=_('<p class="text-xs text-green-600 mt-1 flex items-center gap-1"><!> </p>'),$r=_('<p class="text-xs text-text-muted mt-1">This month: 0 new</p>'),wr=_('<div class="flex items-start justify-between"><div class="flex-1 min-w-0"><p class="text-xs font-medium text-text-muted uppercase tracking-wide">Customers</p> <p class="text-2xl font-bold text-text mt-1"> </p> <!></div> <div class="p-2 bg-purple-100 rounded-lg flex-shrink-0"><!></div></div>'),yr=_('<p class="text-xs text-amber-600 mt-1"> </p>'),kr=_('<p class="text-xs text-green-600 mt-1">0% churn</p>'),Mr=_('<div class="flex items-start justify-between"><div class="flex-1 min-w-0"><p class="text-xs font-medium text-text-muted uppercase tracking-wide">Active Subs</p> <p class="text-2xl font-bold text-text mt-1"> </p> <!></div> <div class="p-2 bg-indigo-100 rounded-lg flex-shrink-0"><!></div></div>'),Cr=_('<div class="flex items-start justify-between"><div class="flex-1 min-w-0"><p class="text-xs font-medium text-text-muted uppercase tracking-wide">LLM Tokens</p> <p class="text-2xl font-bold text-text mt-1"> </p> <p class="text-xs text-text-muted mt-1"> </p></div> <div class="p-2 bg-cyan-100 rounded-lg flex-shrink-0"><!></div></div>'),Nr=_('<div class="flex items-center justify-center h-[200px] text-text-muted"><p>No revenue data yet</p></div>'),Pr=_('<div class="flex items-center justify-between py-2 border-b border-border last:border-0"><div class="min-w-0 flex-1"><p class="text-sm font-medium text-text truncate"> </p> <p class="text-xs text-text-muted"> </p></div> <div class="flex items-center gap-3 ml-4"><span class="text-sm font-medium text-text"> </span> <!></div></div>'),Sr=_('<div class="text-center py-8"><!> <p class="text-sm text-text-muted">No orders yet</p> <a class="text-sm text-primary hover:underline mt-1 inline-block">Add products to get started</a></div>'),Dr=_('<div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-text">Recent Orders</h2> <a class="text-sm font-medium text-primary hover:underline flex items-center gap-1">View all <!></a></div> <div class="space-y-2"><!></div>',1),Rr=_('<div class="mt-3 pt-3 border-t border-border"><div class="flex justify-between text-xs"><span class="text-text-muted">Open rate</span> <span class="font-medium text-text"> </span></div></div>'),jr=_('<div class="flex items-center gap-3"><div class="p-2 bg-blue-100 rounded-lg"><!></div> <div><p class="text-xs text-text-muted">Emails Sent (30d)</p> <p class="text-lg font-semibold text-text"> </p></div></div> <!>',1),zr=_('<div class="mt-3 pt-3 border-t border-border"><div class="flex justify-between text-xs"><span class="text-text-muted">Avg order value</span> <span class="font-medium text-text"> </span></div></div>'),Fr=_('<div class="flex items-center gap-3"><div class="p-2 bg-green-100 rounded-lg"><!></div> <div><p class="text-xs text-text-muted">Orders (MTD)</p> <p class="text-lg font-semibold text-text"> </p></div></div> <!>',1),Lr=_('<div class="mt-3 pt-3 border-t border-border"><div class="flex justify-between text-xs"><span class="text-text-muted">Success rate</span> <span class="font-medium text-text"> </span></div></div>'),Tr=_('<div class="flex items-center gap-3"><div class="p-2 bg-cyan-100 rounded-lg"><!></div> <div><p class="text-xs text-text-muted">LLM Requests (30d)</p> <p class="text-lg font-semibold text-text"> </p></div></div> <!>',1),Ar=_('<div class="mt-3 pt-3 border-t border-border"><div class="flex justify-between text-xs"><span class="text-text-muted">In trial</span> <span class="font-medium text-text"> </span></div></div>'),Er=_('<div class="flex items-center gap-3"><div class="p-2 bg-purple-100 rounded-lg"><!></div> <div><p class="text-xs text-text-muted">New Subs (MTD)</p> <p class="text-lg font-semibold text-text"> </p></div></div> <!>',1),Hr=_('<!> <!> <div class="grid grid-cols-2 lg:grid-cols-5 gap-4 mb-6"><!> <!> <!> <!> <!></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"><!> <!></div> <div class="grid grid-cols-2 lg:grid-cols-4 gap-4"><!> <!> <!> <!></div>',1),Or=_('<div class="text-center py-12"><!> <h3 class="text-lg font-semibold text-text mb-2">No data available</h3> <p class="text-text-muted mb-4">Select an organization to view your dashboard</p></div>'),Br=_('<div class="p-6 space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-text"> </h1> <p class="mt-1 text-sm text-text-muted"> </p></div> <div class="flex items-center gap-3"><!> <button class="p-2 rounded-lg hover:bg-bg-secondary transition-colors" title="Refresh"><!></button></div></div> <!></div>');function _a(G,n){oe(n,!0);let P=st(()=>n.data.orgSlug?`/${n.data.orgSlug}`:""),z=ie(je()),$=Nt(!0),s=Nt(null),u=Nt(""),S=Nt(ie({from:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}));function Pt(){gt()}pe(()=>{gt()});async function gt(){ct($,!0);try{const b=de?localStorage.getItem("currentOrgId"):null;if(!b){ct($,!1);return}ct(s,await Re({from:t(S).from,to:t(S).to},b),!0);const W=de?localStorage.getItem("currentOrgName"):null;ct(u,W||"Your Business",!0)}catch(b){console.error("Failed to load dashboard data:",b)}finally{ct($,!1)}}function St(b){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(b/100)}function K(b){return b>=1e6?(b/1e6).toFixed(1)+"M":b>=1e3?(b/1e3).toFixed(1)+"K":b.toString()}function zt(b){if(!b)return"N/A";const W=new Date(b),i=new Date().getTime()-W.getTime(),m=Math.floor(i/6e4),d=Math.floor(i/36e5),w=Math.floor(i/864e5);return m<60?`${m}m ago`:d<24?`${d}h ago`:w<7?`${w}d ago`:W.toLocaleDateString()}let Dt=st(()=>()=>t(s)?[t(s).stripe_configured,t(s).has_products,t(s).has_email_lists,t(s).has_mcp_configured].filter(Boolean).length:0),ht=st(()=>t(Dt)()===4);const it=st(()=>{var b;return!((b=t(s))!=null&&b.revenue_trend)||t(s).revenue_trend.length===0?null:{labels:t(s).revenue_trend.map(W=>W.month),datasets:[{label:"Revenue",data:t(s).revenue_trend.map(W=>W.revenue_cents/100),backgroundColor:"#10b981",borderColor:"#10b981"}]}});var mt=Br();we("13s64f3",b=>{ge(()=>{he.title=`Dashboard - ${(t(u)||"Admin")??""}`})});var tt=r(mt),at=r(tt),ut=r(at),Ft=r(ut);e(ut);var Rt=a(ut,2),kt=r(Rt,!0);e(Rt),e(at);var Lt=a(at,2),Tt=r(Lt);ye(Tt,{onchange:Pt,get dateRange(){return t(S)},set dateRange(b){ct(S,b,!0)}});var Mt=a(Tt,2);Mt.__click=gt;var Yt=r(Mt);{let b=st(()=>t($)?"animate-spin":"");xe(Yt,{get class(){return`h-5 w-5 text-text-muted ${t(b)??""}`}})}e(Mt),e(Lt),e(tt);var It=a(tt,2);{var Ut=b=>{var W=ur(),jt=r(W);ke(jt,{size:"large"}),e(W),o(b,W)},Ct=b=>{var W=lt(),jt=U(W);{var i=d=>{var w=Hr(),p=U(w);{var D=M=>{ft(M,{class:"mb-6",children:(Q,h)=>{var f=fr(),c=U(f),I=r(c),y=a(r(I),2),H=r(y);e(y),e(I);var L=a(I,2),T=r(L),A=r(T);e(T),e(L),e(c);var l=a(c,2),x=r(l),B=r(x);{var V=j=>{te(j,{class:"h-4 w-4 text-green-500 flex-shrink-0"})},ot=j=>{ee(j,{class:"h-4 w-4 text-text-muted flex-shrink-0"})};N(B,j=>{t(s).stripe_configured?j(V):j(ot,!1)})}Et(2),e(x);var rt=a(x,2),vt=r(rt);{var re=j=>{te(j,{class:"h-4 w-4 text-green-500 flex-shrink-0"})},Xt=j=>{ee(j,{class:"h-4 w-4 text-text-muted flex-shrink-0"})};N(vt,j=>{t(s).has_products?j(re):j(Xt,!1)})}Et(2),e(rt);var At=a(rt,2),Qt=r(At);{var Jt=j=>{te(j,{class:"h-4 w-4 text-green-500 flex-shrink-0"})},ae=j=>{ee(j,{class:"h-4 w-4 text-text-muted flex-shrink-0"})};N(Qt,j=>{t(s).has_email_lists?j(Jt):j(ae,!1)})}Et(2),e(At);var Gt=a(At,2),Kt=r(Gt);{var Zt=j=>{te(j,{class:"h-4 w-4 text-green-500 flex-shrink-0"})},le=j=>{ee(j,{class:"h-4 w-4 text-text-muted flex-shrink-0"})};N(Kt,j=>{t(s).has_mcp_configured?j(Zt):j(le,!1)})}Et(2),e(Gt),e(l),k((j,me)=>{C(H,`${j??""} of 4 tasks complete`),fe(A,`width: ${me??""}%`),q(x,"href",`${t(P)??""}/settings/billing`),Vt(x,1,`flex items-center gap-2 p-3 rounded-lg border border-border hover:bg-bg-secondary transition-colors ${t(s).stripe_configured?"opacity-60":""}`),q(rt,"href",`${t(P)??""}/commerce/products`),Vt(rt,1,`flex items-center gap-2 p-3 rounded-lg border border-border hover:bg-bg-secondary transition-colors ${t(s).has_products?"opacity-60":""}`),q(At,"href",`${t(P)??""}/email`),Vt(At,1,`flex items-center gap-2 p-3 rounded-lg border border-border hover:bg-bg-secondary transition-colors ${t(s).has_email_lists?"opacity-60":""}`),q(Gt,"href",`${t(P)??""}/settings/mcp`),Vt(Gt,1,`flex items-center gap-2 p-3 rounded-lg border border-border hover:bg-bg-secondary transition-colors ${t(s).has_mcp_configured?"opacity-60":""}`)},[()=>t(Dt)(),()=>t(Dt)()/4*100]),o(Q,f)},$$slots:{default:!0}})};N(p,M=>{t(ht)||M(D)})}var R=a(p,2);{var Z=M=>{ft(M,{class:"mb-6 border-l-4 border-l-warning",children:(Q,h)=>{var f=_r(),c=U(f),I=r(c);_e(I,{class:"h-5 w-5 text-warning"}),Et(),e(c);var y=a(c,2);Ot(y,21,()=>t(s).needs_attention,Bt,(H,L)=>{var T=xr(),A=r(T),l=r(A),x=r(l);e(l);var B=a(l,2),V=r(B,!0);e(B),e(A);var ot=a(A,2);ce(ot,{class:"h-4 w-4 text-text-muted"}),e(T),k(rt=>{q(T,"href",`${t(P)??""}/${t(L).type==="failed_payments"||t(L).type==="pending_orders"?"commerce/orders":"llm-logs"}`),C(x,`${t(L).count??""} ${rt??""}`),C(V,t(L).description)},[()=>t(L).type.replace("_"," ")]),o(H,T)}),e(y),o(Q,f)},$$slots:{default:!0}})};N(R,M=>{t(s).needs_attention&&t(s).needs_attention.length>0&&M(Z)})}var v=a(R,2),g=r(v);ft(g,{class:"relative overflow-hidden",children:(M,Q)=>{var h=gr(),f=r(h),c=a(r(f),2),I=r(c,!0);e(c);var y=a(c,2);{var H=l=>{var x=mr(),B=r(x);{var V=vt=>{se(vt,{class:"h-3 w-3"})},ot=vt=>{Be(vt,{class:"h-3 w-3"})};N(B,vt=>{t(s).revenue_growth_pct>0?vt(V):vt(ot,!1)})}var rt=a(B);e(x),k(vt=>{Vt(x,1,`text-xs mt-1 flex items-center gap-1 ${t(s).revenue_growth_pct>0?"text-green-600":"text-red-600"}`),C(rt,` ${t(s).revenue_growth_pct>0?"+":""}${vt??""}% vs last month`)},[()=>t(s).revenue_growth_pct.toFixed(1)]),o(l,x)},L=l=>{var x=pr();o(l,x)};N(y,l=>{t(s).revenue_growth_pct!==0?l(H):l(L,!1)})}e(f);var T=a(f,2),A=r(T);Ee(A,{class:"h-5 w-5 text-green-600"}),e(T),e(h),k(l=>C(I,l),[()=>St(t(s).revenue_mtd_cents)]),o(M,h)},$$slots:{default:!0}});var E=a(g,2);ft(E,{class:"relative overflow-hidden",children:(M,Q)=>{var h=hr(),f=r(h),c=a(r(f),2),I=r(c,!0);e(c);var y=a(c,2),H=r(y);e(y),e(f);var L=a(f,2),T=r(L);ze(T,{class:"h-5 w-5 text-blue-600"}),e(L),e(h),k(A=>{C(I,A),C(H,`${t(s).paid_orders_count??""} orders`)},[()=>St(t(s).revenue_ytd_cents)]),o(M,h)},$$slots:{default:!0}});var X=a(E,2);ft(X,{class:"relative overflow-hidden",children:(M,Q)=>{var h=wr(),f=r(h),c=a(r(f),2),I=r(c,!0);e(c);var y=a(c,2);{var H=l=>{var x=br(),B=r(x);se(B,{class:"h-3 w-3"});var V=a(B);e(x),k(()=>C(V,` +${t(s).new_customers_30d??""} this month`)),o(l,x)},L=l=>{var x=$r();o(l,x)};N(y,l=>{t(s).new_customers_30d>0?l(H):l(L,!1)})}e(f);var T=a(f,2),A=r(T);Fe(A,{class:"h-5 w-5 text-purple-600"}),e(T),e(h),k(l=>C(I,l),[()=>K(t(s).total_customers)]),o(M,h)},$$slots:{default:!0}});var dt=a(X,2);ft(dt,{class:"relative overflow-hidden",children:(M,Q)=>{var h=Mr(),f=r(h),c=a(r(f),2),I=r(c,!0);e(c);var y=a(c,2);{var H=l=>{var x=yr(),B=r(x);e(x),k(V=>C(B,`${V??""}% churn rate`),[()=>t(s).churn_rate.toFixed(1)]),o(l,x)},L=l=>{var x=kr();o(l,x)};N(y,l=>{t(s).churn_rate>0?l(H):l(L,!1)})}e(f);var T=a(f,2),A=r(T);Ae(A,{class:"h-5 w-5 text-indigo-600"}),e(T),e(h),k(()=>C(I,t(s).active_subscriptions)),o(M,h)},$$slots:{default:!0}});var nt=a(dt,2);ft(nt,{class:"relative overflow-hidden",children:(M,Q)=>{var h=Cr(),f=r(h),c=a(r(f),2),I=r(c,!0);e(c);var y=a(c,2),H=r(y);e(y),e(f);var L=a(f,2),T=r(L);Te(T,{class:"h-5 w-5 text-cyan-600"}),e(L),e(h),k((A,l)=>{C(I,A),C(H,`$${l??""} cost`)},[()=>K(t(s).llm_total_tokens),()=>(t(s).llm_total_cost_micros/1e6).toFixed(2)]),o(M,h)},$$slots:{default:!0}}),e(v);var O=a(v,2),F=r(O);cr(F,{title:"Revenue Trend",subtitle:"Last 6 months",children:(M,Q)=>{var h=lt(),f=U(h);{var c=y=>{Xe(y,{get data(){return t(it)},height:200,showGrid:!0})},I=y=>{var H=Nr();o(y,H)};N(f,y=>{t(it)?y(c):y(I,!1)})}o(M,h)},$$slots:{default:!0}});var J=a(F,2);ft(J,{children:(M,Q)=>{var h=Dr(),f=U(h),c=a(r(f),2),I=a(r(c));ce(I,{class:"h-4 w-4"}),e(c),e(f);var y=a(f,2),H=r(y);{var L=A=>{var l=lt(),x=U(l);Ot(x,17,()=>t(s).recent_orders,Bt,(B,V)=>{var ot=Pr(),rt=r(ot),vt=r(rt),re=r(vt,!0);e(vt);var Xt=a(vt,2),At=r(Xt,!0);e(Xt),e(rt);var Qt=a(rt,2),Jt=r(Qt),ae=r(Jt,!0);e(Jt);var Gt=a(Jt,2);{let Kt=st(()=>t(V).payment_status==="paid"?"success":t(V).payment_status==="failed"?"error":"warning");Me(Gt,{get variant(){return t(Kt)},size:"sm",children:(Zt,le)=>{Et();var j=$e();k(()=>C(j,t(V).payment_status||"pending")),o(Zt,j)},$$slots:{default:!0}})}e(Qt),e(ot),k((Kt,Zt)=>{C(re,t(V).customer_email||"Guest"),C(At,Kt),C(ae,Zt)},[()=>zt(t(V).created_at),()=>St(t(V).total_cents||0)]),o(B,ot)}),o(A,l)},T=A=>{var l=Sr(),x=r(l);ue(x,{class:"h-8 w-8 text-text-muted mx-auto mb-2"});var B=a(x,4);e(l),k(()=>q(B,"href",`${t(P)??""}/commerce/products`)),o(A,l)};N(H,A=>{t(s).recent_orders&&t(s).recent_orders.length>0?A(L):A(T,!1)})}e(y),k(()=>q(c,"href",`${t(P)??""}/commerce/orders`)),o(M,h)},$$slots:{default:!0}}),e(O);var Y=a(O,2),et=r(Y);ft(et,{children:(M,Q)=>{var h=jr(),f=U(h),c=r(f),I=r(c);Le(I,{class:"h-4 w-4 text-blue-600"}),e(c);var y=a(c,2),H=a(r(y),2),L=r(H,!0);e(H),e(y),e(f);var T=a(f,2);{var A=l=>{var x=Rr(),B=r(x),V=a(r(B),2),ot=r(V);e(V),e(B),e(x),k(rt=>C(ot,`${rt??""}%`),[()=>t(s).email_open_rate.toFixed(1)]),o(l,x)};N(T,l=>{t(s).emails_sent_30d>0&&l(A)})}k(l=>C(L,l),[()=>K(t(s).emails_sent_30d)]),o(M,h)},$$slots:{default:!0}});var xt=a(et,2);ft(xt,{children:(M,Q)=>{var h=Fr(),f=U(h),c=r(f),I=r(c);ue(I,{class:"h-4 w-4 text-green-600"}),e(c);var y=a(c,2),H=a(r(y),2),L=r(H,!0);e(H),e(y),e(f);var T=a(f,2);{var A=l=>{var x=zr(),B=r(x),V=a(r(B),2),ot=r(V,!0);e(V),e(B),e(x),k(rt=>C(ot,rt),[()=>St(t(s).total_revenue_cents/t(s).paid_orders_count)]),o(l,x)};N(T,l=>{t(s).paid_orders_count>0&&l(A)})}k(()=>C(L,t(s).orders_mtd_count)),o(M,h)},$$slots:{default:!0}});var _t=a(xt,2);ft(_t,{children:(M,Q)=>{var h=Tr(),f=U(h),c=r(f),I=r(c);ve(I,{class:"h-4 w-4 text-cyan-600"}),e(c);var y=a(c,2),H=a(r(y),2),L=r(H,!0);e(H),e(y),e(f);var T=a(f,2);{var A=l=>{var x=Lr(),B=r(x),V=a(r(B),2),ot=r(V);e(V),e(B),e(x),k(rt=>C(ot,`${rt??""}%`),[()=>(t(s).llm_success_count/t(s).llm_total_requests*100).toFixed(1)]),o(l,x)};N(T,l=>{t(s).llm_total_requests>0&&l(A)})}k(l=>C(L,l),[()=>K(t(s).llm_total_requests)]),o(M,h)},$$slots:{default:!0}});var pt=a(_t,2);ft(pt,{children:(M,Q)=>{var h=Er(),f=U(h),c=r(f),I=r(c);se(I,{class:"h-4 w-4 text-purple-600"}),e(c);var y=a(c,2),H=a(r(y),2),L=r(H,!0);e(H),e(y),e(f);var T=a(f,2);{var A=l=>{var x=Ar(),B=r(x),V=a(r(B),2),ot=r(V,!0);e(V),e(B),e(x),k(()=>C(ot,t(s).trialing_count)),o(l,x)};N(T,l=>{t(s).trialing_count>0&&l(A)})}k(()=>C(L,t(s).new_subscriptions_mtd)),o(M,h)},$$slots:{default:!0}}),e(Y),o(d,w)},m=d=>{ft(d,{children:(w,p)=>{var D=Or(),R=r(D);ve(R,{class:"h-12 w-12 text-text-muted mx-auto mb-4"}),Et(4),e(D),o(w,D)},$$slots:{default:!0}})};N(jt,d=>{t(s)?d(i):d(m,!1)},!0)}o(b,W)};N(It,b=>{t($)?b(Ut):b(Ct,!1)})}e(mt),k(b=>{C(Ft,`Welcome back, ${b??""}`),C(kt,t(u)),Mt.disabled=t($)},[()=>{var b;return(z==null?void 0:z.name)||((b=z==null?void 0:z.email)==null?void 0:b.split("@")[0])||"there"}]),o(G,mt),ne()}qt(["click"]);export{_a as component};
