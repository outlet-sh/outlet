import"../chunks/Bzak7iHL.js";import{f as G,p as Ne,u as de,b as f,d as V,c as t,g as e,r as a,s as i,t as I,e as ce,a as Me,n as Re,j as Xe,k as Ye,a8 as He,$ as Je}from"../chunks/Ip2DykXx.js";import{d as ze,s as O,e as Qe}from"../chunks/DhOIAuLg.js";import{s as Ze}from"../chunks/BCZnC23Z.js";import{l as ve,s as me,p as ea,i as N}from"../chunks/BeCi3WIf.js";import{c as H,a as v,f as g}from"../chunks/BPgbRZ5o.js";import{h as aa}from"../chunks/vHZS38u2.js";import{s as A,a as ie}from"../chunks/CmyOW3uE.js";import{s as Pe,a as Ue}from"../chunks/ur54L5C-.js";import{g as ke}from"../chunks/CDoCV2GU.js";import{p as je}from"../chunks/BUZmhiZ9.js";import{e as ye,i as we}from"../chunks/-0-Kn73z.js";import{c as Oe}from"../chunks/BOmC7Y-H.js";import"../chunks/hUurZXsg.js";import{s as fe}from"../chunks/Df8mRDld.js";import{I as ue,X as ta}from"../chunks/CYeJYM_Q.js";import{U as ra}from"../chunks/BcG5IKGR.js";import{S as sa}from"../chunks/Bm5FNAdL.js";import{W as la}from"../chunks/CDCGORNv.js";import{F as oa}from"../chunks/CGB94ttx.js";import{M as Ie}from"../chunks/DWdrbJLD.js";import{C as na}from"../chunks/rz6TTqSb.js";import{C as ia}from"../chunks/P2yphoDx.js";import{A as da}from"../chunks/DTEXfFvk.js";import{g as ca}from"../chunks/CtwFYI68.js";import{g as va,l as ma}from"../chunks/BS4BNS52.js";const fa=async({params:S})=>({orgSlug:S.orgSlug}),st=Object.freeze(Object.defineProperty({__proto__:null,load:fa},Symbol.toStringTag,{value:"Module"}));function ua(S,c){const $=ve(c,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const M=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];ue(S,me({name:"layout-dashboard"},()=>$,{get iconNode(){return M},children:(z,h)=>{var u=H(),d=G(u);fe(d,c,"default",{}),v(z,u)},$$slots:{default:!0}}))}function _a(S,c){const $=ve(c,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const M=[["path",{d:"M4 12h16"}],["path",{d:"M4 18h16"}],["path",{d:"M4 6h16"}]];ue(S,me({name:"menu"},()=>$,{get iconNode(){return M},children:(z,h)=>{var u=H(),d=G(u);fe(d,c,"default",{}),v(z,u)},$$slots:{default:!0}}))}function ga(S,c){const $=ve(c,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.522.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const M=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];ue(S,me({name:"settings"},()=>$,{get iconNode(){return M},children:(z,h)=>{var u=H(),d=G(u);fe(d,c,"default",{}),v(z,u)},$$slots:{default:!0}}))}var pa=g('<a class="sidebar-brand svelte-1tlkeh4"><!> <span class="sidebar-brand-text svelte-1tlkeh4"> </span></a>'),ba=g('<a class="sidebar-brand-icon svelte-1tlkeh4"><!></a>'),ha=g('<span class="sidebar-label svelte-1tlkeh4"> </span>'),xa=g("<a><!> <!></a>"),qa=g('<span class="sidebar-label svelte-1tlkeh4"> </span>'),Sa=g("<a><!> <!></a>"),$a=g('<!> <span class="sidebar-label svelte-1tlkeh4">Collapse</span>',1),ka=g('<aside><div class="sidebar-header svelte-1tlkeh4"><!></div> <nav class="sidebar-nav svelte-1tlkeh4"></nav> <div class="flex-1"></div> <nav class="sidebar-nav sidebar-nav-bottom svelte-1tlkeh4"><!> <button class="sidebar-collapse-btn svelte-1tlkeh4"><!></button></nav></aside>');function Ce(S,c){Ne(c,!0);const $=()=>Ue(je,"$page",M),[M,z]=Pe(),h=ea(c,"orgName",3,"Outlet"),u="sidebar-collapsed";let d=V(!1);de(()=>{{const l=localStorage.getItem(u);f(d,l==="true")}});function o(){f(d,!e(d)),localStorage.setItem(u,String(e(d)))}let p=ce(()=>`/${c.orgSlug}`);const k=[{id:"dashboard",label:"Dashboard",href:"",icon:ua,exact:!0},{id:"lists",label:"Lists",href:"/lists",icon:ra},{id:"campaigns",label:"Campaigns",href:"/campaigns",icon:sa},{id:"sequences",label:"Sequences",href:"/sequences",icon:la},{id:"templates",label:"Templates",href:"/templates",icon:oa}],ae=[{id:"settings",label:"Settings",href:"/settings",icon:ga}];function B(l,r=!1){const s=`${e(p)}${l}`;return r?$().url.pathname===s||$().url.pathname===s+"/":$().url.pathname.startsWith(s)&&s!==e(p)}var F=ka();let J;var y=t(F),D=t(y);{var L=l=>{var r=pa(),s=t(r);Ie(s,{class:"h-6 w-6 text-primary"});var q=i(s,2),w=t(q,!0);a(q),a(r),I(()=>{A(r,"href",e(p)),O(w,h())}),v(l,r)},te=l=>{var r=ba(),s=t(r);Ie(s,{class:"h-6 w-6 text-primary"}),a(r),I(()=>A(r,"href",e(p))),v(l,r)};N(D,l=>{e(d)?l(te,!1):l(L)})}a(y);var K=i(y,2);ye(K,21,()=>k,we,(l,r)=>{var s=xa();let q;var w=t(s);Oe(w,()=>e(r).icon,(m,x)=>{x(m,{class:"sidebar-icon"})});var E=i(w,2);{var R=m=>{var x=ha(),T=t(x,!0);a(x),I(()=>O(T,e(r).label)),v(m,x)};N(E,m=>{e(d)||m(R)})}a(s),I(m=>{A(s,"href",`${e(p)??""}${e(r).href??""}`),q=ie(s,1,"sidebar-link svelte-1tlkeh4",null,q,m),A(s,"title",e(d)?e(r).label:void 0)},[()=>({active:B(e(r).href,e(r).exact)})]),v(l,s)}),a(K);var Q=i(K,4),P=t(Q);ye(P,17,()=>ae,we,(l,r)=>{var s=Sa();let q;var w=t(s);Oe(w,()=>e(r).icon,(m,x)=>{x(m,{class:"sidebar-icon"})});var E=i(w,2);{var R=m=>{var x=qa(),T=t(x,!0);a(x),I(()=>O(T,e(r).label)),v(m,x)};N(E,m=>{e(d)||m(R)})}a(s),I(m=>{A(s,"href",`${e(p)??""}${e(r).href??""}`),q=ie(s,1,"sidebar-link svelte-1tlkeh4",null,q,m),A(s,"title",e(d)?e(r).label:void 0)},[()=>({active:B(e(r).href)})]),v(l,s)});var U=i(P,2);U.__click=o;var re=t(U);{var se=l=>{na(l,{class:"h-4 w-4"})},le=l=>{var r=$a(),s=G(r);ia(s,{class:"h-4 w-4"}),Re(2),v(l,r)};N(re,l=>{e(d)?l(se):l(le,!1)})}a(U),a(Q),a(F),I(()=>{J=ie(F,1,"sidebar svelte-1tlkeh4",null,J,{collapsed:e(d)}),A(U,"title",e(d)?"Expand sidebar":"Collapse sidebar")}),v(S,F),Me(),z()}ze(["click"]);var ya=g('<meta name="robots" content="noindex, nofollow"/>'),wa=g('<div class="min-h-screen bg-bg-secondary flex items-center justify-center"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div>'),Oa=g('<div class="min-h-screen bg-bg-secondary flex items-center justify-center"><div class="text-error"> </div></div>'),Ia=g('<div class="admin-user-dropdown svelte-qfcq2a"><div class="px-4 py-3 border-b border-border"><p class="text-sm font-medium text-text truncate"> </p></div> <a class="admin-dropdown-item svelte-qfcq2a">Settings</a> <div class="border-t border-border my-1"></div> <button class="admin-dropdown-item w-full text-left svelte-qfcq2a">Switch Site</button> <button class="admin-dropdown-item w-full text-left svelte-qfcq2a">Sign out</button></div>'),Ca=g('<div class="admin-mobile-overlay md:hidden svelte-qfcq2a" role="button" tabindex="-1"></div> <div class="admin-mobile-sidebar md:hidden svelte-qfcq2a"><!></div>',1),Na=g('<div class="admin-user-dropdown svelte-qfcq2a"><div class="px-4 py-3 border-b border-border"><p class="text-sm font-medium text-text truncate"> </p> <p class="text-xs text-text-muted capitalize"> </p></div> <a class="admin-dropdown-item svelte-qfcq2a">Settings</a> <div class="border-t border-border my-1"></div> <button class="admin-dropdown-item w-full text-left svelte-qfcq2a">Switch Site</button> <button class="admin-dropdown-item w-full text-left svelte-qfcq2a">Sign out</button></div>'),Ma=g('<div class="admin-layout svelte-qfcq2a"><div class="admin-sidebar hidden md:block svelte-qfcq2a"><!></div> <div class="admin-mobile-header md:hidden svelte-qfcq2a"><button class="admin-mobile-menu-btn svelte-qfcq2a"><!></button> <span class="font-semibold text-text"> </span> <div class="user-menu-container relative"><button class="admin-user-btn svelte-qfcq2a"><div class="admin-avatar svelte-qfcq2a"> </div></button> <!></div></div> <!> <div class="admin-main svelte-qfcq2a"><header class="admin-topbar hidden md:flex svelte-qfcq2a"><div class="flex-1"></div> <div class="flex items-center gap-4"><div class="user-menu-container relative"><button class="admin-user-btn svelte-qfcq2a"><div class="admin-avatar svelte-qfcq2a"> </div> <span class="text-sm text-text-muted hidden lg:block"> </span></button> <!></div></div></header> <main class="admin-content svelte-qfcq2a"><!></main></div></div>');function lt(S,c){Ne(c,!0);const $=()=>Ue(je,"$page",M),[M,z]=Pe();let h=V(null),u=V(!0),d=V(""),o=Xe(va()),p=V(!1),k=V(!1);de(()=>{ae()}),de(()=>{$().url.pathname,f(p,!1)});async function ae(){f(u,!0),f(d,"");try{f(h,await ca({},c.data.orgSlug),!0),localStorage.setItem("currentOrgId",e(h).id),localStorage.setItem("currentOrgName",e(h).name),localStorage.setItem("currentOrgSlug",e(h).slug)}catch(y){console.error("Failed to load organization:",y),f(d,`Organization "${c.data.orgSlug}" not found`),ke("/")}finally{f(u,!1)}}function B(){localStorage.removeItem("currentOrgId"),localStorage.removeItem("currentOrgName"),localStorage.removeItem("currentOrgSlug"),ke("/")}function F(){ma()}function J(y){y.target.closest(".user-menu-container")||f(k,!1)}aa("qfcq2a",y=>{var D=ya();Ye(()=>{var L;Je.title=`${(((L=e(h))==null?void 0:L.name)||"Admin")??""} | Outlet`}),v(y,D)}),Qe("click",He,J),da(S,{children:(y,D)=>{var L=H(),te=G(L);{var K=P=>{var U=wa();v(P,U)},Q=P=>{var U=H(),re=G(U);{var se=l=>{var r=Oa(),s=t(r),q=t(s,!0);a(s),a(r),I(()=>O(q,e(d))),v(l,r)},le=l=>{var r=Ma(),s=t(r),q=t(s);{let n=ce(()=>{var _;return(_=e(h))==null?void 0:_.name});Ce(q,{get orgSlug(){return c.data.orgSlug},get orgName(){return e(n)}})}a(s);var w=i(s,2),E=t(w);E.__click=()=>f(p,!e(p));var R=t(E);{var m=n=>{ta(n,{class:"h-6 w-6"})},x=n=>{_a(n,{class:"h-6 w-6"})};N(R,n=>{e(p)?n(m):n(x,!1)})}a(E);var T=i(E,2),Ae=t(T,!0);a(T);var _e=i(T,2),Z=t(_e);Z.__click=n=>{n.stopPropagation(),f(k,!e(k))};var ge=t(Z),Ee=t(ge,!0);a(ge),a(Z);var Fe=i(Z,2);{var Le=n=>{var _=Ia(),b=t(_),j=t(b),X=t(j,!0);a(j),a(b);var C=i(b,2);C.__click=()=>f(k,!1);var W=i(C,4);W.__click=B;var Y=i(W,2);Y.__click=F,a(_),I(()=>{O(X,o==null?void 0:o.email),A(C,"href",`/${c.data.orgSlug??""}/settings`)}),v(n,_)};N(Fe,n=>{e(k)&&n(Le)})}a(_e),a(w);var pe=i(w,2);{var Te=n=>{var _=Ca(),b=G(_);b.__click=()=>f(p,!1),b.__keydown=C=>C.key==="Escape"&&f(p,!1);var j=i(b,2),X=t(j);{let C=ce(()=>{var W;return(W=e(h))==null?void 0:W.name});Ce(X,{get orgSlug(){return c.data.orgSlug},get orgName(){return e(C)}})}a(j),v(n,_)};N(pe,n=>{e(p)&&n(Te)})}var be=i(pe,2),oe=t(be),he=i(t(oe),2),xe=t(he),ee=t(xe);ee.__click=n=>{n.stopPropagation(),f(k,!e(k))};var ne=t(ee),We=t(ne,!0);a(ne);var qe=i(ne,2),Ge=t(qe,!0);a(qe),a(ee);var Ve=i(ee,2);{var Be=n=>{var _=Na(),b=t(_),j=t(b),X=t(j,!0);a(j);var C=i(j,2),W=t(C,!0);a(C),a(b);var Y=i(b,2);Y.__click=()=>f(k,!1);var $e=i(Y,4);$e.__click=B;var Ke=i($e,2);Ke.__click=F,a(_),I(()=>{O(X,o==null?void 0:o.email),O(W,(o==null?void 0:o.role)||"user"),A(Y,"href",`/${c.data.orgSlug??""}/settings`)}),v(n,_)};N(Ve,n=>{e(k)&&n(Be)})}a(xe),a(he),a(oe);var Se=i(oe,2),De=t(Se);Ze(De,()=>c.children),a(Se),a(be),a(r),I((n,_)=>{var b;O(Ae,((b=e(h))==null?void 0:b.name)||"Outlet"),O(Ee,n),O(We,_),O(Ge,o==null?void 0:o.email)},[()=>((o==null?void 0:o.name)||(o==null?void 0:o.email)||"U")[0].toUpperCase(),()=>((o==null?void 0:o.name)||(o==null?void 0:o.email)||"U")[0].toUpperCase()]),v(l,r)};N(re,l=>{e(d)?l(se):l(le,!1)},!0)}v(P,U)};N(te,P=>{e(u)?P(K):P(Q,!1)})}v(y,L)},$$slots:{default:!0}}),Me(),z()}ze(["click","keydown"]);export{lt as component,st as universal};
