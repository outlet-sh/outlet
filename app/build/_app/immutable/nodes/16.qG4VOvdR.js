import"../chunks/DsnmJJEf.js";import{a as qe}from"../chunks/w1B8PMkm.js";import{f as P,p as De,s as g,a as Qe,u as Be,b as i,h as r,t as j,d as Ge,i as s,e as Ke,c as e,j as Ye,g as He,n as F,r as t}from"../chunks/EWi02PFm.js";import{d as Je,s as v}from"../chunks/CMlTvFs1.js";import{l as Ve,s as Xe,i as $}from"../chunks/Bv3BEGQz.js";import{e as Ze,i as ta}from"../chunks/BU0M2qTC.js";import{c as Z,a as o,f as c,t as oe}from"../chunks/m1NGduc7.js";import{h as ea}from"../chunks/lEmZmbJU.js";import{g as Nt}from"../chunks/CvqyqS9e.js";import{l as aa,c as sa,a2 as ra,a4 as ia}from"../chunks/DtWifhjl.js";import{a as oa,s as na,B as it,M as da,r as la,I as pt,t as va,e as ne,g as de,A as ca,C as ma}from"../chunks/DDdH-etX.js";import{L as pa}from"../chunks/UGmSaeWH.js";import{C as le}from"../chunks/eZLm9ekr.js";import"../chunks/BBXvuiDC.js";import{P as ve}from"../chunks/6kjRXbF2.js";import{C as ua}from"../chunks/ClqnK_AS.js";function ce(ut,ot){const tt=Ve(ot,["children","$$slots","$$events","$$legacy"]);const R=[["path",{d:"M12 20v2"}],["path",{d:"M12 2v2"}],["path",{d:"M17 20v2"}],["path",{d:"M17 2v2"}],["path",{d:"M2 12h2"}],["path",{d:"M2 17h2"}],["path",{d:"M2 7h2"}],["path",{d:"M20 12h2"}],["path",{d:"M20 17h2"}],["path",{d:"M20 7h2"}],["path",{d:"M7 20v2"}],["path",{d:"M7 2v2"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1"}]];oa(ut,Xe({name:"cpu"},()=>tt,{get iconNode(){return R},children:(W,u)=>{var T=Z(),N=P(T);na(N,ot,"default",{}),o(W,T)},$$slots:{default:!0}}))}var xa=c("<!> New Workspace",1),fa=c("<p> </p>"),_a=c('<div class="mb-6"><!></div>'),ga=c('<div class="flex justify-center py-12"><!></div>'),ha=c("<!> Create workspace",1),ya=c(`<h2 class="text-lg font-semibold text-text mb-4">Get started</h2> <div class="space-y-4 text-sm text-text-secondary"><p>Create a workspace to organize your email operations. Each workspace has its own lists,
								templates, and sending configuration.</p> <p>You might use one workspace per project, per client, or per department depending on
								how you want to separate your email workflows.</p></div> <div class="mt-6"><!></div>`,1),ba=c('<p class="text-xs text-text-muted mt-0.5"> </p>'),wa=c('<p class="text-xs text-warning mt-0.5">Email not configured</p>'),$a=c('<button class="w-full text-left bg-bg border border-border rounded-lg p-4 hover:border-primary/50 hover:bg-bg-secondary transition-all group"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center"><span class="text-primary font-semibold"> </span></div> <div><span class="font-medium text-text group-hover:text-primary transition-colors"> </span> <!></div></div> <!></div></button>'),ka=c('<div class="space-y-2"></div>'),Sa=c('<div class="text-sm text-text-muted">Loading...</div>'),Ca=c('<div class="text-xs text-text-muted"> </div>'),ja=c('<div class="flex items-center justify-between"><span class="text-text-muted">Timezone</span> <span class="font-medium text-text"> </span></div>'),Ma=c('<div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Region</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">24hr Limit</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Sent Today</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Remaining</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Rate</span> <span class="font-medium text-text"> </span></div> <!></div>'),za=c('<div class="flex justify-end gap-3"><!> <!></div>'),Pa=c('<div class="space-y-4"><div><label for="org-name" class="form-label">Name</label> <!></div> <div class="border-t border-border pt-4"><h4 class="text-sm font-medium text-text mb-3">Email Settings</h4> <div class="space-y-3"><div><label for="from-name" class="form-label">From Name</label> <!></div> <div><label for="from-email" class="form-label">From Email</label> <!></div> <div><label for="reply-to" class="form-label">Reply To (optional)</label> <!> <p class="mt-1 text-xs text-text-muted">Defaults to From Email if empty</p></div></div></div></div>'),Ea=c('<div class="text-sm text-text-muted">Loading...</div>'),Oa=c('<div class="text-xs text-text-muted"> </div>'),Fa=c('<div class="flex items-center justify-between"><span class="text-text-muted">Timezone</span> <span class="font-medium text-text"> </span></div>'),Na=c('<div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Region</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">24hr Limit</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Sent Today</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Remaining</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Rate</span> <span class="font-medium text-text"> </span></div> <!></div>'),Ia=c('<div class="space-y-6"><div><h3 class="text-sm font-medium text-text mb-3">Overview</h3> <div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Workspaces</span> <span class="font-medium text-text"> </span></div></div></div> <div><div class="flex items-center gap-2 mb-3"><!> <h3 class="text-sm font-medium text-text">AWS SES</h3></div> <!></div> <div><div class="flex items-center gap-2 mb-3"><!> <h3 class="text-sm font-medium text-text">MCP Server</h3></div> <div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Name</span> <span class="font-medium text-text">Outlet</span></div> <div><span class="text-text-muted block mb-1">URL</span> <div class="flex items-center gap-1"><code class="text-xs bg-bg-secondary px-1.5 py-0.5 rounded font-mono text-text truncate flex-1"> </code> <button class="p-1 hover:bg-bg-secondary rounded transition-colors" title="Copy URL"><!></button></div></div></div></div></div>'),La=c('<div class="py-6"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex gap-8"><div class="flex-1 min-w-0"><div class="mb-6 flex justify-between items-center"><h1 class="text-2xl font-semibold text-text">Workspaces</h1> <div class="flex items-center gap-2"><!> <!></div></div> <!> <!></div> <aside class="hidden md:block w-56 flex-shrink-0"><div class="sticky top-24 space-y-6"><div><h3 class="text-sm font-medium text-text mb-3">Overview</h3> <div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Workspaces</span> <span class="font-medium text-text"> </span></div></div></div> <div><div class="flex items-center gap-2 mb-3"><!> <h3 class="text-sm font-medium text-text">AWS SES</h3></div> <!></div> <div><div class="flex items-center gap-2 mb-3"><!> <h3 class="text-sm font-medium text-text">MCP Server</h3></div> <div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Name</span> <span class="font-medium text-text">Outlet</span></div> <div><span class="text-text-muted block mb-1">URL</span> <div class="flex items-center gap-1"><code class="text-xs bg-bg-secondary px-1.5 py-0.5 rounded font-mono text-text truncate flex-1"> </code> <button class="p-1 hover:bg-bg-secondary rounded transition-colors" title="Copy URL"><!></button></div></div></div></div></div></aside></div></div></div> <!> <!>',1);function Za(ut,ot){De(ot,!0);let tt=g(!0),R=g(Qe([])),W=g(""),u=g(null),T=g(!0),N=g(""),nt=g(""),dt=g(!1),xt=g(!1);qe(async()=>{try{if(!(await ra()).has_admin){Nt("/setup");return}}catch(a){console.error("Failed to check setup status:",a)}me(),i(nt,`${window.location.origin}/mcp`)});function It(){navigator.clipboard.writeText(s(nt)),i(dt,!0),setTimeout(()=>i(dt,!1),2e3)}async function me(){i(T,!0),i(N,"");try{i(u,await ia(),!0)}catch(a){console.error("Failed to load SES quota:",a),i(N,a.message||"AWS not configured",!0)}finally{i(T,!1)}}function G(a){return a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":Math.round(a).toString()}async function pe(a){if(localStorage.setItem("currentOrgId",a.id),localStorage.setItem("currentOrgName",a.name),localStorage.setItem("currentOrgSlug",a.slug),!localStorage.getItem(`orgSetupSkipped_${a.slug}`)&&!a.from_email){Nt(`/${a.slug}/welcome`);return}Nt(`/${a.slug}`)}let lt=g(!1),et=g(!1),A=g(""),at=g(""),vt=g(""),U=g(""),ct=g("");Be(()=>{Lt()});async function Lt(){i(tt,!0),i(W,"");try{const a=await aa();i(R,a.organizations||[],!0)}catch(a){console.error("Failed to load organizations:",a),i(W,"Failed to load organizations")}finally{i(tt,!1)}}function Rt(){i(A,""),i(at,""),i(vt,""),i(U,""),i(ct,""),i(lt,!0)}function Wt(){i(lt,!1)}function ue(a){return a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}function xe(){i(at,ue(s(A)),!0)}async function fe(){if(!(!s(A)||!s(at)||!s(U))){i(et,!0);try{await sa({name:s(A),slug:s(at),from_name:s(vt),from_email:s(U),reply_to:s(ct)||s(U)}),Wt(),await Lt()}catch(a){console.error("Failed to create organization:",a),i(W,a.message||"Failed to create organization",!0)}finally{i(et,!1)}}}var Tt=La();ea("ts7bst",a=>{Ke(()=>{He.title="Workspaces - Outlet"})});var ft=P(Tt),At=e(ft),Ut=e(At),_t=e(Ut),gt=e(_t),qt=r(e(gt),2),Dt=e(qt);it(Dt,{type:"secondary",onclick:()=>i(xt,!0),class:"md:hidden",children:(a,d)=>{va(a,{class:"h-4 w-4"})},$$slots:{default:!0}});var _e=r(Dt,2);it(_e,{type:"primary",onclick:Rt,children:(a,d)=>{var p=xa(),x=P(p);ve(x,{class:"mr-2 h-4 w-4"}),F(),o(a,p)},$$slots:{default:!0}}),t(qt),t(gt);var Qt=r(gt,2);{var ge=a=>{var d=_a(),p=e(d);ca(p,{type:"error",title:"Error",children:(x,k)=>{var n=fa(),l=e(n,!0);t(n),j(()=>v(l,s(W))),o(x,n)},$$slots:{default:!0}}),t(d),o(a,d)};$(Qt,a=>{s(W)&&a(ge)})}var he=r(Qt,2);{var ye=a=>{var d=ga(),p=e(d);pa(p,{size:"large"}),t(d),o(a,d)},be=a=>{var d=Z(),p=P(d);{var x=n=>{ma(n,{class:"p-6",children:(l,y)=>{var m=ya(),_=r(P(m),4),b=e(_);it(b,{type:"primary",onclick:Rt,children:(S,C)=>{var M=ha(),f=P(M);ve(f,{class:"mr-2 h-4 w-4"}),F(),o(S,M)},$$slots:{default:!0}}),t(_),o(l,m)},$$slots:{default:!0}})},k=n=>{var l=ka();Ze(l,21,()=>s(R),ta,(y,m)=>{var _=$a();_.__click=()=>pe(s(m));var b=e(_),S=e(b),C=e(S),M=e(C),f=e(M,!0);t(M),t(C);var E=r(C,2),q=e(E),I=e(q,!0);t(q);var D=r(q,2);{var K=w=>{var z=ba(),H=e(z,!0);t(z),j(()=>v(H,s(m).from_email)),o(w,z)},O=w=>{var z=wa();o(w,z)};$(D,w=>{s(m).from_email?w(K):w(O,!1)})}t(E),t(S);var Y=r(S,2);ua(Y,{class:"w-5 h-5 text-text-muted group-hover:text-primary transition-colors"}),t(b),t(_),j(w=>{v(f,w),v(I,s(m).name)},[()=>s(m).name[0].toUpperCase()]),o(y,_)}),t(l),o(n,l)};$(p,n=>{s(R).length===0?n(x):n(k,!1)},!0)}o(a,d)};$(he,a=>{s(tt)?a(ye):a(be,!1)})}t(_t);var Bt=r(_t,2),Gt=e(Bt),ht=e(Gt),Kt=r(e(ht),2),Yt=e(Kt),Ht=r(e(Yt),2),we=e(Ht,!0);t(Ht),t(Yt),t(Kt),t(ht);var yt=r(ht,2),bt=e(yt),$e=e(bt);le($e,{class:"h-4 w-4 text-text-muted"}),F(2),t(bt);var ke=r(bt,2);{var Se=a=>{var d=Sa();o(a,d)},Ce=a=>{var d=Z(),p=P(d);{var x=n=>{var l=Ca(),y=e(l,!0);t(l),j(()=>v(y,s(N))),o(n,l)},k=n=>{var l=Z(),y=P(l);{var m=_=>{var b=Ma(),S=e(b),C=r(e(S),2),M=e(C,!0);t(C),t(S);var f=r(S,2),E=r(e(f),2),q=e(E,!0);t(E),t(f);var I=r(f,2),D=r(e(I),2),K=e(D,!0);t(D),t(I);var O=r(I,2),Y=r(e(O),2),w=e(Y,!0);t(Y),t(O);var z=r(O,2),H=r(e(z),2),St=e(H);t(H),t(z);var h=r(z,2);{var J=Q=>{var B=ja(),V=r(e(B),2),L=e(V,!0);t(V),t(B),j(()=>v(L,s(u).timezone)),o(Q,B)};$(h,Q=>{s(u).timezone&&Q(J)})}t(b),j((Q,B,V)=>{v(M,s(u).region),v(q,Q),v(K,B),v(w,V),v(St,`${s(u).max_send_rate??""}/sec`)},[()=>G(s(u).max_24_hour_send),()=>G(s(u).sent_last_24_hours),()=>G(s(u).remaining_quota)]),o(_,b)};$(y,_=>{s(u)&&_(m)},!0)}o(n,l)};$(p,n=>{s(N)?n(x):n(k,!1)},!0)}o(a,d)};$(ke,a=>{s(T)?a(Se):a(Ce,!1)})}t(yt);var Jt=r(yt,2),wt=e(Jt),je=e(wt);ce(je,{class:"h-4 w-4 text-text-muted"}),F(2),t(wt);var Vt=r(wt,2),Xt=r(e(Vt),2),Zt=r(e(Xt),2),$t=e(Zt),Me=e($t,!0);t($t);var kt=r($t,2);kt.__click=It;var ze=e(kt);{var Pe=a=>{ne(a,{class:"h-3.5 w-3.5 text-success"})},Ee=a=>{de(a,{class:"h-3.5 w-3.5 text-text-muted"})};$(ze,a=>{s(dt)?a(Pe):a(Ee,!1)})}t(kt),t(Zt),t(Xt),t(Vt),t(Jt),t(Gt),t(Bt),t(Ut),t(At),t(ft);var te=r(ft,2);da(te,{title:"New Workspace",get show(){return s(lt)},set show(d){i(lt,d,!0)},footer:d=>{var p=za(),x=e(p);it(x,{type:"secondary",onclick:Wt,get disabled(){return s(et)},children:(n,l)=>{F();var y=oe("Cancel");o(n,y)},$$slots:{default:!0}});var k=r(x,2);{let n=Ye(()=>!s(A)||!s(at)||!s(U)||s(et));it(k,{type:"primary",onclick:fe,get disabled(){return s(n)},children:(l,y)=>{F();var m=oe();j(()=>v(m,s(et)?"Creating...":"Create")),o(l,m)},$$slots:{default:!0}})}t(p),o(d,p)},children:(d,p)=>{var x=Pa(),k=e(x),n=r(e(k),2);pt(n,{id:"org-name",type:"text",oninput:xe,placeholder:"Acme Corp",get value(){return s(A)},set value(f){i(A,f,!0)}}),t(k);var l=r(k,2),y=r(e(l),2),m=e(y),_=r(e(m),2);pt(_,{id:"from-name",type:"text",placeholder:"Acme Corp",get value(){return s(vt)},set value(f){i(vt,f,!0)}}),t(m);var b=r(m,2),S=r(e(b),2);pt(S,{id:"from-email",type:"email",placeholder:"hello@acme.com",get value(){return s(U)},set value(f){i(U,f,!0)}}),t(b);var C=r(b,2),M=r(e(C),2);pt(M,{id:"reply-to",type:"email",placeholder:"support@acme.com",get value(){return s(ct)},set value(f){i(ct,f,!0)}}),F(2),t(C),t(y),t(l),t(x),o(d,x)},$$slots:{footer:!0,default:!0}});var Oe=r(te,2);la(Oe,{position:"right",title:"Platform Info",get open(){return s(xt)},set open(a){i(xt,a,!0)},children:(a,d)=>{var p=Ia(),x=e(p),k=r(e(x),2),n=e(k),l=r(e(n),2),y=e(l,!0);t(l),t(n),t(k),t(x);var m=r(x,2),_=e(m),b=e(_);le(b,{class:"h-4 w-4 text-text-muted"}),F(2),t(_);var S=r(_,2);{var C=h=>{var J=Ea();o(h,J)},M=h=>{var J=Z(),Q=P(J);{var B=L=>{var X=Oa(),Ct=e(X,!0);t(X),j(()=>v(Ct,s(N))),o(L,X)},V=L=>{var X=Z(),Ct=P(X);{var Fe=jt=>{var Mt=Na(),zt=e(Mt),ee=r(e(zt),2),Ne=e(ee,!0);t(ee),t(zt);var Pt=r(zt,2),ae=r(e(Pt),2),Ie=e(ae,!0);t(ae),t(Pt);var Et=r(Pt,2),se=r(e(Et),2),Le=e(se,!0);t(se),t(Et);var Ot=r(Et,2),re=r(e(Ot),2),Re=e(re,!0);t(re),t(Ot);var Ft=r(Ot,2),ie=r(e(Ft),2),We=e(ie);t(ie),t(Ft);var Te=r(Ft,2);{var Ae=st=>{var rt=Fa(),mt=r(e(rt),2),Ue=e(mt,!0);t(mt),t(rt),j(()=>v(Ue,s(u).timezone)),o(st,rt)};$(Te,st=>{s(u).timezone&&st(Ae)})}t(Mt),j((st,rt,mt)=>{v(Ne,s(u).region),v(Ie,st),v(Le,rt),v(Re,mt),v(We,`${s(u).max_send_rate??""}/sec`)},[()=>G(s(u).max_24_hour_send),()=>G(s(u).sent_last_24_hours),()=>G(s(u).remaining_quota)]),o(jt,Mt)};$(Ct,jt=>{s(u)&&jt(Fe)},!0)}o(L,X)};$(Q,L=>{s(N)?L(B):L(V,!1)},!0)}o(h,J)};$(S,h=>{s(T)?h(C):h(M,!1)})}t(m);var f=r(m,2),E=e(f),q=e(E);ce(q,{class:"h-4 w-4 text-text-muted"}),F(2),t(E);var I=r(E,2),D=r(e(I),2),K=r(e(D),2),O=e(K),Y=e(O,!0);t(O);var w=r(O,2);w.__click=It;var z=e(w);{var H=h=>{ne(h,{class:"h-3.5 w-3.5 text-success"})},St=h=>{de(h,{class:"h-3.5 w-3.5 text-text-muted"})};$(z,h=>{s(dt)?h(H):h(St,!1)})}t(w),t(K),t(D),t(I),t(f),t(p),j(()=>{v(y,s(R).length),v(Y,s(nt))}),o(a,p)},$$slots:{default:!0}}),j(()=>{v(we,s(R).length),v(Me,s(nt))}),o(ut,Tt),Ge()}Je(["click"]);export{Za as component};
