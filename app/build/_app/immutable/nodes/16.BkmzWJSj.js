import"../chunks/DsnmJJEf.js";import{a as qt}from"../chunks/BdiPAmzh.js";import{f as O,p as Bt,s as h,a as Dt,u as Qt,b as i,h as r,t as C,d as Gt,i as s,e as Kt,c as t,j as Yt,g as Ht,n as E,r as e}from"../chunks/DDjrJUyi.js";import{d as Jt,s as l}from"../chunks/CwHIudaz.js";import{l as Vt,s as Xt,i as $}from"../chunks/CGvWOYBA.js";import{e as Zt,i as ea}from"../chunks/aSjiVL0V.js";import{c as ee,a as o,f as m,t as Ne}from"../chunks/DbkN8AN9.js";import{h as ta}from"../chunks/DHP91Nzo.js";import{g as Ie}from"../chunks/COzNDyHQ.js";import{l as aa,c as sa,a1 as ra,a3 as ia}from"../chunks/yWEY6ChK.js";import{a as oa,s as na,B as oe,M as da,q as la,I as ue,r as va,e as nt,g as dt,A as ca,C as ma}from"../chunks/Bkv3Tidq.js";import{L as pa}from"../chunks/BWhLmYGf.js";import{B as ua}from"../chunks/42UF-HRp.js";import{C as lt}from"../chunks/C4RN1HYR.js";import"../chunks/BrWG_zvm.js";import{P as vt}from"../chunks/BPUqRg7c.js";import{C as xa}from"../chunks/DVbYG6Vh.js";function ct(xe,ne){const te=Vt(ne,["children","$$slots","$$events","$$legacy"]);const R=[["path",{d:"M12 20v2"}],["path",{d:"M12 2v2"}],["path",{d:"M17 20v2"}],["path",{d:"M17 2v2"}],["path",{d:"M2 12h2"}],["path",{d:"M2 17h2"}],["path",{d:"M2 7h2"}],["path",{d:"M20 12h2"}],["path",{d:"M20 17h2"}],["path",{d:"M20 7h2"}],["path",{d:"M7 20v2"}],["path",{d:"M7 2v2"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1"}]];oa(xe,Xt({name:"cpu"},()=>te,{get iconNode(){return R},children:(W,x)=>{var T=ee(),I=O(T);na(I,ne,"default",{}),o(W,T)},$$slots:{default:!0}}))}var fa=m("<!> New Workspace",1),_a=m("<p> </p>"),ga=m('<div class="mb-6"><!></div>'),ha=m('<div class="flex justify-center py-12"><!></div>'),ya=m("<!> Create workspace",1),ba=m(`<h2 class="text-lg font-semibold text-text mb-4">Get started</h2> <div class="space-y-4 text-sm text-text-secondary"><p>Create a workspace to organize your email operations. Each workspace has its own lists,
								templates, and sending configuration.</p> <p>You might use one workspace per project, per client, or per department depending on
								how you want to separate your email workflows.</p></div> <div class="mt-6"><!></div>`,1),wa=m('<p class="text-xs text-text-muted mt-0.5"> </p>'),$a=m('<p class="text-xs text-warning mt-0.5">Email not configured</p>'),ka=m('<button class="w-full text-left bg-bg border border-border rounded-lg p-4 hover:border-primary/50 hover:bg-bg-secondary transition-all group"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center"><span class="text-primary font-semibold"> </span></div> <div><div class="flex items-center gap-2"><span class="font-medium text-text group-hover:text-primary transition-colors"> </span> <!></div> <!></div></div> <!></div></button>'),Sa=m('<div class="space-y-2"></div>'),Ca=m('<div class="text-sm text-text-muted">Loading...</div>'),ja=m('<div class="text-xs text-text-muted"> </div>'),Ma=m('<div class="flex items-center justify-between"><span class="text-text-muted">Timezone</span> <span class="font-medium text-text"> </span></div>'),za=m('<div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Region</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">24hr Limit</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Sent Today</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Remaining</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Rate</span> <span class="font-medium text-text"> </span></div> <!></div>'),Pa=m('<div class="flex justify-end gap-3"><!> <!></div>'),Ea=m('<div class="space-y-4"><div><label for="org-name" class="form-label">Name</label> <!></div> <div class="border-t border-border pt-4"><h4 class="text-sm font-medium text-text mb-3">Email Settings</h4> <div class="space-y-3"><div><label for="from-name" class="form-label">From Name</label> <!></div> <div><label for="from-email" class="form-label">From Email</label> <!></div> <div><label for="reply-to" class="form-label">Reply To (optional)</label> <!> <p class="mt-1 text-xs text-text-muted">Defaults to From Email if empty</p></div></div></div></div>'),Oa=m('<div class="text-sm text-text-muted">Loading...</div>'),Fa=m('<div class="text-xs text-text-muted"> </div>'),Na=m('<div class="flex items-center justify-between"><span class="text-text-muted">Timezone</span> <span class="font-medium text-text"> </span></div>'),Ia=m('<div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Region</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">24hr Limit</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Sent Today</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Remaining</span> <span class="font-medium text-text"> </span></div> <div class="flex items-center justify-between"><span class="text-text-muted">Rate</span> <span class="font-medium text-text"> </span></div> <!></div>'),La=m('<div class="space-y-6"><div><h3 class="text-sm font-medium text-text mb-3">Overview</h3> <div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Workspaces</span> <span class="font-medium text-text"> </span></div></div></div> <div><div class="flex items-center gap-2 mb-3"><!> <h3 class="text-sm font-medium text-text">AWS SES</h3></div> <!></div> <div><div class="flex items-center gap-2 mb-3"><!> <h3 class="text-sm font-medium text-text">MCP Server</h3></div> <div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Name</span> <span class="font-medium text-text">Outlet</span></div> <div><span class="text-text-muted block mb-1">URL</span> <div class="flex items-center gap-1"><code class="text-xs bg-bg-secondary px-1.5 py-0.5 rounded font-mono text-text truncate flex-1"> </code> <button class="p-1 hover:bg-bg-secondary rounded transition-colors" title="Copy URL"><!></button></div></div></div></div></div>'),Ra=m('<div class="py-6"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex gap-8"><div class="flex-1 min-w-0"><div class="mb-6 flex justify-between items-center"><h1 class="text-2xl font-semibold text-text">Workspaces</h1> <div class="flex items-center gap-2"><!> <!></div></div> <!> <!></div> <aside class="hidden md:block w-56 flex-shrink-0"><div class="sticky top-24 space-y-6"><div><h3 class="text-sm font-medium text-text mb-3">Overview</h3> <div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Workspaces</span> <span class="font-medium text-text"> </span></div></div></div> <div><div class="flex items-center gap-2 mb-3"><!> <h3 class="text-sm font-medium text-text">AWS SES</h3></div> <!></div> <div><div class="flex items-center gap-2 mb-3"><!> <h3 class="text-sm font-medium text-text">MCP Server</h3></div> <div class="space-y-2 text-sm"><div class="flex items-center justify-between"><span class="text-text-muted">Name</span> <span class="font-medium text-text">Outlet</span></div> <div><span class="text-text-muted block mb-1">URL</span> <div class="flex items-center gap-1"><code class="text-xs bg-bg-secondary px-1.5 py-0.5 rounded font-mono text-text truncate flex-1"> </code> <button class="p-1 hover:bg-bg-secondary rounded transition-colors" title="Copy URL"><!></button></div></div></div></div></div></aside></div></div></div> <!> <!>',1);function ts(xe,ne){Bt(ne,!0);let te=h(!0),R=h(Dt([])),W=h(""),x=h(null),T=h(!0),I=h(""),de=h(""),le=h(!1),fe=h(!1);qt(async()=>{try{if(!(await ra()).has_admin){Ie("/setup");return}}catch(a){console.error("Failed to check setup status:",a)}mt(),i(de,`${window.location.origin}/mcp`)});function Le(){navigator.clipboard.writeText(s(de)),i(le,!0),setTimeout(()=>i(le,!1),2e3)}async function mt(){i(T,!0),i(I,"");try{i(x,await ia(),!0)}catch(a){console.error("Failed to load SES quota:",a),i(I,a.message||"AWS not configured",!0)}finally{i(T,!1)}}function Y(a){return a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":Math.round(a).toString()}async function pt(a){if(localStorage.setItem("currentOrgId",a.id),localStorage.setItem("currentOrgName",a.name),localStorage.setItem("currentOrgSlug",a.slug),!localStorage.getItem(`orgSetupSkipped_${a.slug}`)&&!a.from_email){Ie(`/${a.slug}/welcome`);return}Ie(`/${a.slug}`)}let ve=h(!1),ae=h(!1),A=h(""),se=h(""),ce=h(""),U=h(""),me=h("");Qt(()=>{Re()});async function Re(){i(te,!0),i(W,"");try{const a=await aa();i(R,a.organizations||[],!0)}catch(a){console.error("Failed to load organizations:",a),i(W,"Failed to load organizations")}finally{i(te,!1)}}function We(){i(A,""),i(se,""),i(ce,""),i(U,""),i(me,""),i(ve,!0)}function Te(){i(ve,!1)}function ut(a){return a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}function xt(){i(se,ut(s(A)),!0)}async function ft(){if(!(!s(A)||!s(se)||!s(U))){i(ae,!0);try{await sa({name:s(A),slug:s(se),from_name:s(ce),from_email:s(U),reply_to:s(me)||s(U)}),Te(),await Re()}catch(a){console.error("Failed to create organization:",a),i(W,a.message||"Failed to create organization",!0)}finally{i(ae,!1)}}}var Ae=Ra();ta("ts7bst",a=>{Kt(()=>{Ht.title="Workspaces - Outlet"})});var _e=O(Ae),Ue=t(_e),qe=t(Ue),ge=t(qe),he=t(ge),Be=r(t(he),2),De=t(Be);oe(De,{type:"secondary",onclick:()=>i(fe,!0),class:"md:hidden",children:(a,d)=>{va(a,{class:"h-4 w-4"})},$$slots:{default:!0}});var _t=r(De,2);oe(_t,{type:"primary",onclick:We,children:(a,d)=>{var u=fa(),f=O(u);vt(f,{class:"mr-2 h-4 w-4"}),E(),o(a,u)},$$slots:{default:!0}}),e(Be),e(he);var Qe=r(he,2);{var gt=a=>{var d=ga(),u=t(d);ca(u,{type:"error",title:"Error",children:(f,k)=>{var n=_a(),v=t(n,!0);e(n),C(()=>l(v,s(W))),o(f,n)},$$slots:{default:!0}}),e(d),o(a,d)};$(Qe,a=>{s(W)&&a(gt)})}var ht=r(Qe,2);{var yt=a=>{var d=ha(),u=t(d);pa(u,{size:"large"}),e(d),o(a,d)},bt=a=>{var d=ee(),u=O(d);{var f=n=>{ma(n,{class:"p-6",children:(v,b)=>{var c=ba(),g=r(O(c),4),w=t(g);oe(w,{type:"primary",onclick:We,children:(S,j)=>{var M=ya(),_=O(M);vt(_,{class:"mr-2 h-4 w-4"}),E(),o(S,M)},$$slots:{default:!0}}),e(g),o(v,c)},$$slots:{default:!0}})},k=n=>{var v=Sa();Zt(v,21,()=>s(R),ea,(b,c)=>{var g=ka();g.__click=()=>pt(s(c));var w=t(g),S=t(w),j=t(S),M=t(j),_=t(M,!0);e(M),e(j);var F=r(j,2),q=t(F),z=t(q),B=t(z,!0);e(z);var H=r(z,2);ua(H,{variant:"default",size:"sm",children:(y,P)=>{E();var p=Ne();C(()=>l(p,s(c).slug)),o(y,p)},$$slots:{default:!0}}),e(q);var N=r(q,2);{var J=y=>{var P=wa(),p=t(P,!0);e(P),C(()=>l(p,s(c).from_email)),o(y,P)},D=y=>{var P=$a();o(y,P)};$(N,y=>{s(c).from_email?y(J):y(D,!1)})}e(F),e(S);var Q=r(S,2);xa(Q,{class:"w-5 h-5 text-text-muted group-hover:text-primary transition-colors"}),e(w),e(g),C(y=>{l(_,y),l(B,s(c).name)},[()=>s(c).name[0].toUpperCase()]),o(b,g)}),e(v),o(n,v)};$(u,n=>{s(R).length===0?n(f):n(k,!1)},!0)}o(a,d)};$(ht,a=>{s(te)?a(yt):a(bt,!1)})}e(ge);var Ge=r(ge,2),Ke=t(Ge),ye=t(Ke),Ye=r(t(ye),2),He=t(Ye),Je=r(t(He),2),wt=t(Je,!0);e(Je),e(He),e(Ye),e(ye);var be=r(ye,2),we=t(be),$t=t(we);lt($t,{class:"h-4 w-4 text-text-muted"}),E(2),e(we);var kt=r(we,2);{var St=a=>{var d=Ca();o(a,d)},Ct=a=>{var d=ee(),u=O(d);{var f=n=>{var v=ja(),b=t(v,!0);e(v),C(()=>l(b,s(I))),o(n,v)},k=n=>{var v=ee(),b=O(v);{var c=g=>{var w=za(),S=t(w),j=r(t(S),2),M=t(j,!0);e(j),e(S);var _=r(S,2),F=r(t(_),2),q=t(F,!0);e(F),e(_);var z=r(_,2),B=r(t(z),2),H=t(B,!0);e(B),e(z);var N=r(z,2),J=r(t(N),2),D=t(J,!0);e(J),e(N);var Q=r(N,2),y=r(t(Q),2),P=t(y);e(y),e(Q);var p=r(Q,2);{var V=G=>{var K=Ma(),X=r(t(K),2),L=t(X,!0);e(X),e(K),C(()=>l(L,s(x).timezone)),o(G,K)};$(p,G=>{s(x).timezone&&G(V)})}e(w),C((G,K,X)=>{l(M,s(x).region),l(q,G),l(H,K),l(D,X),l(P,`${s(x).max_send_rate??""}/sec`)},[()=>Y(s(x).max_24_hour_send),()=>Y(s(x).sent_last_24_hours),()=>Y(s(x).remaining_quota)]),o(g,w)};$(b,g=>{s(x)&&g(c)},!0)}o(n,v)};$(u,n=>{s(I)?n(f):n(k,!1)},!0)}o(a,d)};$(kt,a=>{s(T)?a(St):a(Ct,!1)})}e(be);var Ve=r(be,2),$e=t(Ve),jt=t($e);ct(jt,{class:"h-4 w-4 text-text-muted"}),E(2),e($e);var Xe=r($e,2),Ze=r(t(Xe),2),et=r(t(Ze),2),ke=t(et),Mt=t(ke,!0);e(ke);var Se=r(ke,2);Se.__click=Le;var zt=t(Se);{var Pt=a=>{nt(a,{class:"h-3.5 w-3.5 text-success"})},Et=a=>{dt(a,{class:"h-3.5 w-3.5 text-text-muted"})};$(zt,a=>{s(le)?a(Pt):a(Et,!1)})}e(Se),e(et),e(Ze),e(Xe),e(Ve),e(Ke),e(Ge),e(qe),e(Ue),e(_e);var tt=r(_e,2);da(tt,{title:"New Workspace",get show(){return s(ve)},set show(d){i(ve,d,!0)},footer:d=>{var u=Pa(),f=t(u);oe(f,{type:"secondary",onclick:Te,get disabled(){return s(ae)},children:(n,v)=>{E();var b=Ne("Cancel");o(n,b)},$$slots:{default:!0}});var k=r(f,2);{let n=Yt(()=>!s(A)||!s(se)||!s(U)||s(ae));oe(k,{type:"primary",onclick:ft,get disabled(){return s(n)},children:(v,b)=>{E();var c=Ne();C(()=>l(c,s(ae)?"Creating...":"Create")),o(v,c)},$$slots:{default:!0}})}e(u),o(d,u)},children:(d,u)=>{var f=Ea(),k=t(f),n=r(t(k),2);ue(n,{id:"org-name",type:"text",oninput:xt,placeholder:"Acme Corp",get value(){return s(A)},set value(_){i(A,_,!0)}}),e(k);var v=r(k,2),b=r(t(v),2),c=t(b),g=r(t(c),2);ue(g,{id:"from-name",type:"text",placeholder:"Acme Corp",get value(){return s(ce)},set value(_){i(ce,_,!0)}}),e(c);var w=r(c,2),S=r(t(w),2);ue(S,{id:"from-email",type:"email",placeholder:"hello@acme.com",get value(){return s(U)},set value(_){i(U,_,!0)}}),e(w);var j=r(w,2),M=r(t(j),2);ue(M,{id:"reply-to",type:"email",placeholder:"support@acme.com",get value(){return s(me)},set value(_){i(me,_,!0)}}),E(2),e(j),e(b),e(v),e(f),o(d,f)},$$slots:{footer:!0,default:!0}});var Ot=r(tt,2);la(Ot,{position:"right",title:"Platform Info",get open(){return s(fe)},set open(a){i(fe,a,!0)},children:(a,d)=>{var u=La(),f=t(u),k=r(t(f),2),n=t(k),v=r(t(n),2),b=t(v,!0);e(v),e(n),e(k),e(f);var c=r(f,2),g=t(c),w=t(g);lt(w,{class:"h-4 w-4 text-text-muted"}),E(2),e(g);var S=r(g,2);{var j=p=>{var V=Oa();o(p,V)},M=p=>{var V=ee(),G=O(V);{var K=L=>{var Z=Fa(),Ce=t(Z,!0);e(Z),C(()=>l(Ce,s(I))),o(L,Z)},X=L=>{var Z=ee(),Ce=O(Z);{var Ft=je=>{var Me=Ia(),ze=t(Me),at=r(t(ze),2),Nt=t(at,!0);e(at),e(ze);var Pe=r(ze,2),st=r(t(Pe),2),It=t(st,!0);e(st),e(Pe);var Ee=r(Pe,2),rt=r(t(Ee),2),Lt=t(rt,!0);e(rt),e(Ee);var Oe=r(Ee,2),it=r(t(Oe),2),Rt=t(it,!0);e(it),e(Oe);var Fe=r(Oe,2),ot=r(t(Fe),2),Wt=t(ot);e(ot),e(Fe);var Tt=r(Fe,2);{var At=re=>{var ie=Na(),pe=r(t(ie),2),Ut=t(pe,!0);e(pe),e(ie),C(()=>l(Ut,s(x).timezone)),o(re,ie)};$(Tt,re=>{s(x).timezone&&re(At)})}e(Me),C((re,ie,pe)=>{l(Nt,s(x).region),l(It,re),l(Lt,ie),l(Rt,pe),l(Wt,`${s(x).max_send_rate??""}/sec`)},[()=>Y(s(x).max_24_hour_send),()=>Y(s(x).sent_last_24_hours),()=>Y(s(x).remaining_quota)]),o(je,Me)};$(Ce,je=>{s(x)&&je(Ft)},!0)}o(L,Z)};$(G,L=>{s(I)?L(K):L(X,!1)},!0)}o(p,V)};$(S,p=>{s(T)?p(j):p(M,!1)})}e(c);var _=r(c,2),F=t(_),q=t(F);ct(q,{class:"h-4 w-4 text-text-muted"}),E(2),e(F);var z=r(F,2),B=r(t(z),2),H=r(t(B),2),N=t(H),J=t(N,!0);e(N);var D=r(N,2);D.__click=Le;var Q=t(D);{var y=p=>{nt(p,{class:"h-3.5 w-3.5 text-success"})},P=p=>{dt(p,{class:"h-3.5 w-3.5 text-text-muted"})};$(Q,p=>{s(le)?p(y):p(P,!1)})}e(D),e(H),e(B),e(z),e(_),e(u),C(()=>{l(b,s(R).length),l(J,s(de))}),o(a,u)},$$slots:{default:!0}}),C(()=>{l(wt,s(R).length),l(Mt,s(de))}),o(xe,Ae),Gt()}Jt(["click"]);export{ts as component};
