import"../chunks/DsnmJJEf.js";import{f as h,p as ya,s as P,a as Ft,u as Sa,b as i,i as e,d as wa,j as ce,h as r,c as a,r as t,n as m,t as j,l as qa}from"../chunks/odI--4Kw.js";import{d as Pa,s as f}from"../chunks/BNMK9zrr.js";import{c as E,a as s,f as d,t as g}from"../chunks/CCInJaqd.js";import{l as It,s as Bt,i as v}from"../chunks/COaB7F5h.js";import{s as La,e as Xe,i as Je}from"../chunks/BohEjZuL.js";import{s as za,a as Da}from"../chunks/DL1yFSKa.js";import{p as ka}from"../chunks/CdFg3XMI.js";import{ak as Ca,al as ja,am as Ea,an as Na,E as Ma}from"../chunks/CbJUEE85.js";import{a as Ot,s as Tt,M as Ua,g as Aa,B as Ke,A as ft,S as Ra,X as Fa,i as Ia,q as Ba}from"../chunks/DDAcQctE.js";import{E as Oa}from"../chunks/BtTFHV7Z.js";import{L as mt}from"../chunks/D716f0vp.js";import{B as C}from"../chunks/BD7k7D4N.js";import{g as Ta}from"../chunks/B5W8Y6hm.js";import{U as Ya}from"../chunks/Bcq7sqVA.js";import"../chunks/B9hjHVe6.js";import{T as Ga}from"../chunks/BzbtGsEE.js";import{M as Ha}from"../chunks/DTKoSMkA.js";import{S as Va}from"../chunks/DBgKfrOf.js";function Xa(De,ue){const he=It(ue,["children","$$slots","$$events","$$legacy"]);const ke=[["path",{d:"M12.586 12.586 19 19"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z"}]];Ot(De,Bt({name:"mouse-pointer"},()=>he,{get iconNode(){return ke},children:(Ce,je)=>{var _e=E(),ie=h(_e);Tt(ie,ue,"default",{}),s(Ce,_e)},$$slots:{default:!0}}))}function Ja(De,ue){const he=It(ue,["children","$$slots","$$events","$$legacy"]);const ke=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11"}]];Ot(De,Bt({name:"user-plus"},()=>he,{get iconNode(){return ke},children:(Ce,je)=>{var _e=E(),ie=h(_e);Tt(ie,ue,"default",{}),s(Ce,_e)},$$slots:{default:!0}}))}var Ka=d("<p> </p>"),Qa=d('<div class="flex justify-center py-12"><!></div>'),Wa=d('<div class="mb-4"><!></div>'),Za=d('<tr class="cursor-pointer hover:bg-bg-secondary/50 transition-colors" role="button" tabindex="0"><td class="font-medium text-text"> </td><td class="text-text-muted"> </td><td><!></td><td class="text-text-muted"><!></td></tr>'),es=d('<!> <div class="data-table"><table class="w-full text-sm"><thead><tr><th class="text-left">Email</th><th class="text-left">Name</th><th class="text-left">Status</th><th class="text-left">Subscribed</th></tr></thead><tbody></tbody></table></div>',1),ts=d('<div class="text-center py-4"><!> <p class="text-sm text-base-content/60 mt-2">Loading sequences...</p></div>'),as=d(`<p>You haven't created any sequences yet. Create a sequence first to enroll subscribers.</p> <a class="btn btn-sm btn-primary mt-3">Create Sequence</a>`,1),ss=d("<p> </p>"),rs=d('<div class="space-y-4"><p class="text-sm text-base-content/70">Select a sequence to enroll <span class="font-medium text-base-content"> </span> into:</p> <!> <!> <div class="flex justify-end gap-3 pt-2"><!> <!></div></div>'),ls=d('<p class="text-sm text-base-content/60"> </p>'),is=d("<!> Enroll in Sequence",1),os=d("<!> Remove from List",1),ns=d('<div class="flex items-center gap-2"><!> <!></div>'),vs=d('<div class="flex justify-center items-center h-full"><!></div>'),ds=d("<!> GDPR",1),cs=d('<span class="text-success">Yes</span>'),us=d('<span class="text-warning">Not verified</span>'),_s=d('<div class="flex justify-between"><dt class="text-base-content/60"> </dt> <dd class="font-medium"> </dd></div>'),fs=d('<div class="bg-base-200 rounded-xl p-6"><h4 class="font-semibold mb-4">Custom Fields</h4> <dl class="space-y-3 text-sm"></dl></div>'),ms=d('<span class="text-base-content/40">-</span>'),ps=d('<span class="text-base-content/40">-</span>'),bs=d('<tr><td class="font-medium"> </td><td class="text-center text-base-content/60"> </td><td class="text-center"><!></td><td class="text-center"><!></td></tr>'),xs=d('<div class="overflow-x-auto"><table class="table table-sm"><thead><tr><th>Campaign</th><th class="text-center">Sent</th><th class="text-center">Opens</th><th class="text-center">Clicks</th></tr></thead><tbody></tbody></table></div>'),gs=d('<p class="text-base-content/60 text-sm italic">No campaign activity yet</p>'),hs=d('<div class="flex items-center justify-between p-4 bg-base-100 rounded-lg"><div><p class="font-medium"> </p> <p class="text-xs text-base-content/60"> </p></div> <div><!></div></div>'),$s=d('<div class="space-y-3"></div>'),ys=d('<p class="text-base-content/60 text-sm italic">Not enrolled in any sequences</p>'),Ss=d('<div class="max-w-6xl mx-auto p-6"><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="space-y-6"><div class="bg-base-200 rounded-xl p-6"><div class="flex items-start justify-between mb-4"><div class="flex items-center gap-4"><div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center"><span class="text-2xl font-bold text-primary"> </span></div> <div><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-base-content/60"> </p></div></div></div> <div class="flex items-center gap-2"><!> <!></div></div> <div class="grid grid-cols-3 gap-3"><div class="bg-base-200 rounded-lg p-4 text-center"><!> <div class="text-2xl font-bold"> </div> <div class="text-xs text-base-content/60 uppercase">Sent</div></div> <div class="bg-base-200 rounded-lg p-4 text-center"><!> <div class="text-2xl font-bold"> </div> <div class="text-xs text-base-content/60 uppercase">Opened</div></div> <div class="bg-base-200 rounded-lg p-4 text-center"><!> <div class="text-2xl font-bold"> </div> <div class="text-xs text-base-content/60 uppercase">Clicked</div></div></div> <div class="bg-base-200 rounded-xl p-6"><h4 class="font-semibold mb-4">Details</h4> <dl class="space-y-3 text-sm"><div class="flex justify-between"><dt class="text-base-content/60">Subscribed</dt> <dd class="font-medium"> </dd></div> <div class="flex justify-between"><dt class="text-base-content/60">Verified</dt> <dd class="font-medium"><!></dd></div> <div class="flex justify-between"><dt class="text-base-content/60">Source</dt> <dd class="font-medium"> </dd></div> <div class="flex justify-between"><dt class="text-base-content/60">Last Activity</dt> <dd class="font-medium"> </dd></div></dl></div> <!></div> <div class="lg:col-span-2 space-y-6"><div class="bg-base-200 rounded-xl p-6"><h4 class="font-semibold mb-4">Campaign Activity</h4> <!></div> <div class="bg-base-200 rounded-xl p-6"><h4 class="font-semibold mb-4">Sequence Enrollments</h4> <!></div></div></div></div>'),ws=d('<div class="fixed inset-0 z-50 bg-base-100 flex flex-col"><div class="flex items-center justify-between px-6 py-4 border-b border-base-300 bg-base-200"><div class="flex items-center gap-4"><button type="button" class="btn btn-ghost btn-sm btn-circle"><!></button> <div><h2 class="text-xl font-semibold">Subscriber Details</h2> <!></div></div> <!></div> <div class="flex-1 overflow-y-auto"><!></div></div>'),qs=d("<!> <!> <!> <!> <!>",1);function Gs(De,ue){ya(ue,!0);const he=()=>Da(ka,"$page",ke),[ke,Ce]=za();Ta();let je=ce(()=>he().params.id),_e=ce(()=>`/${he().params.brandSlug}`),ie=P(Ft([])),Qe=P(!0),Ie=P(""),$e=P(""),Be=P(!1),n=P(null),We=P(!1),Ee=P(null),Ne=P(!1),fe=P(null),ye=P(""),Me=P(!1),Se=P(!1),Oe=P(Ft([])),Ze=P(!1),pt=P(!1),Yt=ce(()=>e(ie).filter(l=>l.email.toLowerCase().includes(e(Ie).toLowerCase())||(l.name||"").toLowerCase().includes(e(Ie).toLowerCase())));Sa(()=>{bt()});async function bt(){i(Qe,!0);try{const l=await Ca({},e(je));i(ie,l.subscribers||[],!0)}catch(l){console.error("Failed to load subscribers:",l)}finally{i(Qe,!1)}}async function Gt(){i(Ze,!0);try{const l=await Ma();i(Oe,l.sequences||[],!0)}catch(l){console.error("Failed to load sequences:",l)}finally{i(Ze,!1),i(pt,!0)}}let Te=P(!1),Ye=P(null),et=P(!1);function Ht(l){i(Ye,l,!0),i(Te,!0)}async function Vt(){if(e(Ye)){i(et,!0);try{await ja({},e(je),e(Ye).id),await bt()}catch(l){i($e,l.message||"Failed to remove subscriber",!0)}finally{i(et,!1)}}}async function Xt(l){i(Ee,l,!0),i(Be,!0),i(n,null),i(We,!0);try{i(n,await Na({},e(je),l.id),!0)}catch(z){console.error("Failed to load subscriber detail:",z),i($e,"Failed to load subscriber details")}finally{i(We,!1)}}function Jt(l){i(fe,l,!0),i(ye,""),i(Se,!1),i(Ne,!0),e(pt)||Gt()}async function Kt(){if(!(!e(fe)||!e(ye))){i(Me,!0),i($e,"");try{await Ea({sequence_slug:e(ye),email:e(fe).email}),i(Se,!0),setTimeout(()=>{i(Ne,!1),i(fe,null),i(Se,!1)},1500)}catch(l){i($e,l.message||"Failed to enroll in sequence",!0)}finally{i(Me,!1)}}}var xt=qs(),gt=h(xt);{var Qt=l=>{ft(l,{type:"error",title:"Error",class:"mb-4",children:(z,R)=>{var H=Ka(),J=a(H,!0);t(H),j(()=>f(J,e($e))),s(z,H)},$$slots:{default:!0}})};v(gt,l=>{e($e)&&l(Qt)})}var ht=r(gt,2);{var Wt=l=>{var z=Qa(),R=a(z);mt(R,{}),t(z),s(l,z)},Zt=l=>{var z=E(),R=h(z);{var H=O=>{Oa(O,{get icon(){return Ya},title:"No subscribers yet",description:"Subscribers will appear here when they join this list."})},J=O=>{var te=es(),oe=h(te);{var we=ae=>{var y=Wa(),K=a(y);Ia(K,{placeholder:"Search subscribers...",get value(){return e(Ie)},set value(p){i(Ie,p,!0)}}),t(y),s(ae,y)};v(oe,ae=>{e(ie).length>5&&ae(we)})}var qe=r(oe,2),me=a(qe),pe=r(a(me));Xe(pe,21,()=>e(Yt),Je,(ae,y)=>{var K=Za();K.__click=()=>Xt(e(y));var p=a(K),S=a(p,!0);t(p);var N=r(p),be=a(N,!0);t(N);var c=r(N),w=a(c);{var q=_=>{C(_,{variant:"success",size:"sm",children:(L,se)=>{m();var re=g("Confirmed");s(L,re)},$$slots:{default:!0}})},D=_=>{var L=E(),se=h(L);{var re=k=>{C(k,{variant:"warning",size:"sm",children:(W,Ae)=>{m();var Pe=g("Pending");s(W,Pe)},$$slots:{default:!0}})},Ue=k=>{var W=E(),Ae=h(W);{var Pe=ne=>{C(ne,{variant:"default",size:"sm",children:(Re,at)=>{m();var ve=g("Unsubscribed");s(Re,ve)},$$slots:{default:!0}})},tt=ne=>{C(ne,{variant:"default",size:"sm",children:(Re,at)=>{m();var ve=g();j(()=>f(ve,e(y).status)),s(Re,ve)},$$slots:{default:!0}})};v(Ae,ne=>{e(y).status==="unsubscribed"?ne(Pe):ne(tt,!1)},!0)}s(k,W)};v(se,k=>{e(y).status==="pending"?k(re):k(Ue,!1)},!0)}s(_,L)};v(w,_=>{e(y).status==="confirmed"||e(y).status==="active"?_(q):_(D,!1)})}t(c);var F=r(c),M=a(F);{var Q=_=>{var L=g();j(se=>f(L,se),[()=>new Date(e(y).subscribed_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]),s(_,L)},U=_=>{var L=g("-");s(_,L)};v(M,_=>{e(y).subscribed_at?_(Q):_(U,!1)})}t(F),t(K),j(()=>{f(S,e(y).email),f(be,e(y).name||"-")}),s(ae,K)}),t(pe),t(me),t(qe),s(O,te)};v(R,O=>{e(ie).length===0?O(H):O(J,!1)},!0)}s(l,z)};v(ht,l=>{e(Qe)?l(Wt):l(Zt,!1)})}var $t=r(ht,2);Ua($t,{title:"Enroll in Sequence",size:"sm",get show(){return e(Ne)},set show(l){i(Ne,l,!0)},children:(l,z)=>{var R=E(),H=h(R);{var J=O=>{var te=rs(),oe=a(te),we=r(a(oe)),qe=a(we,!0);t(we),m(),t(oe);var me=r(oe,2);{var pe=c=>{var w=ts(),q=a(w);mt(q,{size:"small"}),m(2),t(w),s(c,w)},ae=c=>{var w=E(),q=h(w);{var D=M=>{ft(M,{type:"info",title:"No sequences available",children:(Q,U)=>{var _=as(),L=r(h(_),2);j(()=>La(L,"href",`${e(_e)??""}/sequences`)),s(Q,_)},$$slots:{default:!0}})},F=M=>{{let Q=ce(()=>[{value:"",label:"Select a sequence..."},...e(Oe).map(U=>({value:U.slug,label:`${U.name} (${U.trigger_event})`}))]);Ra(M,{get options(){return e(Q)},get value(){return e(ye)},set value(U){i(ye,U,!0)}})}};v(q,M=>{e(Oe).length===0?M(D):M(F,!1)},!0)}s(c,w)};v(me,c=>{e(Ze)?c(pe):c(ae,!1)})}var y=r(me,2);{var K=c=>{ft(c,{type:"success",title:"Enrolled",children:(w,q)=>{var D=ss(),F=a(D);t(D),j(()=>f(F,`${e(fe).email??""} has been enrolled in the sequence.`)),s(w,D)},$$slots:{default:!0}})};v(y,c=>{e(Se)&&c(K)})}var p=r(y,2),S=a(p);Ke(S,{type:"secondary",onclick:()=>i(Ne,!1),get disabled(){return e(Me)},children:(c,w)=>{m();var q=g("Cancel");s(c,q)},$$slots:{default:!0}});var N=r(S,2);{var be=c=>{{let w=ce(()=>!e(ye)||e(Me)||e(Se));Ke(c,{type:"primary",onclick:Kt,get disabled(){return e(w)},children:(q,D)=>{var F=E(),M=h(F);{var Q=_=>{var L=g("Enrolling...");s(_,L)},U=_=>{var L=E(),se=h(L);{var re=k=>{var W=g("Enrolled!");s(k,W)},Ue=k=>{var W=g("Enroll");s(k,W)};v(se,k=>{e(Se)?k(re):k(Ue,!1)},!0)}s(_,L)};v(M,_=>{e(Me)?_(Q):_(U,!1)})}s(q,F)},$$slots:{default:!0}})}};v(N,c=>{e(Oe).length>0&&c(be)})}t(p),t(te),j(()=>f(qe,e(fe).email)),s(O,te)};v(H,O=>{e(fe)&&O(J)})}s(l,R)},$$slots:{default:!0}});var yt=r($t,2);{var ea=l=>{var z=ws(),R=a(z),H=a(R),J=a(H);J.__click=()=>i(Be,!1);var O=a(J);Fa(O,{class:"h-5 w-5"}),t(J);var te=r(J,2),oe=r(a(te),2);{var we=p=>{var S=ls(),N=a(S,!0);t(S),j(()=>f(N,e(n).email)),s(p,S)};v(oe,p=>{e(n)&&p(we)})}t(te),t(H);var qe=r(H,2);{var me=p=>{var S=ns(),N=a(S);Ke(N,{type:"secondary",size:"sm",onclick:()=>{e(Ee)&&Jt(e(Ee))},children:(c,w)=>{var q=is(),D=h(q);Ja(D,{class:"h-4 w-4 mr-1.5"}),m(),s(c,q)},$$slots:{default:!0}});var be=r(N,2);Ke(be,{type:"danger",size:"sm",onclick:()=>{e(Ee)&&(i(Be,!1),Ht(e(Ee)))},children:(c,w)=>{var q=os(),D=h(q);Ga(D,{class:"h-4 w-4 mr-1.5"}),m(),s(c,q)},$$slots:{default:!0}}),t(S),s(p,S)};v(qe,p=>{e(n)&&p(me)})}t(R);var pe=r(R,2),ae=a(pe);{var y=p=>{var S=vs(),N=a(S);mt(N,{size:"large"}),t(S),s(p,S)},K=p=>{var S=E(),N=h(S);{var be=c=>{var w=Ss(),q=a(w),D=a(q),F=a(D),M=a(F),Q=a(M),U=a(Q),_=a(U),L=a(_,!0);t(_),t(U);var se=r(U,2),re=a(se),Ue=a(re,!0);t(re);var k=r(re,2),W=a(k,!0);t(k),t(se),t(Q),t(M);var Ae=r(M,2),Pe=a(Ae);{var tt=o=>{C(o,{variant:"success",children:(u,I)=>{m();var $=g("Active");s(u,$)},$$slots:{default:!0}})},ne=o=>{var u=E(),I=h(u);{var $=b=>{C(b,{variant:"warning",children:(A,Z)=>{m();var T=g("Pending");s(A,T)},$$slots:{default:!0}})},V=b=>{var A=E(),Z=h(A);{var T=B=>{C(B,{variant:"default",children:(Y,xe)=>{m();var de=g("Unsubscribed");s(Y,de)},$$slots:{default:!0}})},X=B=>{C(B,{variant:"default",children:(Y,xe)=>{m();var de=g();j(()=>f(de,e(n).status)),s(Y,de)},$$slots:{default:!0}})};v(Z,B=>{e(n).status==="unsubscribed"?B(T):B(X,!1)},!0)}s(b,A)};v(I,b=>{e(n).status==="pending"?b($):b(V,!1)},!0)}s(o,u)};v(Pe,o=>{e(n).status==="active"?o(tt):o(ne,!1)})}var Re=r(Pe,2);{var at=o=>{C(o,{variant:"info",size:"sm",children:(u,I)=>{var $=ds(),V=h($);Va(V,{class:"h-3 w-3 mr-1"}),m(),s(u,$)},$$slots:{default:!0}})};v(Re,o=>{e(n).gdpr_consent&&o(at)})}t(Ae),t(F);var ve=r(F,2),st=a(ve),St=a(st);Ha(St,{class:"h-5 w-5 mx-auto mb-2 text-base-content/60"});var wt=r(St,2),aa=a(wt,!0);t(wt),m(2),t(st);var rt=r(st,2),qt=a(rt);Ba(qt,{class:"h-5 w-5 mx-auto mb-2 text-base-content/60"});var Pt=r(qt,2),sa=a(Pt,!0);t(Pt),m(2),t(rt);var Lt=r(rt,2),zt=a(Lt);Xa(zt,{class:"h-5 w-5 mx-auto mb-2 text-base-content/60"});var Dt=r(zt,2),ra=a(Dt,!0);t(Dt),m(2),t(Lt),t(ve);var lt=r(ve,2),kt=r(a(lt),2),it=a(kt),Ct=r(a(it),2),la=a(Ct,!0);t(Ct),t(it);var ot=r(it,2),jt=r(a(ot),2),ia=a(jt);{var oa=o=>{var u=cs();s(o,u)},na=o=>{var u=us();s(o,u)};v(ia,o=>{e(n).email_verified?o(oa):o(na,!1)})}t(jt),t(ot);var nt=r(ot,2),Et=r(a(nt),2),va=a(Et,!0);t(Et),t(nt);var Nt=r(nt,2),Mt=r(a(Nt),2),da=a(Mt,!0);t(Mt),t(Nt),t(kt),t(lt);var ca=r(lt,2);{var ua=o=>{var u=fs(),I=r(a(u),2);Xe(I,21,()=>Object.entries(e(n).custom_fields),Je,($,V)=>{var b=ce(()=>qa(e(V),2));let A=()=>e(b)[0],Z=()=>e(b)[1];var T=_s(),X=a(T),B=a(X,!0);t(X);var Y=r(X,2),xe=a(Y,!0);t(Y),t(T),j(()=>{f(B,A()),f(xe,Z()||"-")}),s($,T)}),t(I),t(u),s(o,u)};v(ca,o=>{e(n).custom_fields&&Object.keys(e(n).custom_fields).length>0&&o(ua)})}t(D);var Ut=r(D,2),vt=a(Ut),_a=r(a(vt),2);{var fa=o=>{var u=xs(),I=a(u),$=r(a(I));Xe($,21,()=>e(n).campaign_activity,Je,(V,b)=>{var A=bs(),Z=a(A),T=a(Z,!0);t(Z);var X=r(Z),B=a(X,!0);t(X);var Y=r(X),xe=a(Y);{var de=x=>{C(x,{variant:"success",size:"sm",children:(G,He)=>{m();var le=g();j(()=>f(le,e(b).open_count)),s(G,le)},$$slots:{default:!0}})},ee=x=>{var G=ms();s(x,G)};v(xe,x=>{e(b).opened_at?x(de):x(ee,!1)})}t(Y);var ge=r(Y),Ge=a(ge);{var Fe=x=>{C(x,{variant:"info",size:"sm",children:(G,He)=>{m();var le=g();j(()=>f(le,e(b).click_count)),s(G,le)},$$slots:{default:!0}})},dt=x=>{var G=ps();s(x,G)};v(Ge,x=>{e(b).clicked_at?x(Fe):x(dt,!1)})}t(ge),t(A),j(x=>{f(T,e(b).campaign_name||e(b).campaign_subject||"Unknown"),f(B,x)},[()=>e(b).sent_at?new Date(e(b).sent_at).toLocaleDateString():"-"]),s(V,A)}),t($),t(I),t(u),s(o,u)},ma=o=>{var u=gs();s(o,u)};v(_a,o=>{e(n).campaign_activity&&e(n).campaign_activity.length>0?o(fa):o(ma,!1)})}t(vt);var At=r(vt,2),pa=r(a(At),2);{var ba=o=>{var u=$s();Xe(u,21,()=>e(n).sequence_enrollments,Je,(I,$)=>{var V=hs(),b=a(V),A=a(b),Z=a(A,!0);t(A);var T=r(A,2),X=a(T);t(T),t(b);var B=r(b,2),Y=a(B);{var xe=ee=>{C(ee,{variant:"success",size:"sm",children:(ge,Ge)=>{m();var Fe=g("Completed");s(ge,Fe)},$$slots:{default:!0}})},de=ee=>{var ge=E(),Ge=h(ge);{var Fe=x=>{C(x,{variant:"warning",size:"sm",children:(G,He)=>{m();var le=g("Paused");s(G,le)},$$slots:{default:!0}})},dt=x=>{var G=E(),He=h(G);{var le=Le=>{C(Le,{variant:"default",size:"sm",children:(Ve,Rt)=>{m();var ct=g("Unsubscribed");s(Ve,ct)},$$slots:{default:!0}})},ga=Le=>{var Ve=E(),Rt=h(Ve);{var ct=ze=>{C(ze,{variant:"info",size:"sm",children:(ut,$a)=>{m();var _t=g("Active");s(ut,_t)},$$slots:{default:!0}})},ha=ze=>{C(ze,{variant:"default",size:"sm",children:(ut,$a)=>{m();var _t=g("Inactive");s(ut,_t)},$$slots:{default:!0}})};v(Rt,ze=>{e($).is_active?ze(ct):ze(ha,!1)},!0)}s(Le,Ve)};v(He,Le=>{e($).unsubscribed_at?Le(le):Le(ga,!1)},!0)}s(x,G)};v(Ge,x=>{e($).paused_at?x(Fe):x(dt,!1)},!0)}s(ee,ge)};v(Y,ee=>{e($).completed_at?ee(xe):ee(de,!1)})}t(B),t(V),j(ee=>{f(Z,e($).sequence_name||"Unknown Sequence"),f(X,`Step ${e($).current_position??""} â€¢ Started ${ee??""}`)},[()=>e($).started_at?new Date(e($).started_at).toLocaleDateString():"-"]),s(I,V)}),t(u),s(o,u)},xa=o=>{var u=ys();s(o,u)};v(pa,o=>{e(n).sequence_enrollments&&e(n).sequence_enrollments.length>0?o(ba):o(xa,!1)})}t(At),t(Ut),t(q),t(w),j((o,u,I)=>{f(L,o),f(Ue,e(n).name||"No name"),f(W,e(n).email),f(aa,e(n).emails_sent),f(sa,e(n).emails_opened),f(ra,e(n).emails_clicked),f(la,u),f(va,e(n).source||"-"),f(da,I)},[()=>(e(n).name||e(n).email).charAt(0).toUpperCase(),()=>e(n).subscribed_at?new Date(e(n).subscribed_at).toLocaleDateString():"-",()=>e(n).last_open_at?new Date(e(n).last_open_at).toLocaleDateString():e(n).last_email_at?new Date(e(n).last_email_at).toLocaleDateString():"-"]),s(c,w)};v(N,c=>{e(n)&&c(be)},!0)}s(p,S)};v(ae,p=>{e(We)?p(y):p(K,!1)})}t(pe),t(z),s(l,z)};v(yt,l=>{e(Be)&&l(ea)})}var ta=r(yt,2);{let l=ce(()=>`Remove ${e(Ye)?.email||""} from this list?`),z=ce(()=>e(et)?"Removing...":"Remove");Aa(ta,{title:"Remove Subscriber",get description(){return e(l)},get actionLabel(){return e(z)},actionType:"danger",onAction:Vt,onCancel:()=>i(Te,!1),get open(){return e(Te)},set open(R){i(Te,R,!0)}})}s(De,xt),wa(),Ce()}Pa(["click"]);export{Gs as component};
