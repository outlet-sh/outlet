import"../chunks/DsnmJJEf.js";import{p as Ct,u as Ue,i as e,b as s,f as T,d as Ut,j as Ae,s as v,h as t,c as a,r,t as W,n as S}from"../chunks/odI--4Kw.js";import{d as At,s as H}from"../chunks/BNMK9zrr.js";import{a as o,f as n,c as Me,t as Be}from"../chunks/CCInJaqd.js";import{i as j}from"../chunks/COaB7F5h.js";import{r as Le}from"../chunks/BohEjZuL.js";import{g as Lt,A as Vt,B as q,X as Fe,I as K,P as Ne,E as We,C as re,c as Rt,l as dt,m as Ve}from"../chunks/CKHj2K0U.js";import{s as Dt,a as Yt}from"../chunks/DL1yFSKa.js";import{p as It}from"../chunks/Wl_A6iPG.js";import{g as Gt}from"../chunks/J_BT3AZT.js";import{M as zt,C as Mt,N as Bt}from"../chunks/CbJUEE85.js";import{L as Ft}from"../chunks/D716f0vp.js";import{S as He,T as qe}from"../chunks/D26g465z.js";import{g as Nt}from"../chunks/B5W8Y6hm.js";import{P as Oe}from"../chunks/CRf-V5hh.js";import{T as Wt}from"../chunks/Cu0Q0NU6.js";var Ht=n("<p> </p>"),qt=n('<div class="flex justify-center py-12"><!></div>'),Ot=n('<h2 class="text-lg font-medium text-text mb-4">General</h2> <div class="space-y-4"><div><label for="list-name" class="form-label">List Name</label> <!></div> <div><label for="list-desc" class="form-label">Description</label> <!></div> <div><label class="form-label">Slug</label> <p class="text-sm text-text-muted bg-bg-secondary px-3 py-2 rounded-md"> </p> <p class="mt-1 text-xs text-text-muted">The slug cannot be changed after creation</p></div> <div><!> <p class="text-xs text-text-muted mt-1 ml-6">Subscribers must confirm their email before being added</p></div></div>',1),Xt=n("<!> Edit Email",1),Zt=n('<span class="text-text-muted ml-2"> </span>'),Jt=n('<span class="text-text-muted/50 ml-2 italic">Using default: "Please confirm your subscription"</span>'),Kt=n('<span class="text-text-muted ml-2"> </span>'),Qt=n('<span class="text-text-muted/50 ml-2 italic">Using default confirmation email template</span>'),ea=n('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Confirmation Email</h2> <p class="text-sm text-text-muted">Email sent to confirm subscription (double opt-in)</p></div> <!></div> <div class="bg-bg-secondary rounded-lg p-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div>',1),ta=n('<div><label for="confirm-redirect-url" class="form-label">Subscription Confirmed Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone confirms their subscription (clicks the confirmation link).</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic confirmation page will be shown if left empty.</p></div>'),aa=n('<h2 class="text-lg font-medium text-text mb-2">Subscribe Settings</h2> <p class="text-sm text-text-muted mb-4">Configure redirect URLs for new subscribers.</p> <div class="space-y-4"><div><label for="thank-you-url" class="form-label">Subscribe Success Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone submits the subscribe form (before confirmation if double opt-in).</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic success page will be shown if left empty.</p></div> <!> <div><label for="already-subscribed-url" class="form-label">Already Subscribed Redirect URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect if someone tries to subscribe but is already on the list.</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic "already subscribed" page will be shown if left empty.</p></div></div>',1),ra=n('<span class="text-text-muted ml-2"> </span>'),sa=n('<span class="text-text-muted/50 ml-2 italic">Using default: "Welcome!"</span>'),la=n('<span class="text-text-muted ml-2"> </span>'),ia=n('<span class="text-text-muted/50 ml-2 italic">Using default welcome email template</span>'),oa=n("<!> Edit Email",1),na=n('<div class="border-t border-border pt-4"><div class="flex items-center justify-between mb-3"><div class="bg-bg-secondary rounded-lg p-4 flex-1 mr-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div> <!></div></div>'),da=n('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Thank You Email</h2> <p class="text-sm text-text-muted">Send a welcome email after successful subscription</p></div> <!></div> <!>',1),ca=n('<h2 class="text-lg font-medium text-text mb-4">Unsubscribe Settings</h2> <div class="space-y-4"><div><label class="form-label">Unsubscribe Behavior</label> <div class="space-y-2"><label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-behavior" class="radio radio-primary"/> <div><span class="font-medium text-text">Single opt-out</span> <p class="text-sm text-text-muted">Immediately unsubscribe when they click the link</p></div></label> <label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-behavior" class="radio radio-primary"/> <div><span class="font-medium text-text">Double opt-out</span> <p class="text-sm text-text-muted">Require confirmation before unsubscribing</p></div></label></div></div> <div><label class="form-label">Unsubscribe Scope</label> <div class="space-y-2"><label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-scope" class="radio radio-primary"/> <div><span class="font-medium text-text">This list only</span> <p class="text-sm text-text-muted">Unsubscribe from this list, but stay on other lists</p></div></label> <label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-scope" class="radio radio-primary"/> <div><span class="font-medium text-text">All lists</span> <p class="text-sm text-text-muted">Unsubscribe from all lists in the organization</p></div></label></div></div> <div><label for="unsubscribe-redirect-url" class="form-label">Unsubscribe Confirmation Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone unsubscribes.</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic unsubscribe confirmation page will be shown if left empty.</p></div></div>',1),va=n('<span class="text-text-muted ml-2"> </span>'),ua=n('<span class="text-text-muted/50 ml-2 italic">Using default: "Sorry to see you go"</span>'),ma=n('<span class="text-text-muted ml-2"> </span>'),ba=n('<span class="text-text-muted/50 ml-2 italic">Using default goodbye email template</span>'),fa=n("<!> Edit Email",1),pa=n('<div class="border-t border-border pt-4"><div class="flex items-center justify-between mb-3"><div class="bg-bg-secondary rounded-lg p-4 flex-1 mr-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div> <!></div></div>'),_a=n('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Goodbye Email</h2> <p class="text-sm text-text-muted">Send a farewell email after unsubscribing</p></div> <!></div> <!>',1),xa=n(`<div class="flex items-center justify-between"><p class="text-sm text-text-muted">Save all changes to this list's settings</p> <!></div>`),ga=n("<!> Delete List",1),ha=n('<h2 class="text-lg font-medium text-red-600 mb-4">Danger Zone</h2> <p class="text-sm text-text-muted mb-4">Permanently delete this list and all its subscribers. This action cannot be undone.</p> <!>',1),ya=n('<div class="space-y-6"><!> <!> <!> <!> <!> <!> <!> <!></div>'),wa=n("<!> Cancel",1),$a=n("<!> ",1),ka=n(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Confirmation Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="conf-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent when someone subscribes to your list with double opt-in enabled.
								It must include a confirmation link for the subscriber to click.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <!></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="conf-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),Sa=n("<!> Cancel",1),Pa=n("<!> ",1),Ta=n(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Thank You Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="ty-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent after someone successfully subscribes to your list.
								Use it to welcome new subscribers and set expectations.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <!></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="ty-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),Ea=n("<!> Cancel",1),ja=n("<!> ",1),Ca=n(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Goodbye Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="bye-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent after someone unsubscribes from your list.
								Consider including a way for them to resubscribe if they change their mind.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <!></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="bye-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),Ua=n("<!> <!> <!> <!> <!> <!>",1);function Oa(ct,vt){Ct(vt,!0);const Xe=()=>Yt(It,"$page",ut),[ut,mt]=Dt(),Ze=[],Je=[],bt=Nt();let Re=Ae(()=>Xe().params.id),ft=Ae(()=>`/${Xe().params.brandSlug}`),De=v(!0),P=v(null),se=v(""),he=v(!1),ye=v(!1),be=v(""),we=v(""),ie=v(!0),oe=v(""),X=v(""),fe=v(""),$e=v(""),ke=v(""),Se=v(""),pe=v(!1),ne=v(""),Z=v(""),_e=v(""),de=v("single"),ce=v("list"),Pe=v(""),xe=v(!1),ve=v(""),J=v(""),ge=v(""),Te=v(!1),Ye=v(!1),Ee=v(!1),je=v(!1),Ce=v(!1),Q=v(!1),ue=v(!1),Ke=v(null),Qe=v(null),et=v(null);const pt=[{name:"confirm_url",label:"Confirmation link",required:!0},{name:"name",label:"Subscriber name"},{name:"email",label:"Subscriber email"},{name:"name,fallback=Friend",label:"Name with fallback"}],_t=[{name:"name",label:"Subscriber name"},{name:"email",label:"Subscriber email"},{name:"name,fallback=Friend",label:"Name with fallback"},{name:"currentday",label:"Day name"},{name:"currentmonth",label:"Month name"},{name:"currentyear",label:"Year"},{name:"unsubscribe_url",label:"Unsubscribe link"},{name:"webversion_url",label:"Web version link"}],xt=[{name:"name",label:"Subscriber name"},{name:"email",label:"Subscriber email"},{name:"name,fallback=Friend",label:"Name with fallback"},{name:"resubscribe_url",label:"Resubscribe link"}];function me(d){return d?d.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<br\s*\/?>/gi,`
`).replace(/<\/p>/gi,`

`).replace(/<\/div>/gi,`
`).replace(/<\/li>/gi,`
`).replace(/<a[^>]*href=["']([^"']*)["'][^>]*>([^<]*)<\/a>/gi,"$2 ($1)").replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\n{3,}/g,`

`).trim():""}Ue(()=>{e(X)&&!e(fe).trim()&&s(fe,me(e(X)),!0)}),Ue(()=>{e(Z)&&!e(_e).trim()&&s(_e,me(e(Z)),!0)}),Ue(()=>{e(J)&&!e(ge).trim()&&s(ge,me(e(J)),!0)});function gt(){s(fe,me(e(X)),!0)}function ht(){s(_e,me(e(Z)),!0)}function yt(){s(ge,me(e(J)),!0)}Ue(()=>{tt()});async function tt(){s(De,!0),s(se,"");try{s(P,await zt({},e(Re)),!0),s(be,e(P).name,!0),s(we,e(P).description||"",!0),s(ie,e(P).double_optin||!1,!0),s(oe,e(P).confirmation_subject||"",!0),s(X,e(P).confirmation_body||"",!0),s($e,e(P).thank_you_url||"",!0),s(ke,e(P).confirm_redirect_url||"",!0),s(Se,e(P).already_subscribed_url||"",!0),s(pe,e(P).thank_you_email_enabled||!1,!0),s(ne,e(P).thank_you_email_subject||"",!0),s(Z,e(P).thank_you_email_body||"",!0),s(de,e(P).unsubscribe_behavior||"single",!0),s(ce,e(P).unsubscribe_scope||"list",!0),s(Pe,e(P).unsubscribe_redirect_url||"",!0),s(xe,e(P).goodbye_email_enabled||!1,!0),s(ve,e(P).goodbye_email_subject||"",!0),s(J,e(P).goodbye_email_body||"",!0)}catch(d){console.error("Failed to load list:",d),s(se,"Failed to load list settings")}finally{s(De,!1)}}async function at(){if(!(!e(P)||!e(be).trim())){s(he,!0),s(ye,!1),s(se,"");try{await Bt({},{name:e(be).trim(),description:e(we).trim(),double_optin:e(ie),confirmation_subject:e(oe).trim()||void 0,confirmation_body:e(X).trim()||void 0,thank_you_url:e($e).trim()||void 0,confirm_redirect_url:e(ke).trim()||void 0,already_subscribed_url:e(Se).trim()||void 0,thank_you_email_enabled:e(pe),thank_you_email_subject:e(ne).trim()||void 0,thank_you_email_body:e(Z).trim()||void 0,unsubscribe_behavior:e(de),unsubscribe_scope:e(ce),unsubscribe_redirect_url:e(Pe).trim()||void 0,goodbye_email_enabled:e(xe),goodbye_email_subject:e(ve).trim()||void 0,goodbye_email_body:e(J).trim()||void 0},e(Re)),await tt(),await bt.reload?.(),s(ye,!0),setTimeout(()=>{s(ye,!1)},2e3)}catch(d){s(se,d.message||"Failed to save settings",!0)}finally{s(he,!1)}}}async function Ie(d){s(Q,!0),s(ue,!1);try{await at(),s(ue,!0),setTimeout(()=>{d(),s(ue,!1)},500)}catch{}finally{s(Q,!1)}}async function wt(){s(Ye,!0);try{await Mt({},e(Re)),Gt(`${e(ft)}/lists`)}catch(d){s(se,d.message||"Failed to delete list",!0)}finally{s(Ye,!1)}}function Ge(d){if(!d)return"No content yet";const g=d.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();return g.slice(0,100)+(g.length>100?"...":"")}var rt=Ua(),st=T(rt);{var $t=d=>{Vt(d,{type:"error",title:"Error",class:"mb-4",children:(g,L)=>{var C=Ht(),R=a(C,!0);r(C),W(()=>H(R,e(se))),o(g,C)},$$slots:{default:!0}})};j(st,d=>{e(se)&&d($t)})}var lt=t(st,2);{var kt=d=>{var g=qt(),L=a(g);Ft(L,{}),r(g),o(d,g)},St=d=>{var g=Me(),L=T(g);{var C=R=>{var z=ya(),ee=a(z);re(ee,{children:($,U)=>{var u=Ot(),p=t(T(u),2),_=a(p),l=t(a(_),2);K(l,{id:"list-name",type:"text",get value(){return e(be)},set value(E){s(be,E,!0)}}),r(_);var x=t(_,2),i=t(a(x),2);K(i,{id:"list-desc",type:"text",placeholder:"Optional description",get value(){return e(we)},set value(E){s(we,E,!0)}}),r(x);var c=t(x,2),h=t(a(c),2),f=a(h,!0);r(h),S(2),r(c);var y=t(c,2),V=a(y);Rt(V,{label:"Require double opt-in",get checked(){return e(ie)},set checked(E){s(ie,E,!0)}}),S(2),r(y),r(p),W(()=>H(f,e(P).slug)),o($,u)},$$slots:{default:!0}});var B=t(ee,2);{var Y=$=>{re($,{children:(U,u)=>{var p=ea(),_=T(p),l=t(a(_),2);q(l,{type:"secondary",onclick:()=>s(Ee,!0),children:(m,k)=>{var M=Xt(),A=T(M);Oe(A,{class:"mr-2 h-4 w-4"}),S(),o(m,M)},$$slots:{default:!0}}),r(_);var x=t(_,2),i=a(x),c=t(a(i),2);{var h=m=>{var k=Zt(),M=a(k,!0);r(k),W(()=>H(M,e(oe))),o(m,k)},f=m=>{var k=Jt();o(m,k)};j(c,m=>{e(oe)?m(h):m(f,!1)})}r(i);var y=t(i,2),V=t(a(y),2);{var E=m=>{var k=Kt(),M=a(k,!0);r(k),W(A=>H(M,A),[()=>Ge(e(X))]),o(m,k)},O=m=>{var k=Qt();o(m,k)};j(V,m=>{e(X)?m(E):m(O,!1)})}r(y),r(x),o(U,p)},$$slots:{default:!0}})};j(B,$=>{e(ie)&&$(Y)})}var F=t(B,2);re(F,{children:($,U)=>{var u=aa(),p=t(T(u),4),_=a(p),l=t(a(_),2);K(l,{id:"thank-you-url",type:"url",placeholder:"https://yoursite.com/thank-you",get value(){return e($e)},set value(f){s($e,f,!0)}}),S(4),r(_);var x=t(_,2);{var i=f=>{var y=ta(),V=t(a(y),2);K(V,{id:"confirm-redirect-url",type:"url",placeholder:"https://yoursite.com/subscription-confirmed",get value(){return e(ke)},set value(E){s(ke,E,!0)}}),S(4),r(y),o(f,y)};j(x,f=>{e(ie)&&f(i)})}var c=t(x,2),h=t(a(c),2);K(h,{id:"already-subscribed-url",type:"url",placeholder:"https://yoursite.com/already-subscribed",get value(){return e(Se)},set value(f){s(Se,f,!0)}}),S(4),r(c),r(p),o($,u)},$$slots:{default:!0}});var D=t(F,2);re(D,{children:($,U)=>{var u=da(),p=T(u),_=t(a(p),2);dt(_,{get checked(){return e(pe)},set checked(i){s(pe,i,!0)}}),r(p);var l=t(p,2);{var x=i=>{var c=na(),h=a(c),f=a(h),y=a(f),V=t(a(y),2);{var E=b=>{var w=ra(),G=a(w,!0);r(w),W(()=>H(G,e(ne))),o(b,w)},O=b=>{var w=sa();o(b,w)};j(V,b=>{e(ne)?b(E):b(O,!1)})}r(y);var m=t(y,2),k=t(a(m),2);{var M=b=>{var w=la(),G=a(w,!0);r(w),W(le=>H(G,le),[()=>Ge(e(Z))]),o(b,w)},A=b=>{var w=ia();o(b,w)};j(k,b=>{e(Z)?b(M):b(A,!1)})}r(m),r(f);var ze=t(f,2);q(ze,{type:"secondary",onclick:()=>s(je,!0),children:(b,w)=>{var G=oa(),le=T(G);Oe(le,{class:"mr-2 h-4 w-4"}),S(),o(b,G)},$$slots:{default:!0}}),r(h),r(c),o(i,c)};j(l,i=>{e(pe)&&i(x)})}o($,u)},$$slots:{default:!0}});var te=t(D,2);re(te,{children:($,U)=>{var u=ca(),p=t(T(u),2),_=a(p),l=t(a(_),2),x=a(l),i=a(x);Le(i),i.value=i.__value="single",S(2),r(x);var c=t(x,2),h=a(c);Le(h),h.value=h.__value="double",S(2),r(c),r(l),r(_);var f=t(_,2),y=t(a(f),2),V=a(y),E=a(V);Le(E),E.value=E.__value="list",S(2),r(V);var O=t(V,2),m=a(O);Le(m),m.value=m.__value="all",S(2),r(O),r(y),r(f);var k=t(f,2),M=t(a(k),2);K(M,{id:"unsubscribe-redirect-url",type:"url",placeholder:"https://yoursite.com/unsubscribed",get value(){return e(Pe)},set value(A){s(Pe,A,!0)}}),S(4),r(k),r(p),Ve(Ze,[],i,()=>e(de),A=>s(de,A)),Ve(Ze,[],h,()=>e(de),A=>s(de,A)),Ve(Je,[],E,()=>e(ce),A=>s(ce,A)),Ve(Je,[],m,()=>e(ce),A=>s(ce,A)),o($,u)},$$slots:{default:!0}});var ae=t(te,2);re(ae,{children:($,U)=>{var u=_a(),p=T(u),_=t(a(p),2);dt(_,{get checked(){return e(xe)},set checked(i){s(xe,i,!0)}}),r(p);var l=t(p,2);{var x=i=>{var c=pa(),h=a(c),f=a(h),y=a(f),V=t(a(y),2);{var E=b=>{var w=va(),G=a(w,!0);r(w),W(()=>H(G,e(ve))),o(b,w)},O=b=>{var w=ua();o(b,w)};j(V,b=>{e(ve)?b(E):b(O,!1)})}r(y);var m=t(y,2),k=t(a(m),2);{var M=b=>{var w=ma(),G=a(w,!0);r(w),W(le=>H(G,le),[()=>Ge(e(J))]),o(b,w)},A=b=>{var w=ba();o(b,w)};j(k,b=>{e(J)?b(M):b(A,!1)})}r(m),r(f);var ze=t(f,2);q(ze,{type:"secondary",onclick:()=>s(Ce,!0),children:(b,w)=>{var G=fa(),le=T(G);Oe(le,{class:"mr-2 h-4 w-4"}),S(),o(b,G)},$$slots:{default:!0}}),r(h),r(c),o(i,c)};j(l,i=>{e(xe)&&i(x)})}o($,u)},$$slots:{default:!0}});var N=t(ae,2);re(N,{children:($,U)=>{var u=xa(),p=t(a(u),2);q(p,{type:"primary",onclick:at,get disabled(){return e(he)},children:(_,l)=>{var x=Me(),i=T(x);{var c=f=>{var y=Be("Saving...");o(f,y)},h=f=>{var y=Me(),V=T(y);{var E=m=>{var k=Be("Saved!");o(m,k)},O=m=>{var k=Be("Save Changes");o(m,k)};j(V,m=>{e(ye)?m(E):m(O,!1)},!0)}o(f,y)};j(i,f=>{e(he)?f(c):f(h,!1)})}o(_,x)},$$slots:{default:!0}}),r(u),o($,u)},$$slots:{default:!0}});var I=t(N,2);re(I,{children:($,U)=>{var u=ha(),p=t(T(u),4);q(p,{type:"danger",onclick:()=>s(Te,!0),children:(_,l)=>{var x=ga(),i=T(x);Wt(i,{class:"mr-2 h-4 w-4"}),S(),o(_,x)},$$slots:{default:!0}}),o($,u)},$$slots:{default:!0}}),r(z),o(R,z)};j(L,R=>{e(P)&&R(C)},!0)}o(d,g)};j(lt,d=>{e(De)?d(kt):d(St,!1)})}var it=t(lt,2);{var Pt=d=>{var g=ka(),L=a(g),C=a(L),R=t(a(C),2),z=a(R);q(z,{type:"secondary",onclick:()=>s(Ee,!1),children:(l,x)=>{var i=wa(),c=T(i);Fe(c,{class:"mr-2 h-4 w-4"}),S(),o(l,i)},$$slots:{default:!0}});var ee=t(z,2);q(ee,{type:"primary",onclick:()=>Ie(()=>s(Ee,!1)),get disabled(){return e(Q)},children:(l,x)=>{var i=$a(),c=T(i);He(c,{class:"mr-2 h-4 w-4"});var h=t(c);W(()=>H(h,` ${e(Q)?"Saving...":e(ue)?"Saved!":"Save & Close"}`)),o(l,i)},$$slots:{default:!0}}),r(R),r(C);var B=t(C,2),Y=a(B),F=a(Y),D=a(F),te=t(a(D),2);K(te,{id:"conf-subject",type:"text",placeholder:"Please confirm your subscription",get value(){return e(oe)},set value(l){s(oe,l,!0)}}),S(2),r(D);var ae=t(D,4);Ne(ae,{get variables(){return pt},get insertVariable(){return e(Ke)}}),r(F),r(Y);var N=t(Y,2),I=a(N),$=a(I);We($,{placeholder:"Click the link below to confirm your subscription...",showVariableInserts:!1,onInsertVariable:l=>s(Ke,l,!0),class:"h-full",get value(){return e(X)},set value(l){s(X,l,!0)}}),r(I);var U=t(I,2),u=a(U),p=t(a(u),2);p.__click=gt,r(u);var _=t(u,2);qe(_,{id:"conf-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e(fe)},set value(l){s(fe,l,!0)}}),S(2),r(U),r(N),r(B),r(L),r(g),o(d,g)};j(it,d=>{e(Ee)&&d(Pt)})}var ot=t(it,2);{var Tt=d=>{var g=Ta(),L=a(g),C=a(L),R=t(a(C),2),z=a(R);q(z,{type:"secondary",onclick:()=>s(je,!1),children:(l,x)=>{var i=Sa(),c=T(i);Fe(c,{class:"mr-2 h-4 w-4"}),S(),o(l,i)},$$slots:{default:!0}});var ee=t(z,2);q(ee,{type:"primary",onclick:()=>Ie(()=>s(je,!1)),get disabled(){return e(Q)},children:(l,x)=>{var i=Pa(),c=T(i);He(c,{class:"mr-2 h-4 w-4"});var h=t(c);W(()=>H(h,` ${e(Q)?"Saving...":e(ue)?"Saved!":"Save & Close"}`)),o(l,i)},$$slots:{default:!0}}),r(R),r(C);var B=t(C,2),Y=a(B),F=a(Y),D=a(F),te=t(a(D),2);K(te,{id:"ty-subject",type:"text",placeholder:"Welcome to our list!",get value(){return e(ne)},set value(l){s(ne,l,!0)}}),S(2),r(D);var ae=t(D,4);Ne(ae,{get variables(){return _t},get insertVariable(){return e(Qe)}}),r(F),r(Y);var N=t(Y,2),I=a(N),$=a(I);We($,{placeholder:"Thank you for subscribing!",showVariableInserts:!1,onInsertVariable:l=>s(Qe,l,!0),class:"h-full",get value(){return e(Z)},set value(l){s(Z,l,!0)}}),r(I);var U=t(I,2),u=a(U),p=t(a(u),2);p.__click=ht,r(u);var _=t(u,2);qe(_,{id:"ty-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e(_e)},set value(l){s(_e,l,!0)}}),S(2),r(U),r(N),r(B),r(L),r(g),o(d,g)};j(ot,d=>{e(je)&&d(Tt)})}var nt=t(ot,2);{var Et=d=>{var g=Ca(),L=a(g),C=a(L),R=t(a(C),2),z=a(R);q(z,{type:"secondary",onclick:()=>s(Ce,!1),children:(l,x)=>{var i=Ea(),c=T(i);Fe(c,{class:"mr-2 h-4 w-4"}),S(),o(l,i)},$$slots:{default:!0}});var ee=t(z,2);q(ee,{type:"primary",onclick:()=>Ie(()=>s(Ce,!1)),get disabled(){return e(Q)},children:(l,x)=>{var i=ja(),c=T(i);He(c,{class:"mr-2 h-4 w-4"});var h=t(c);W(()=>H(h,` ${e(Q)?"Saving...":e(ue)?"Saved!":"Save & Close"}`)),o(l,i)},$$slots:{default:!0}}),r(R),r(C);var B=t(C,2),Y=a(B),F=a(Y),D=a(F),te=t(a(D),2);K(te,{id:"bye-subject",type:"text",placeholder:"Sorry to see you go",get value(){return e(ve)},set value(l){s(ve,l,!0)}}),S(2),r(D);var ae=t(D,4);Ne(ae,{get variables(){return xt},get insertVariable(){return e(et)}}),r(F),r(Y);var N=t(Y,2),I=a(N),$=a(I);We($,{placeholder:"You have been unsubscribed.",showVariableInserts:!1,onInsertVariable:l=>s(et,l,!0),class:"h-full",get value(){return e(J)},set value(l){s(J,l,!0)}}),r(I);var U=t(I,2),u=a(U),p=t(a(u),2);p.__click=yt,r(u);var _=t(u,2);qe(_,{id:"bye-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e(ge)},set value(l){s(ge,l,!0)}}),S(2),r(U),r(N),r(B),r(L),r(g),o(d,g)};j(nt,d=>{e(Ce)&&d(Et)})}var jt=t(nt,2);{let d=Ae(()=>`Are you sure you want to delete "${e(P)?.name}"? This will permanently delete all subscribers and autoresponders. This action cannot be undone.`),g=Ae(()=>e(Ye)?"Deleting...":"Delete");Lt(jt,{title:"Delete List",get description(){return e(d)},get actionLabel(){return e(g)},actionType:"danger",onAction:wt,onCancel:()=>s(Te,!1),get open(){return e(Te)},set open(L){s(Te,L,!0)}})}o(ct,rt),Ut(),mt()}At(["click"]);export{Oa as component};
