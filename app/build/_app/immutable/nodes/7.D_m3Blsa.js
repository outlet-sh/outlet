import"../chunks/DsnmJJEf.js";import{p as Qt,u as Ut,b as m,s as T,i as t,j as F,d as Et,l as Gt,g as Ht,c as s,r as e,f as M,h as r,n as k,D as Jt,t as S}from"../chunks/DDjrJUyi.js";import{d as Kt,s as c}from"../chunks/CwHIudaz.js";import{s as Rt}from"../chunks/X2O9fsyW.js";import{i as O,c as xt}from"../chunks/CGvWOYBA.js";import{e as ft,s as X,a as _t,i as bt}from"../chunks/aSjiVL0V.js";import{f as u,a as l,c as Vt,t as gt}from"../chunks/DbkN8AN9.js";import{h as Xt}from"../chunks/DHP91Nzo.js";import{s as Yt,a as Zt}from"../chunks/Bcmc20em.js";import{p as te}from"../chunks/Bmxv2sD2.js";import{a0 as ee}from"../chunks/yWEY6ChK.js";import{A as se,B as re,p as ae,q as ie}from"../chunks/Bkv3Tidq.js";import{L as oe}from"../chunks/BWhLmYGf.js";import{B as de}from"../chunks/42UF-HRp.js";import{s as le}from"../chunks/BJzuI-Pd.js";import{A as ne}from"../chunks/-3LX6BNL.js";import{M as ce}from"../chunks/BVs8bTSd.js";import{U as ve}from"../chunks/saEqV212.js";import{W as me}from"../chunks/HehHO9yq.js";import{L as ue}from"../chunks/H92pgZXT.js";import{S as pe}from"../chunks/BSQgC4RN.js";const xe=async({params:L})=>({listId:L.id,orgSlug:L.orgSlug}),He=Object.freeze(Object.defineProperty({__proto__:null,load:xe},Symbol.toStringTag,{value:"Module"}));var fe=u('<div class="flex justify-center py-12"><!></div>'),_e=u("<p>The requested list could not be found.</p> <!>",1),be=u('<p class="mt-1 text-sm text-text-muted hidden sm:block"> </p>'),ge=u("<a><!> </a>"),he=u("<a><!> </a>"),ye=u('<nav class="space-y-1"></nav> <div class="mt-6 pt-6 border-t border-border"><h3 class="text-xs font-semibold text-text-muted uppercase tracking-wider mb-3">Quick Stats</h3> <div class="space-y-2 text-sm"><div class="flex justify-between"><span class="text-text-muted">Active</span> <span class="font-medium text-text"> </span></div> <div class="flex justify-between"><span class="text-text-muted">Created</span> <span class="font-medium text-text"> </span></div></div></div> <div class="mt-6 pt-6 border-t border-border"><h3 class="text-xs font-semibold text-text-muted uppercase tracking-wider mb-3">Tags</h3> <p class="text-xs text-text-muted italic">No tags yet</p></div>',1),$e=u('<div class="flex items-center gap-4 mb-6 max-w-5xl"><a class="p-2 rounded-lg hover:bg-bg-secondary transition-colors text-text-muted hover:text-text"><!></a> <div class="flex-1 min-w-0"><div class="flex items-center gap-3"><h1 class="text-xl sm:text-2xl font-semibold text-text truncate"> </h1> <!></div> <!></div> <div class="text-right flex-shrink-0"><div class="text-xl sm:text-2xl font-semibold text-text"> </div> <div class="text-xs sm:text-sm text-text-muted">subscribers</div></div> <button type="button" class="lg:hidden p-2 rounded-lg hover:bg-bg-secondary transition-colors text-text-muted hover:text-text"><!></button></div> <div class="flex gap-6"><div class="flex-1 min-w-0 lg:max-w-3xl overflow-hidden"><!></div> <div class="w-56 flex-shrink-0 hidden lg:block"><div class="sticky top-6"><nav class="space-y-1"></nav> <div class="mt-6 pt-6 border-t border-border"><h3 class="text-xs font-semibold text-text-muted uppercase tracking-wider mb-3">Quick Stats</h3> <div class="space-y-2 text-sm"><div class="flex justify-between"><span class="text-text-muted">Active</span> <span class="font-medium text-text"> </span></div> <div class="flex justify-between"><span class="text-text-muted">Created</span> <span class="font-medium text-text"> </span></div></div></div> <div class="mt-6 pt-6 border-t border-border"><h3 class="text-xs font-semibold text-text-muted uppercase tracking-wider mb-3">Tags</h3> <p class="text-xs text-text-muted italic">No tags yet</p></div></div></div></div> <!>',1),we=u('<div class="p-6"><!></div>');function Je(L,Y){Qt(Y,!0);const z=()=>Zt(te,"$page",ht),[ht,yt]=Yt();let j=F(()=>z().params.id),g=F(()=>`/${z().params.orgSlug}`),h=F(()=>z().url.pathname),I=T(!0),a=T(null),Z=T(""),P=T(!1);le({get list(){return t(a)},get listId(){return t(j)},get basePath(){return t(g)},reload:et});let tt=F(()=>()=>t(h).endsWith("/autoresponders")||t(h).includes("/autoresponders/")?"autoresponders":t(h).endsWith("/custom-fields")?"custom-fields":t(h).endsWith("/subscribe-form")?"subscribe-form":t(h).endsWith("/settings")?"settings":"subscribers");Ut(()=>{et()});async function et(){m(I,!0),m(Z,"");try{m(a,await ee({},t(j)),!0)}catch(n){console.error("Failed to load list:",n),m(Z,"Failed to load list")}finally{m(I,!1)}}const st=[{id:"subscribers",label:"Subscribers",icon:ve,href:""},{id:"autoresponders",label:"Autoresponders",icon:me,href:"/autoresponders"},{id:"custom-fields",label:"Custom Fields",icon:ue,href:"/custom-fields"},{id:"subscribe-form",label:"Subscribe Form",icon:ae,href:"/subscribe-form"},{id:"settings",label:"Settings",icon:pe,href:"/settings"}];var q=we();Xt("2tgf4r",n=>{Gt(()=>{Ht.title=`${(t(a)?.name||"List")??""} | Outlet`})});var $t=s(q);{var wt=n=>{var x=fe(),N=s(x);oe(N,{size:"large"}),e(x),l(n,x)},kt=n=>{var x=Vt(),N=M(x);{var St=f=>{se(f,{type:"error",title:"List not found",children:(A,C)=>{var p=_e(),Q=r(M(p),2);re(Q,{type:"primary",class:"mt-3",onclick:()=>window.location.href=`${t(g)}/lists`,children:(y,D)=>{k();var $=gt("Back to Lists");l(y,$)},$$slots:{default:!0}}),l(A,p)},$$slots:{default:!0}})},Lt=f=>{var A=$e(),C=M(A),p=s(C),Q=s(p);ne(Q,{class:"h-5 w-5"}),e(p);var y=r(p,2),D=s(y),$=s(D),jt=s($,!0);e($);var Pt=r($,2);{var At=i=>{de(i,{variant:"info",size:"sm",class:"hidden sm:inline-flex",children:(o,d)=>{k();var v=gt("Double opt-in");l(o,v)},$$slots:{default:!0}})};O(Pt,i=>{t(a).double_optin&&i(At)})}e(D);var Ct=r(D,2);{var Dt=i=>{var o=be(),d=s(o,!0);e(o),S(()=>c(d,t(a).description)),l(i,o)};O(Ct,i=>{t(a).description&&i(Dt)})}e(y);var U=r(y,2),rt=s(U),Wt=s(rt,!0);e(rt),k(2),e(U);var E=r(U,2);E.__click=()=>m(P,!0);var Bt=s(E);ce(Bt,{class:"h-5 w-5"}),e(E),e(C);var G=r(C,2),H=s(G),Tt=s(H);Rt(Tt,()=>Y.children??Jt),e(H);var at=r(H,2),it=s(at),J=s(it);ft(J,21,()=>st,bt,(i,o)=>{var d=ge(),v=s(d);xt(v,()=>t(o).icon,(_,w)=>{w(_,{class:"h-4 w-4 flex-shrink-0"})});var W=r(v);e(d),S(_=>{X(d,"href",`${t(g)??""}/lists/${t(j)??""}${t(o).href??""}`),_t(d,1,`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${_??""}`),c(W,` ${t(o).label??""}`)},[()=>t(tt)()===t(o).id?"bg-primary/10 text-primary":"text-text-muted hover:bg-bg-secondary hover:text-text"]),l(i,d)}),e(J);var ot=r(J,2),dt=r(s(ot),2),K=s(dt),lt=r(s(K),2),Ft=s(lt,!0);e(lt),e(K);var nt=r(K,2),ct=r(s(nt),2),Mt=s(ct,!0);e(ct),e(nt),e(dt),e(ot),k(2),e(it),e(at),e(G);var Ot=r(G,2);ie(Ot,{position:"right",get title(){return t(a).name},get open(){return t(P)},set open(i){m(P,i,!0)},children:(i,o)=>{var d=ye(),v=M(d);ft(v,21,()=>st,bt,(R,B)=>{var b=he();b.__click=()=>m(P,!1);var pt=s(b);xt(pt,()=>t(B).icon,(V,Nt)=>{Nt(V,{class:"h-5 w-5 flex-shrink-0"})});var qt=r(pt);e(b),S(V=>{X(b,"href",`${t(g)??""}/lists/${t(j)??""}${t(B).href??""}`),_t(b,1,`flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-colors ${V??""}`),c(qt,` ${t(B).label??""}`)},[()=>t(tt)()===t(B).id?"bg-primary/10 text-primary":"text-text-muted hover:bg-bg-secondary hover:text-text"]),l(R,b)}),e(v);var W=r(v,2),_=r(s(W),2),w=s(_),vt=r(s(w),2),zt=s(vt,!0);e(vt),e(w);var mt=r(w,2),ut=r(s(mt),2),It=s(ut,!0);e(ut),e(mt),e(_),e(W),k(2),S(R=>{c(zt,t(a).subscriber_count||0),c(It,R)},[()=>t(a).created_at?new Date(t(a).created_at).toLocaleDateString():"-"]),l(i,d)},$$slots:{default:!0}}),S(i=>{X(p,"href",`${t(g)??""}/lists`),c(jt,t(a).name),c(Wt,t(a).subscriber_count||0),c(Ft,t(a).subscriber_count||0),c(Mt,i)},[()=>t(a).created_at?new Date(t(a).created_at).toLocaleDateString():"-"]),l(f,A)};O(N,f=>{t(a)?f(Lt,!1):f(St)},!0)}l(n,x)};O($t,n=>{t(I)?n(wt):n(kt,!1)})}e(q),l(L,q),Et(),yt()}Kt(["click"]);export{Je as component,He as universal};
