import"../chunks/DsnmJJEf.js";import{f as T,p as Ct,u as Ve,i as e,b as s,d as Lt,j as De,s as v,h as t,c as a,r,t as W,n as S}from"../chunks/odI--4Kw.js";import{d as Ut,s as H}from"../chunks/BNMK9zrr.js";import{c as Ie,a as i,f as n,t as Ze}from"../chunks/CCInJaqd.js";import{l as At,s as Vt,i as j}from"../chunks/COaB7F5h.js";import{r as Re}from"../chunks/BohEjZuL.js";import{a as Dt,s as Rt,h as Yt,A as It,B as q,X as Je,I as K,P as Ke,E as Qe,C as re,c as zt,m as bt,u as Ye}from"../chunks/Cl-vBH7I.js";import{s as Gt,a as Mt}from"../chunks/DL1yFSKa.js";import{p as Nt}from"../chunks/CBHvnMpt.js";import{g as Bt}from"../chunks/BobdD3Sy.js";import{a1 as Ft,D as Wt,ai as Ht}from"../chunks/C03oMPLM.js";import{L as qt}from"../chunks/D716f0vp.js";import{S as et,T as tt}from"../chunks/BlUS557R.js";import{g as Ot}from"../chunks/B5W8Y6hm.js";import"../chunks/B9hjHVe6.js";import{T as Xt}from"../chunks/BWWTcCMm.js";function at(ze,ye){const $e=At(ye,["children","$$slots","$$events","$$legacy"]);const Ge=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];Dt(ze,Vt({name:"pencil"},()=>$e,{get iconNode(){return Ge},children:(Me,Ne)=>{var be=Ie(),Be=T(be);Rt(Be,ye,"default",{}),i(Me,be)},$$slots:{default:!0}}))}var Zt=n("<p> </p>"),Jt=n('<div class="flex justify-center py-12"><!></div>'),Kt=n('<h2 class="text-lg font-medium text-text mb-4">General</h2> <div class="space-y-4"><div><label for="list-name" class="form-label">List Name</label> <!></div> <div><label for="list-desc" class="form-label">Description</label> <!></div> <div><label class="form-label">Slug</label> <p class="text-sm text-text-muted bg-bg-secondary px-3 py-2 rounded-md"> </p> <p class="mt-1 text-xs text-text-muted">The slug cannot be changed after creation</p></div> <div><!> <p class="text-xs text-text-muted mt-1 ml-6">Subscribers must confirm their email before being added</p></div></div>',1),Qt=n("<!> Edit Email",1),ea=n('<span class="text-text-muted ml-2"> </span>'),ta=n('<span class="text-text-muted/50 ml-2 italic">Using default: "Please confirm your subscription"</span>'),aa=n('<span class="text-text-muted ml-2"> </span>'),ra=n('<span class="text-text-muted/50 ml-2 italic">Using default confirmation email template</span>'),sa=n('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Confirmation Email</h2> <p class="text-sm text-text-muted">Email sent to confirm subscription (double opt-in)</p></div> <!></div> <div class="bg-bg-secondary rounded-lg p-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div>',1),la=n('<div><label for="confirm-redirect-url" class="form-label">Subscription Confirmed Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone confirms their subscription (clicks the confirmation link).</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic confirmation page will be shown if left empty.</p></div>'),ia=n('<h2 class="text-lg font-medium text-text mb-2">Subscribe Settings</h2> <p class="text-sm text-text-muted mb-4">Configure redirect URLs for new subscribers.</p> <div class="space-y-4"><div><label for="thank-you-url" class="form-label">Subscribe Success Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone submits the subscribe form (before confirmation if double opt-in).</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic success page will be shown if left empty.</p></div> <!> <div><label for="already-subscribed-url" class="form-label">Already Subscribed Redirect URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect if someone tries to subscribe but is already on the list.</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic "already subscribed" page will be shown if left empty.</p></div></div>',1),oa=n('<span class="text-text-muted ml-2"> </span>'),na=n('<span class="text-text-muted/50 ml-2 italic">Using default: "Welcome!"</span>'),da=n('<span class="text-text-muted ml-2"> </span>'),ca=n('<span class="text-text-muted/50 ml-2 italic">Using default welcome email template</span>'),va=n("<!> Edit Email",1),ua=n('<div class="border-t border-border pt-4"><div class="flex items-center justify-between mb-3"><div class="bg-bg-secondary rounded-lg p-4 flex-1 mr-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div> <!></div></div>'),ma=n('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Thank You Email</h2> <p class="text-sm text-text-muted">Send a welcome email after successful subscription</p></div> <!></div> <!>',1),ba=n('<h2 class="text-lg font-medium text-text mb-4">Unsubscribe Settings</h2> <div class="space-y-4"><div><label class="form-label">Unsubscribe Behavior</label> <div class="space-y-2"><label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-behavior" class="radio radio-primary"/> <div><span class="font-medium text-text">Single opt-out</span> <p class="text-sm text-text-muted">Immediately unsubscribe when they click the link</p></div></label> <label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-behavior" class="radio radio-primary"/> <div><span class="font-medium text-text">Double opt-out</span> <p class="text-sm text-text-muted">Require confirmation before unsubscribing</p></div></label></div></div> <div><label class="form-label">Unsubscribe Scope</label> <div class="space-y-2"><label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-scope" class="radio radio-primary"/> <div><span class="font-medium text-text">This list only</span> <p class="text-sm text-text-muted">Unsubscribe from this list, but stay on other lists</p></div></label> <label class="flex items-center gap-3 p-3 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors"><input type="radio" name="unsubscribe-scope" class="radio radio-primary"/> <div><span class="font-medium text-text">All lists</span> <p class="text-sm text-text-muted">Unsubscribe from all lists in the organization</p></div></label></div></div> <div><label for="unsubscribe-redirect-url" class="form-label">Unsubscribe Confirmation Page URL</label> <!> <p class="mt-1 text-xs text-text-muted">Where to redirect after someone unsubscribes.</p> <p class="mt-0.5 text-xs text-text-muted/60 italic">A generic unsubscribe confirmation page will be shown if left empty.</p></div></div>',1),fa=n('<span class="text-text-muted ml-2"> </span>'),pa=n('<span class="text-text-muted/50 ml-2 italic">Using default: "Sorry to see you go"</span>'),_a=n('<span class="text-text-muted ml-2"> </span>'),xa=n('<span class="text-text-muted/50 ml-2 italic">Using default goodbye email template</span>'),ga=n("<!> Edit Email",1),ha=n('<div class="border-t border-border pt-4"><div class="flex items-center justify-between mb-3"><div class="bg-bg-secondary rounded-lg p-4 flex-1 mr-4"><div class="text-sm"><span class="font-medium text-text">Subject:</span> <!></div> <div class="text-sm mt-2"><span class="font-medium text-text">Preview:</span> <!></div></div> <!></div></div>'),ya=n('<div class="flex items-center justify-between mb-4"><div><h2 class="text-lg font-medium text-text">Goodbye Email</h2> <p class="text-sm text-text-muted">Send a farewell email after unsubscribing</p></div> <!></div> <!>',1),$a=n(`<div class="flex items-center justify-between"><p class="text-sm text-text-muted">Save all changes to this list's settings</p> <!></div>`),wa=n("<!> Delete List",1),ka=n('<h2 class="text-lg font-medium text-red-600 mb-4">Danger Zone</h2> <p class="text-sm text-text-muted mb-4">Permanently delete this list and all its subscribers. This action cannot be undone.</p> <!>',1),Sa=n('<div class="space-y-6"><!> <!> <!> <!> <!> <!> <!> <!></div>'),Pa=n("<!> Cancel",1),Ta=n("<!> ",1),Ea=n(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Confirmation Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="conf-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent when someone subscribes to your list with double opt-in enabled.
								It must include a confirmation link for the subscriber to click.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <!></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="conf-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),ja=n("<!> Cancel",1),Ca=n("<!> ",1),La=n(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Thank You Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="ty-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent after someone successfully subscribes to your list.
								Use it to welcome new subscribers and set expectations.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <!></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="ty-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),Ua=n("<!> Cancel",1),Aa=n("<!> ",1),Va=n(`<div class="fixed inset-0 z-50 bg-base-200"><div class="h-full flex flex-col"><div class="bg-base-100 border-b border-base-300 px-6 py-4 flex items-center justify-between flex-shrink-0"><h3 class="text-lg font-semibold text-base-content">Edit Goodbye Email</h3> <div class="flex items-center gap-3"><!> <!></div></div> <div class="flex-1 overflow-hidden flex"><div class="w-80 bg-base-100 border-r border-base-300 p-6 overflow-y-auto flex-shrink-0"><div class="space-y-6"><div><label for="bye-subject" class="form-label">Subject Line</label> <!> <p class="mt-1 text-xs text-base-content/50 italic">A generic subject line will be used if you leave this field empty.</p></div> <div class="bg-base-200 rounded-lg p-4"><h4 class="text-sm font-medium text-base-content mb-2">About This Email</h4> <p class="text-xs text-base-content/70">This email is sent after someone unsubscribes from your list.
								Consider including a way for them to resubscribe if they change their mind.</p> <p class="text-xs text-base-content/50 italic mt-2">A generic email message will be used if you leave the body empty.</p></div> <!></div></div> <div class="flex-1 flex flex-col overflow-hidden p-6 gap-4"><div class="flex-1 min-h-0"><!></div> <div class="flex-shrink-0"><div class="flex items-center justify-between mb-1"><label for="bye-plaintext" class="form-label mb-0">Plain Text Version</label> <button type="button" class="text-xs text-primary hover:text-primary/80">Regenerate from HTML</button></div> <!> <p class="mt-1 text-xs text-base-content/50 italic">Auto-generated from HTML if left empty. Edit to customize.</p></div></div></div></div></div>`),Da=n("<!> <!> <!> <!> <!> <!>",1);function Ka(ze,ye){Ct(ye,!0);const $e=()=>Mt(Nt,"$page",Ge),[Ge,Me]=Gt(),Ne=[],be=[],Be=Ot();let Fe=De(()=>$e().params.id),ft=De(()=>`/${$e().params.brandSlug}`),We=v(!0),P=v(null),se=v(""),we=v(!1),ke=v(!1),fe=v(""),Se=v(""),ie=v(!0),oe=v(""),X=v(""),pe=v(""),Pe=v(""),Te=v(""),Ee=v(""),_e=v(!1),ne=v(""),Z=v(""),xe=v(""),de=v("single"),ce=v("list"),je=v(""),ge=v(!1),ve=v(""),J=v(""),he=v(""),Ce=v(!1),He=v(!1),Le=v(!1),Ue=v(!1),Ae=v(!1),Q=v(!1),ue=v(!1),rt=v(null),st=v(null),lt=v(null);const pt=[{name:"confirm_url",label:"Confirmation link",required:!0},{name:"name",label:"Subscriber name"},{name:"email",label:"Subscriber email"},{name:"name,fallback=Friend",label:"Name with fallback"}],_t=[{name:"name",label:"Subscriber name"},{name:"email",label:"Subscriber email"},{name:"name,fallback=Friend",label:"Name with fallback"},{name:"currentday",label:"Day name"},{name:"currentmonth",label:"Month name"},{name:"currentyear",label:"Year"},{name:"unsubscribe_url",label:"Unsubscribe link"},{name:"webversion_url",label:"Web version link"}],xt=[{name:"name",label:"Subscriber name"},{name:"email",label:"Subscriber email"},{name:"name,fallback=Friend",label:"Name with fallback"},{name:"resubscribe_url",label:"Resubscribe link"}];function me(d){return d?d.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<br\s*\/?>/gi,`
`).replace(/<\/p>/gi,`

`).replace(/<\/div>/gi,`
`).replace(/<\/li>/gi,`
`).replace(/<a[^>]*href=["']([^"']*)["'][^>]*>([^<]*)<\/a>/gi,"$2 ($1)").replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\n{3,}/g,`

`).trim():""}Ve(()=>{e(X)&&!e(pe).trim()&&s(pe,me(e(X)),!0)}),Ve(()=>{e(Z)&&!e(xe).trim()&&s(xe,me(e(Z)),!0)}),Ve(()=>{e(J)&&!e(he).trim()&&s(he,me(e(J)),!0)});function gt(){s(pe,me(e(X)),!0)}function ht(){s(xe,me(e(Z)),!0)}function yt(){s(he,me(e(J)),!0)}Ve(()=>{it()});async function it(){s(We,!0),s(se,"");try{s(P,await Ft({},e(Fe)),!0),s(fe,e(P).name,!0),s(Se,e(P).description||"",!0),s(ie,e(P).double_optin||!1,!0),s(oe,e(P).confirmation_subject||"",!0),s(X,e(P).confirmation_body||"",!0),s(Pe,e(P).thank_you_url||"",!0),s(Te,e(P).confirm_redirect_url||"",!0),s(Ee,e(P).already_subscribed_url||"",!0),s(_e,e(P).thank_you_email_enabled||!1,!0),s(ne,e(P).thank_you_email_subject||"",!0),s(Z,e(P).thank_you_email_body||"",!0),s(de,e(P).unsubscribe_behavior||"single",!0),s(ce,e(P).unsubscribe_scope||"list",!0),s(je,e(P).unsubscribe_redirect_url||"",!0),s(ge,e(P).goodbye_email_enabled||!1,!0),s(ve,e(P).goodbye_email_subject||"",!0),s(J,e(P).goodbye_email_body||"",!0)}catch(d){console.error("Failed to load list:",d),s(se,"Failed to load list settings")}finally{s(We,!1)}}async function ot(){if(!(!e(P)||!e(fe).trim())){s(we,!0),s(ke,!1),s(se,"");try{await Ht({},{name:e(fe).trim(),description:e(Se).trim(),double_optin:e(ie),confirmation_subject:e(oe).trim()||void 0,confirmation_body:e(X).trim()||void 0,thank_you_url:e(Pe).trim()||void 0,confirm_redirect_url:e(Te).trim()||void 0,already_subscribed_url:e(Ee).trim()||void 0,thank_you_email_enabled:e(_e),thank_you_email_subject:e(ne).trim()||void 0,thank_you_email_body:e(Z).trim()||void 0,unsubscribe_behavior:e(de),unsubscribe_scope:e(ce),unsubscribe_redirect_url:e(je).trim()||void 0,goodbye_email_enabled:e(ge),goodbye_email_subject:e(ve).trim()||void 0,goodbye_email_body:e(J).trim()||void 0},e(Fe)),await it(),await Be.reload?.(),s(ke,!0),setTimeout(()=>{s(ke,!1)},2e3)}catch(d){s(se,d.message||"Failed to save settings",!0)}finally{s(we,!1)}}}async function qe(d){s(Q,!0),s(ue,!1);try{await ot(),s(ue,!0),setTimeout(()=>{d(),s(ue,!1)},500)}catch{}finally{s(Q,!1)}}async function $t(){s(He,!0);try{await Wt({},e(Fe)),Bt(`${e(ft)}/lists`)}catch(d){s(se,d.message||"Failed to delete list",!0)}finally{s(He,!1)}}function Oe(d){if(!d)return"No content yet";const g=d.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();return g.slice(0,100)+(g.length>100?"...":"")}var nt=Da(),dt=T(nt);{var wt=d=>{It(d,{type:"error",title:"Error",class:"mb-4",children:(g,A)=>{var C=Zt(),D=a(C,!0);r(C),W(()=>H(D,e(se))),i(g,C)},$$slots:{default:!0}})};j(dt,d=>{e(se)&&d(wt)})}var ct=t(dt,2);{var kt=d=>{var g=Jt(),A=a(g);qt(A,{}),r(g),i(d,g)},St=d=>{var g=Ie(),A=T(g);{var C=D=>{var G=Sa(),ee=a(G);re(ee,{children:(w,L)=>{var u=Kt(),p=t(T(u),2),_=a(p),l=t(a(_),2);K(l,{id:"list-name",type:"text",get value(){return e(fe)},set value(E){s(fe,E,!0)}}),r(_);var x=t(_,2),o=t(a(x),2);K(o,{id:"list-desc",type:"text",placeholder:"Optional description",get value(){return e(Se)},set value(E){s(Se,E,!0)}}),r(x);var c=t(x,2),h=t(a(c),2),f=a(h,!0);r(h),S(2),r(c);var y=t(c,2),V=a(y);zt(V,{label:"Require double opt-in",get checked(){return e(ie)},set checked(E){s(ie,E,!0)}}),S(2),r(y),r(p),W(()=>H(f,e(P).slug)),i(w,u)},$$slots:{default:!0}});var N=t(ee,2);{var Y=w=>{re(w,{children:(L,u)=>{var p=sa(),_=T(p),l=t(a(_),2);q(l,{type:"secondary",onclick:()=>s(Le,!0),children:(m,k)=>{var M=Qt(),U=T(M);at(U,{class:"mr-2 h-4 w-4"}),S(),i(m,M)},$$slots:{default:!0}}),r(_);var x=t(_,2),o=a(x),c=t(a(o),2);{var h=m=>{var k=ea(),M=a(k,!0);r(k),W(()=>H(M,e(oe))),i(m,k)},f=m=>{var k=ta();i(m,k)};j(c,m=>{e(oe)?m(h):m(f,!1)})}r(o);var y=t(o,2),V=t(a(y),2);{var E=m=>{var k=aa(),M=a(k,!0);r(k),W(U=>H(M,U),[()=>Oe(e(X))]),i(m,k)},O=m=>{var k=ra();i(m,k)};j(V,m=>{e(X)?m(E):m(O,!1)})}r(y),r(x),i(L,p)},$$slots:{default:!0}})};j(N,w=>{e(ie)&&w(Y)})}var B=t(N,2);re(B,{children:(w,L)=>{var u=ia(),p=t(T(u),4),_=a(p),l=t(a(_),2);K(l,{id:"thank-you-url",type:"url",placeholder:"https://yoursite.com/thank-you",get value(){return e(Pe)},set value(f){s(Pe,f,!0)}}),S(4),r(_);var x=t(_,2);{var o=f=>{var y=la(),V=t(a(y),2);K(V,{id:"confirm-redirect-url",type:"url",placeholder:"https://yoursite.com/subscription-confirmed",get value(){return e(Te)},set value(E){s(Te,E,!0)}}),S(4),r(y),i(f,y)};j(x,f=>{e(ie)&&f(o)})}var c=t(x,2),h=t(a(c),2);K(h,{id:"already-subscribed-url",type:"url",placeholder:"https://yoursite.com/already-subscribed",get value(){return e(Ee)},set value(f){s(Ee,f,!0)}}),S(4),r(c),r(p),i(w,u)},$$slots:{default:!0}});var R=t(B,2);re(R,{children:(w,L)=>{var u=ma(),p=T(u),_=t(a(p),2);bt(_,{get checked(){return e(_e)},set checked(o){s(_e,o,!0)}}),r(p);var l=t(p,2);{var x=o=>{var c=ua(),h=a(c),f=a(h),y=a(f),V=t(a(y),2);{var E=b=>{var $=oa(),z=a($,!0);r($),W(()=>H(z,e(ne))),i(b,$)},O=b=>{var $=na();i(b,$)};j(V,b=>{e(ne)?b(E):b(O,!1)})}r(y);var m=t(y,2),k=t(a(m),2);{var M=b=>{var $=da(),z=a($,!0);r($),W(le=>H(z,le),[()=>Oe(e(Z))]),i(b,$)},U=b=>{var $=ca();i(b,$)};j(k,b=>{e(Z)?b(M):b(U,!1)})}r(m),r(f);var Xe=t(f,2);q(Xe,{type:"secondary",onclick:()=>s(Ue,!0),children:(b,$)=>{var z=va(),le=T(z);at(le,{class:"mr-2 h-4 w-4"}),S(),i(b,z)},$$slots:{default:!0}}),r(h),r(c),i(o,c)};j(l,o=>{e(_e)&&o(x)})}i(w,u)},$$slots:{default:!0}});var te=t(R,2);re(te,{children:(w,L)=>{var u=ba(),p=t(T(u),2),_=a(p),l=t(a(_),2),x=a(l),o=a(x);Re(o),o.value=o.__value="single",S(2),r(x);var c=t(x,2),h=a(c);Re(h),h.value=h.__value="double",S(2),r(c),r(l),r(_);var f=t(_,2),y=t(a(f),2),V=a(y),E=a(V);Re(E),E.value=E.__value="list",S(2),r(V);var O=t(V,2),m=a(O);Re(m),m.value=m.__value="all",S(2),r(O),r(y),r(f);var k=t(f,2),M=t(a(k),2);K(M,{id:"unsubscribe-redirect-url",type:"url",placeholder:"https://yoursite.com/unsubscribed",get value(){return e(je)},set value(U){s(je,U,!0)}}),S(4),r(k),r(p),Ye(Ne,[],o,()=>e(de),U=>s(de,U)),Ye(Ne,[],h,()=>e(de),U=>s(de,U)),Ye(be,[],E,()=>e(ce),U=>s(ce,U)),Ye(be,[],m,()=>e(ce),U=>s(ce,U)),i(w,u)},$$slots:{default:!0}});var ae=t(te,2);re(ae,{children:(w,L)=>{var u=ya(),p=T(u),_=t(a(p),2);bt(_,{get checked(){return e(ge)},set checked(o){s(ge,o,!0)}}),r(p);var l=t(p,2);{var x=o=>{var c=ha(),h=a(c),f=a(h),y=a(f),V=t(a(y),2);{var E=b=>{var $=fa(),z=a($,!0);r($),W(()=>H(z,e(ve))),i(b,$)},O=b=>{var $=pa();i(b,$)};j(V,b=>{e(ve)?b(E):b(O,!1)})}r(y);var m=t(y,2),k=t(a(m),2);{var M=b=>{var $=_a(),z=a($,!0);r($),W(le=>H(z,le),[()=>Oe(e(J))]),i(b,$)},U=b=>{var $=xa();i(b,$)};j(k,b=>{e(J)?b(M):b(U,!1)})}r(m),r(f);var Xe=t(f,2);q(Xe,{type:"secondary",onclick:()=>s(Ae,!0),children:(b,$)=>{var z=ga(),le=T(z);at(le,{class:"mr-2 h-4 w-4"}),S(),i(b,z)},$$slots:{default:!0}}),r(h),r(c),i(o,c)};j(l,o=>{e(ge)&&o(x)})}i(w,u)},$$slots:{default:!0}});var F=t(ae,2);re(F,{children:(w,L)=>{var u=$a(),p=t(a(u),2);q(p,{type:"primary",onclick:ot,get disabled(){return e(we)},children:(_,l)=>{var x=Ie(),o=T(x);{var c=f=>{var y=Ze("Saving...");i(f,y)},h=f=>{var y=Ie(),V=T(y);{var E=m=>{var k=Ze("Saved!");i(m,k)},O=m=>{var k=Ze("Save Changes");i(m,k)};j(V,m=>{e(ke)?m(E):m(O,!1)},!0)}i(f,y)};j(o,f=>{e(we)?f(c):f(h,!1)})}i(_,x)},$$slots:{default:!0}}),r(u),i(w,u)},$$slots:{default:!0}});var I=t(F,2);re(I,{children:(w,L)=>{var u=ka(),p=t(T(u),4);q(p,{type:"danger",onclick:()=>s(Ce,!0),children:(_,l)=>{var x=wa(),o=T(x);Xt(o,{class:"mr-2 h-4 w-4"}),S(),i(_,x)},$$slots:{default:!0}}),i(w,u)},$$slots:{default:!0}}),r(G),i(D,G)};j(A,D=>{e(P)&&D(C)},!0)}i(d,g)};j(ct,d=>{e(We)?d(kt):d(St,!1)})}var vt=t(ct,2);{var Pt=d=>{var g=Ea(),A=a(g),C=a(A),D=t(a(C),2),G=a(D);q(G,{type:"secondary",onclick:()=>s(Le,!1),children:(l,x)=>{var o=Pa(),c=T(o);Je(c,{class:"mr-2 h-4 w-4"}),S(),i(l,o)},$$slots:{default:!0}});var ee=t(G,2);q(ee,{type:"primary",onclick:()=>qe(()=>s(Le,!1)),get disabled(){return e(Q)},children:(l,x)=>{var o=Ta(),c=T(o);et(c,{class:"mr-2 h-4 w-4"});var h=t(c);W(()=>H(h,` ${e(Q)?"Saving...":e(ue)?"Saved!":"Save & Close"}`)),i(l,o)},$$slots:{default:!0}}),r(D),r(C);var N=t(C,2),Y=a(N),B=a(Y),R=a(B),te=t(a(R),2);K(te,{id:"conf-subject",type:"text",placeholder:"Please confirm your subscription",get value(){return e(oe)},set value(l){s(oe,l,!0)}}),S(2),r(R);var ae=t(R,4);Ke(ae,{get variables(){return pt},get insertVariable(){return e(rt)}}),r(B),r(Y);var F=t(Y,2),I=a(F),w=a(I);Qe(w,{placeholder:"Click the link below to confirm your subscription...",showVariableInserts:!1,onInsertVariable:l=>s(rt,l,!0),class:"h-full",get value(){return e(X)},set value(l){s(X,l,!0)}}),r(I);var L=t(I,2),u=a(L),p=t(a(u),2);p.__click=gt,r(u);var _=t(u,2);tt(_,{id:"conf-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e(pe)},set value(l){s(pe,l,!0)}}),S(2),r(L),r(F),r(N),r(A),r(g),i(d,g)};j(vt,d=>{e(Le)&&d(Pt)})}var ut=t(vt,2);{var Tt=d=>{var g=La(),A=a(g),C=a(A),D=t(a(C),2),G=a(D);q(G,{type:"secondary",onclick:()=>s(Ue,!1),children:(l,x)=>{var o=ja(),c=T(o);Je(c,{class:"mr-2 h-4 w-4"}),S(),i(l,o)},$$slots:{default:!0}});var ee=t(G,2);q(ee,{type:"primary",onclick:()=>qe(()=>s(Ue,!1)),get disabled(){return e(Q)},children:(l,x)=>{var o=Ca(),c=T(o);et(c,{class:"mr-2 h-4 w-4"});var h=t(c);W(()=>H(h,` ${e(Q)?"Saving...":e(ue)?"Saved!":"Save & Close"}`)),i(l,o)},$$slots:{default:!0}}),r(D),r(C);var N=t(C,2),Y=a(N),B=a(Y),R=a(B),te=t(a(R),2);K(te,{id:"ty-subject",type:"text",placeholder:"Welcome to our list!",get value(){return e(ne)},set value(l){s(ne,l,!0)}}),S(2),r(R);var ae=t(R,4);Ke(ae,{get variables(){return _t},get insertVariable(){return e(st)}}),r(B),r(Y);var F=t(Y,2),I=a(F),w=a(I);Qe(w,{placeholder:"Thank you for subscribing!",showVariableInserts:!1,onInsertVariable:l=>s(st,l,!0),class:"h-full",get value(){return e(Z)},set value(l){s(Z,l,!0)}}),r(I);var L=t(I,2),u=a(L),p=t(a(u),2);p.__click=ht,r(u);var _=t(u,2);tt(_,{id:"ty-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e(xe)},set value(l){s(xe,l,!0)}}),S(2),r(L),r(F),r(N),r(A),r(g),i(d,g)};j(ut,d=>{e(Ue)&&d(Tt)})}var mt=t(ut,2);{var Et=d=>{var g=Va(),A=a(g),C=a(A),D=t(a(C),2),G=a(D);q(G,{type:"secondary",onclick:()=>s(Ae,!1),children:(l,x)=>{var o=Ua(),c=T(o);Je(c,{class:"mr-2 h-4 w-4"}),S(),i(l,o)},$$slots:{default:!0}});var ee=t(G,2);q(ee,{type:"primary",onclick:()=>qe(()=>s(Ae,!1)),get disabled(){return e(Q)},children:(l,x)=>{var o=Aa(),c=T(o);et(c,{class:"mr-2 h-4 w-4"});var h=t(c);W(()=>H(h,` ${e(Q)?"Saving...":e(ue)?"Saved!":"Save & Close"}`)),i(l,o)},$$slots:{default:!0}}),r(D),r(C);var N=t(C,2),Y=a(N),B=a(Y),R=a(B),te=t(a(R),2);K(te,{id:"bye-subject",type:"text",placeholder:"Sorry to see you go",get value(){return e(ve)},set value(l){s(ve,l,!0)}}),S(2),r(R);var ae=t(R,4);Ke(ae,{get variables(){return xt},get insertVariable(){return e(lt)}}),r(B),r(Y);var F=t(Y,2),I=a(F),w=a(I);Qe(w,{placeholder:"You have been unsubscribed.",showVariableInserts:!1,onInsertVariable:l=>s(lt,l,!0),class:"h-full",get value(){return e(J)},set value(l){s(J,l,!0)}}),r(I);var L=t(I,2),u=a(L),p=t(a(u),2);p.__click=yt,r(u);var _=t(u,2);tt(_,{id:"bye-plaintext",placeholder:"Plain text version of this email",rows:4,get value(){return e(he)},set value(l){s(he,l,!0)}}),S(2),r(L),r(F),r(N),r(A),r(g),i(d,g)};j(mt,d=>{e(Ae)&&d(Et)})}var jt=t(mt,2);{let d=De(()=>`Are you sure you want to delete "${e(P)?.name}"? This will permanently delete all subscribers and autoresponders. This action cannot be undone.`),g=De(()=>e(He)?"Deleting...":"Delete");Yt(jt,{title:"Delete List",get description(){return e(d)},get actionLabel(){return e(g)},actionType:"danger",onAction:$t,onCancel:()=>s(Ce,!1),get open(){return e(Ce)},set open(A){s(Ce,A,!0)}})}i(ze,nt),Lt(),Me()}Ut(["click"]);export{Ka as component};
