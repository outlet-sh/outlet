import"../chunks/Bzak7iHL.js";import{p as Qe,d as x,j as We,u as Xe,b as a,f as b,s as i,c as s,a as Ze,h as et,g as t,t as L,e as oe,$ as tt,n as h,r}from"../chunks/Ip2DykXx.js";import{s as w}from"../chunks/DhOIAuLg.js";import{f as m,a as o,c as le,t as I}from"../chunks/BPgbRZ5o.js";import{i as K}from"../chunks/BeCi3WIf.js";import{e as at,i as rt}from"../chunks/-0-Kn73z.js";import{h as st}from"../chunks/vHZS38u2.js";import{e as ot,f as lt,h as it}from"../chunks/CtwFYI68.js";import{B as M,C as ie,M as ye,d as nt,I as he,A as $e}from"../chunks/Bphptf_a.js";import{L as dt}from"../chunks/sFH_xjRy.js";import{B as ne}from"../chunks/CK6k7lQK.js";import{P as ge}from"../chunks/C0D2ZjIj.js";import{C as vt}from"../chunks/Dx9qyz7C.js";import{C as ct}from"../chunks/C65kbecp.js";import{K as Pe}from"../chunks/Chj-r0eb.js";var ut=m("<!> Create API Key",1),pt=m("<p> </p>"),ft=m("<!> Create API Key",1),mt=m('<div class="text-center py-12"><!> <h3 class="mt-2 text-sm font-medium text-text">No API keys</h3> <p class="mt-1 text-sm text-text-muted">Create an API key to connect AI assistants via MCP.</p> <div class="mt-6"><!></div></div>'),_t=m("<span> </span>"),xt=m("<span>Never used</span>"),yt=m('<div class="flex items-center justify-between py-4 first:pt-0 last:pb-0"><div class="flex items-center gap-3"><div class="h-10 w-10 rounded-full bg-surface-elevated flex items-center justify-center"><!></div> <div><div class="flex items-center gap-2"><span class="font-medium text-text"> </span> <code class="text-xs bg-surface-elevated px-2 py-0.5 rounded text-text-muted"> </code> <!></div> <div class="flex items-center gap-4 text-sm text-text-muted"><span> </span> <!></div></div></div> <div class="flex items-center gap-2"><!></div></div>'),ht=m('<div class="divide-y divide-border"></div>'),$t=m('<h3 class="text-sm font-medium text-text mb-3">Usage Instructions</h3> <div class="text-sm text-text-muted space-y-2"><p>Use your API key to connect AI assistants to Outlet via the Model Context Protocol (MCP).</p> <p class="font-medium text-text mt-4">For Claude Desktop:</p> <pre class="bg-surface-elevated p-3 rounded text-xs overflow-x-auto mt-2"><code></code></pre></div>',1),gt=m('<div class="flex justify-end gap-3"><!> <!></div>'),Pt=m('<div class="space-y-4"><div><label for="new-name" class="form-label">Name</label> <!> <p class="text-xs text-text-muted mt-1">A name to identify this key</p></div> <div><label for="new-expires" class="form-label">Expiration (optional)</label> <!> <p class="text-xs text-text-muted mt-1">Leave empty for no expiration</p></div></div>'),wt=m('<div class="flex justify-end"><!></div>'),At=m(`<p>This is the only time you'll see the full API key. Copy it now - you won't be able to see it
				again.</p>`),kt=m('<div class="space-y-4"><!> <div><label class="form-label">Your API Key</label> <div class="flex gap-2"><code class="flex-1 bg-surface-elevated p-3 rounded text-sm font-mono break-all"> </code> <!></div></div></div>'),Ct=m('<div class="space-y-6"><div class="flex justify-between items-center"><div><p class="text-sm text-text-secondary">Manage API keys for MCP (Claude, ChatGPT) integrations</p> <p class="text-xs text-text-muted mt-1">API keys allow AI assistants to manage your SaaS through the Model Context Protocol</p></div> <!></div> <!> <!> <!></div> <!> <!> <!>',1);function Ut(we,Ae){Qe(Ae,!0);let H=x(!0),J=x(We([])),A=x(""),O=x(!1),S=x(!1),D=x(""),G=x(""),V=x(!1),B=x(""),Y=x(!1),T=x(!1),k=x(null),Q=x(!1);Xe(()=>{W()});async function W(){a(H,!0),a(A,"");try{const e=await ot();a(J,e.keys||[],!0)}catch(e){console.error("Failed to load API keys:",e),a(A,"Failed to load API keys")}finally{a(H,!1)}}function de(){a(D,""),a(G,""),a(O,!0)}function ve(){a(O,!1)}async function ke(){if(t(D)){a(S,!0),a(A,"");try{const e=await lt({name:t(D),expires_at:t(G)||void 0});ve(),a(B,e.key||"",!0),a(V,!0),await W()}catch(e){console.error("Failed to create API key:",e),a(A,e.message||"Failed to create API key",!0)}finally{a(S,!1)}}}function Ce(){a(V,!1),a(B,""),a(Y,!1)}async function be(){t(B)&&(await navigator.clipboard.writeText(t(B)),a(Y,!0),setTimeout(()=>{a(Y,!1)},2e3))}function Ie(e){a(k,e,!0),a(T,!0)}async function Ke(){if(t(k)){a(Q,!0);try{await it({},t(k).id),a(T,!1),a(k,null),await W()}catch(e){console.error("Failed to revoke API key:",e),a(A,e.message||"Failed to revoke API key",!0)}finally{a(Q,!1)}}}function X(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}function Me(e){return e?new Date(e)<new Date:!1}var ce=Ct();st("1cfnn4r",e=>{et(()=>{tt.title="API Keys - Outlet"})});var Z=b(ce),ee=s(Z),De=i(s(ee),2);M(De,{type:"primary",onclick:de,children:(e,n)=>{var d=ut(),l=b(d);ge(l,{class:"mr-2 h-4 w-4"}),h(),o(e,d)},$$slots:{default:!0}}),r(ee);var ue=i(ee,2);{var Fe=e=>{$e(e,{type:"error",title:"Error",children:(n,d)=>{var l=pt(),c=s(l,!0);r(l),L(()=>w(c,t(A))),o(n,l)},$$slots:{default:!0}})};K(ue,e=>{t(A)&&e(Fe)})}var pe=i(ue,2);{var Ne=e=>{dt(e,{size:"large"})},Re=e=>{var n=le(),d=b(n);{var l=v=>{ie(v,{children:(_,$)=>{var f=mt(),F=s(f);Pe(F,{class:"mx-auto h-12 w-12 text-text-muted"});var u=i(F,6),C=s(u);M(C,{type:"primary",onclick:de,children:(g,N)=>{var R=ft(),j=b(R);ge(j,{class:"mr-2 h-4 w-4"}),h(),o(g,R)},$$slots:{default:!0}}),r(u),r(f),o(_,f)},$$slots:{default:!0}})},c=v=>{ie(v,{children:(_,$)=>{var f=ht();at(f,21,()=>t(J),rt,(F,u)=>{var C=yt(),g=s(C),N=s(g),R=s(N);Pe(R,{class:"h-5 w-5 text-text-muted"}),r(N);var j=i(N,2),P=s(j),te=s(P),Ee=s(te,!0);r(te);var ae=i(te,2),Le=s(ae);r(ae);var Se=i(ae,2);{var Be=p=>{ne(p,{variant:"error",size:"sm",children:(y,z)=>{h();var U=I("Expired");o(y,U)},$$slots:{default:!0}})},Te=p=>{var y=le(),z=b(y);{var U=E=>{ne(E,{variant:"warning",size:"sm",children:(se,He)=>{h();var q=I();L(Je=>w(q,`Expires ${Je??""}`),[()=>X(t(u).expires_at)]),o(se,q)},$$slots:{default:!0}})},qe=E=>{ne(E,{variant:"success",size:"sm",children:(se,He)=>{h();var q=I("Active");o(se,q)},$$slots:{default:!0}})};K(z,E=>{t(u).expires_at?E(U):E(qe,!1)},!0)}o(p,y)};K(Se,p=>{t(u).expires_at&&Me(t(u).expires_at)?p(Be):p(Te,!1)})}r(P);var _e=i(P,2),re=s(_e),Ue=s(re);r(re);var Oe=i(re,2);{var Ge=p=>{var y=_t(),z=s(y);r(y),L(U=>w(z,`Last used ${U??""}`),[()=>X(t(u).last_used)]),o(p,y)},Ve=p=>{var y=xt();o(p,y)};K(Oe,p=>{t(u).last_used?p(Ge):p(Ve,!1)})}r(_e),r(j),r(g);var xe=i(g,2),Ye=s(xe);M(Ye,{type:"danger",size:"sm",onclick:()=>Ie(t(u)),children:(p,y)=>{h();var z=I("Revoke");o(p,z)},$$slots:{default:!0}}),r(xe),r(C),L(p=>{w(Ee,t(u).name),w(Le,`${t(u).key_prefix??""}...`),w(Ue,`Created ${p??""}`)},[()=>X(t(u).created_at)]),o(F,C)}),r(f),o(_,f)},$$slots:{default:!0}})};K(d,v=>{t(J).length===0?v(l):v(c,!1)},!0)}o(e,n)};K(pe,e=>{t(H)?e(Ne):e(Re,!1)})}var je=i(pe,2);ie(je,{children:(e,n)=>{var d=$t(),l=i(b(d),2),c=i(s(l),4),v=s(c);v.textContent=`{
  "mcpServers": {
    "outlet": {
      "transport": {
        "type": "sse",
        "url": "https://outlet.sh/mcp/sse",
        "headers": {
          "Authorization": "Bearer lv_your_api_key"
        }
      }
    }
  }
}`,r(c),r(l),o(e,d)},$$slots:{default:!0}}),r(Z);var fe=i(Z,2);ye(fe,{title:"Create API Key",get show(){return t(O)},set show(n){a(O,n,!0)},footer:n=>{var d=gt(),l=s(d);M(l,{type:"secondary",onclick:ve,get disabled(){return t(S)},children:(v,_)=>{h();var $=I("Cancel");o(v,$)},$$slots:{default:!0}});var c=i(l,2);{let v=oe(()=>!t(D)||t(S));M(c,{type:"primary",onclick:ke,get disabled(){return t(v)},children:(_,$)=>{h();var f=I();L(()=>w(f,t(S)?"Creating...":"Create Key")),o(_,f)},$$slots:{default:!0}})}r(d),o(n,d)},children:(n,d)=>{var l=Pt(),c=s(l),v=i(s(c),2);he(v,{id:"new-name",type:"text",placeholder:"My API Key",get value(){return t(D)},set value(f){a(D,f,!0)}}),h(2),r(c);var _=i(c,2),$=i(s(_),2);he($,{id:"new-expires",type:"date",get value(){return t(G)},set value(f){a(G,f,!0)}}),h(2),r(_),r(l),o(n,l)},$$slots:{footer:!0,default:!0}});var me=i(fe,2);ye(me,{title:"API Key Created",get show(){return t(V)},set show(n){a(V,n,!0)},footer:n=>{var d=wt(),l=s(d);M(l,{type:"primary",onclick:Ce,children:(c,v)=>{h();var _=I("Done");o(c,_)},$$slots:{default:!0}}),r(d),o(n,d)},children:(n,d)=>{var l=kt(),c=s(l);$e(c,{type:"warning",title:"Save this key now",children:(u,C)=>{var g=At();o(u,g)},$$slots:{default:!0}});var v=i(c,2),_=i(s(v),2),$=s(_),f=s($,!0);r($);var F=i($,2);M(F,{type:"secondary",onclick:be,children:(u,C)=>{var g=le(),N=b(g);{var R=P=>{vt(P,{class:"h-4 w-4 text-success"})},j=P=>{ct(P,{class:"h-4 w-4"})};K(N,P=>{t(Y)?P(R):P(j,!1)})}o(u,g)},$$slots:{default:!0}}),r(_),r(v),r(l),L(()=>w(f,t(B))),o(n,l)},$$slots:{footer:!0,default:!0}});var ze=i(me,2);{let e=oe(()=>t(k)?`Are you sure you want to revoke "${t(k).name}"? Any applications using this key will lose access immediately.`:""),n=oe(()=>t(Q)?"Revoking...":"Revoke Key");nt(ze,{title:"Revoke API Key",get description(){return t(e)},get actionLabel(){return t(n)},actionType:"danger",onAction:Ke,onCancel:()=>{a(T,!1),a(k,null)},get open(){return t(T)},set open(d){a(T,d,!0)}})}o(we,ce),Ze()}export{Ut as component};
