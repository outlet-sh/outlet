import"../chunks/DsnmJJEf.js";import{p as ke,a as te,s as x,u as $e,b as a,f as re,d as Ce,e as We,$ as Oe,g as Pe,c as t,h as s,i as r,r as e,t as z,n as R,j as ze}from"../chunks/DDjrJUyi.js";import{d as Se,e as Ue,s as b}from"../chunks/CwHIudaz.js";import{s as je}from"../chunks/X2O9fsyW.js";import{i as H}from"../chunks/CGvWOYBA.js";import{s as Ae,e as Le,i as Me}from"../chunks/aSjiVL0V.js";import{f as g,a as n,t as J}from"../chunks/DbkN8AN9.js";import{h as Ie}from"../chunks/DHP91Nzo.js";import{g as ae}from"../chunks/C_3eB2yc.js";import{g as Ne,l as Be}from"../chunks/CuiFJ7Vr.js";import{A as Fe}from"../chunks/CTcznUUV.js";import{l as Re,c as Te}from"../chunks/yWEY6ChK.js";import{M as Ee,I as se,A as Ge,B as oe}from"../chunks/DkmOYVX9.js";import{C as qe}from"../chunks/B63HsfQn.js";import{P as De}from"../chunks/D07NXJ8f.js";import{S as He}from"../chunks/DEQcaNla.js";var Je=g('<meta name="robots" content="noindex, nofollow"/>'),Ke=g('<button class="w-full px-3 py-2 flex items-center gap-3 text-left transition-colors hover:bg-base-100"><span class="flex items-center justify-center h-8 w-8 rounded-md text-xs font-semibold text-white bg-primary flex-shrink-0"> </span> <span class="flex-1 text-sm font-medium text-text truncate"> </span></button>'),Qe=g('<div class="absolute right-0 top-full mt-2 w-64 rounded-lg shadow-lg py-1 z-50 bg-white border border-base-200"><div class="px-3 py-2 border-b border-border"><p class="text-xs font-medium text-text-muted uppercase tracking-wide">Workspaces</p></div> <div class="max-h-64 overflow-y-auto"></div> <div class="border-t border-border mt-1 pt-1"><button class="w-full px-3 py-2 flex items-center gap-3 text-left transition-colors hover:bg-base-100 text-text-muted hover:text-text"><span class="flex items-center justify-center h-8 w-8 rounded-md border-2 border-dashed border-base-300 flex-shrink-0"><!></span> <span class="text-sm">Add workspace</span></button></div></div>'),Ve=g('<div class="absolute right-0 z-50 mt-2 w-56 origin-top-right rounded-lg py-1 bg-white border border-base-200 shadow-lg" role="menu" aria-orientation="vertical"><div class="px-4 py-3 border-b border-border"><p class="text-sm font-medium text-text truncate"> </p> <p class="text-xs text-text-muted capitalize"> </p></div> <a href="/settings" class="flex items-center gap-2 px-4 py-2 text-sm transition-colors text-base-700 hover:bg-base-100 hover:text-base-900" role="menuitem"><!> Settings</a> <div class="border-t border-border my-1"></div> <button class="block px-4 py-2 text-sm transition-colors text-base-700 hover:bg-base-100 hover:text-base-900 w-full text-left" role="menuitem">Sign out</button></div>'),Xe=g('<div class="min-h-screen bg-base-50"><nav class="border-b border-base-200 bg-white"><div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"><div class="flex h-16 justify-between"><div class="flex items-center"><a href="/" class="text-xl font-bold text-primary">Outlet</a></div> <div class="flex items-center space-x-4"><div class="workspace-switcher relative"><button class="flex items-center gap-2 px-2 py-1.5 rounded-lg transition-colors hover:bg-base-100 group"><span class="flex items-center justify-center h-7 w-7 rounded-md text-xs font-semibold text-white bg-primary">W</span> <span class="font-medium text-sm">Workspaces</span> <!></button> <!></div> <div class="user-menu-container relative ml-3"><div><button class="flex items-center rounded-full text-sm transition-colors focus:outline-none" aria-haspopup="true"><span class="sr-only">Open user menu</span> <div class="flex h-8 w-8 items-center justify-center rounded-full bg-primary text-white"><span class="text-sm font-medium text-white"> </span></div></button></div> <!></div></div></div></div></nav> <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"><!></main></div>'),Ye=g("<!> <!>",1),Ze=g('<div class="space-y-4"><!> <div><label for="workspace-name" class="block text-sm font-medium text-text mb-1">Workspace Name</label> <!></div> <div><label for="workspace-slug" class="block text-sm font-medium text-text mb-1">URL Slug</label> <!> <p class="text-xs text-text-muted mt-1"> </p></div></div>'),et=g("<!> <!>",1);function bt(ie,K){ke(K,!0);let S=te(Ne()),_=x(!1),Q=x(te([])),h=x(!1),U=x(!1),w=x(""),v=x(""),j=x(!1),A=x("");$e(()=>{le()});async function le(){try{const o=await Re();a(Q,o.organizations||[],!0)}catch(o){console.error("Failed to load organizations:",o)}}function ne(){Be()}function de(o){const l=o.target;l.closest(".user-menu-container")||a(_,!1),l.closest(".workspace-switcher")||a(h,!1)}function ce(o){a(h,!1),ae(`/${o}`)}function pe(o){return o.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}function ue(){a(v,pe(r(w)),!0)}function ve(){a(h,!1),a(w,""),a(v,""),a(A,""),a(U,!0)}async function me(){if(!(!r(w).trim()||!r(v).trim())){a(j,!0),a(A,"");try{const o=await Te({name:r(w).trim(),slug:r(v).trim()});a(U,!1),ae(`/${o.slug}/welcome`)}catch(o){a(A,o.message||"Failed to create workspace",!0)}finally{a(j,!1)}}}var V=et();Ue("click",Oe,de),Ie("37xve",o=>{var l=Je();We(()=>{Pe.title="Outlet"}),n(o,l)});var X=re(V);Fe(X,{children:(o,l)=>{var y=Xe(),d=t(y),k=t(d),m=t(k),u=s(t(m),2),f=t(u),c=t(f);c.__click=i=>{i.stopPropagation(),a(_,!1),a(h,!r(h))};var T=s(t(c),4);qe(T,{class:"h-4 w-4 text-text-muted group-hover:text-text transition-colors"}),e(c);var E=s(c,2);{var G=i=>{var $=Qe(),C=s(t($),2);Le(C,21,()=>r(Q),Me,(O,F)=>{var P=Ke();P.__click=()=>ce(r(F).slug);var D=t(P),he=t(D,!0);e(D);var ee=s(D,2),we=t(ee,!0);e(ee),e(P),z(ye=>{b(he,ye),b(we,r(F).name)},[()=>r(F).name[0].toUpperCase()]),n(O,P)}),e(C);var W=s(C,2),N=t(W);N.__click=ve;var B=t(N),q=t(B);De(q,{class:"h-4 w-4"}),e(B),R(2),e(N),e(W),e($),n(i,$)};H(E,i=>{r(h)&&i(G)})}e(f);var p=s(f,2),L=t(p),M=t(L);M.__click=i=>{i.stopPropagation(),a(h,!1),a(_,!r(_))};var I=s(t(M),2),Y=t(I),xe=t(Y,!0);e(Y),e(I),e(M),e(L);var be=s(L,2);{var ge=i=>{var $=Ve(),C=t($),W=t(C),N=t(W,!0);e(W);var B=s(W,2),q=t(B,!0);e(B),e(C);var O=s(C,2);O.__click=()=>a(_,!1);var F=t(O);He(F,{class:"h-4 w-4"}),R(),e(O);var P=s(O,4);P.__click=ne,e($),z(()=>{b(N,S?.name||S?.email),b(q,S?.role)}),n(i,$)};H(be,i=>{r(_)&&i(ge)})}e(p),e(u),e(m),e(k),e(d);var Z=s(d,2),_e=t(Z);je(_e,()=>K.children),e(Z),e(y),z(i=>{Ae(M,"aria-expanded",r(_)),b(xe,i)},[()=>(S?.name||S?.email||"U")[0].toUpperCase()]),n(o,y)},$$slots:{default:!0}});var fe=s(X,2);Ee(fe,{title:"Create Workspace",get show(){return r(U)},set show(l){a(U,l,!0)},footer:l=>{var y=Ye(),d=re(y);oe(d,{type:"secondary",onclick:()=>a(U,!1),get disabled(){return r(j)},children:(m,u)=>{R();var f=J("Cancel");n(m,f)},$$slots:{default:!0}});var k=s(d,2);{let m=ze(()=>!r(w).trim()||!r(v).trim()||r(j));oe(k,{type:"primary",onclick:me,get disabled(){return r(m)},children:(u,f)=>{R();var c=J();z(()=>b(c,r(j)?"Creating...":"Create Workspace")),n(u,c)},$$slots:{default:!0}})}n(l,y)},children:(l,y)=>{var d=Ze(),k=t(d);{var m=p=>{Ge(p,{type:"error",children:(L,M)=>{R();var I=J();z(()=>b(I,r(A))),n(L,I)},$$slots:{default:!0}})};H(k,p=>{r(A)&&p(m)})}var u=s(k,2),f=s(t(u),2);se(f,{id:"workspace-name",oninput:ue,placeholder:"My Company",get value(){return r(w)},set value(p){a(w,p,!0)}}),e(u);var c=s(u,2),T=s(t(c),2);se(T,{id:"workspace-slug",placeholder:"my-company",get value(){return r(v)},set value(p){a(v,p,!0)}});var E=s(T,2),G=t(E);e(E),e(c),e(d),z(()=>b(G,`This will be used in the URL: /${(r(v)||"my-company")??""}`)),n(l,d)},$$slots:{footer:!0,default:!0}}),n(ie,V),Ce()}Se(["click"]);export{bt as component};
